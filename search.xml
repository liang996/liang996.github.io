<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>2023年面试总结</title>
      <link href="2023/07306554.html"/>
      <url>2023/07306554.html</url>
      
        <content type="html"><![CDATA[<h2 id="react-hooks"><a href="#react-hooks" class="headerlink" title="react hooks"></a>react hooks</h2><p>React Hooks 是从 React 16.8 版本推出的新特性，目的是解决 React 的状态共享以及组件生命周期管理混乱的问题，Hooks 是对 React function 组件的一种扩展，通过一些特殊的函数，让无状态组件拥有状态组件才拥有的能力</p><pre class=" language-js"><code class="language-js"><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">useContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">useReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="useEffect-用法"><a href="#useEffect-用法" class="headerlink" title="useEffect 用法"></a>useEffect 用法</h2><p>useEffect 钩子是 react 钩子 API 的一部分。如果你熟悉 react 生命周期，useEffect 钩子相当于生命周期方法 <code>componentDidMount</code>、<code>componentDidUpdate</code> 和 <code>componentWillUnmount</code> 的组合。<code>useEffect</code> 是一个接受<code>两</code>个参数的函数。传递给 useEffect 的第一个参数是一个名为 effect 的函数（你可以猜到为什么这个钩子叫 useEffect），第二个参数（是可选的）是一个存储依赖关系的数组。</p><h2 id="高阶组件"><a href="#高阶组件" class="headerlink" title="高阶组件"></a>高阶组件</h2><p>高阶组件（HOC）是 React 中用于复用组件逻辑的一种高级技巧。 HOC 自身不是 React API 的一部分，它是一种基于 React 的组合特性而形成的设计模式。 具体而言，高阶组件是参数为组件，返回值为新组件的函数。<br>高阶组件不是组件，是增强函数，可以输入一个元组件，输出一个新的增强组件<br>高阶组件的主要作用是代码复用，操作状态和参数</p><h2 id="react-性能优化的方法"><a href="#react-性能优化的方法" class="headerlink" title="react 性能优化的方法"></a>react 性能优化的方法</h2><p>1.使用 React.Memo 来缓存组件</p><p>2.使用 useMemo 缓存大量的计算</p><p>3.使用 React.PureComponent , shouldComponentUpdate</p><p>4.使用 React.Fragment 避免添加额外的 DOM</p><h2 id="事件循环机制"><a href="#事件循环机制" class="headerlink" title="事件循环机制"></a>事件循环机制</h2><p>简单的说，事件循环（eventLoop）是单线程的 JavaScript 在处理异步事件时进行的一种循环过程，具体来讲，对于异步事件它会先加入到事件队列中挂起，等主线程空闲时会去执行事件队列中的事件。</p><p>主线程任务——&gt;微任务——&gt;宏任务 如果宏任务里还有微任就继续执行宏任务里的微任务，如果宏任务中的微任务中还有宏任务就在依次进行<br>主线程任务——&gt;微任务——&gt;宏任务——&gt;宏任务里的微任务——&gt;宏任务里的微任务中的宏任务——&gt;直到任务全部完成 我的理解是在同级下，微任务要优先于宏任务执行</p><p>在同一轮任务队列中，同一个微任务产生的微任务会放在这一轮微任务的后面，产生的宏任务会放在这一轮的宏任务后面<br>在同一轮任务队列中，同一个宏任务产生的微任务会马上执行，产生的宏任务会放在这一轮的宏任务后面</p><p>它不停检查 Call Stack 中是否有任务（也叫栈帧）需要执行，如果没有，就检查 Event Queue，从中弹出一个任务，放入 Call Stack 中，如此往复循环。</p><h2 id="项目是怎么部署的"><a href="#项目是怎么部署的" class="headerlink" title="项目是怎么部署的"></a>项目是怎么部署的</h2><p>1.Jenkins</p><p>2.webpack</p><h2 id="hooks-和类组件的区别"><a href="#hooks-和类组件的区别" class="headerlink" title="hooks 和类组件的区别"></a>hooks 和类组件的区别</h2><p>区别：</p><p>1、hooks 的写法比 class 简洁；</p><p>2、hooks 的业务代码比 class 更加聚合；</p><p>3、class 组件的逻辑复用通常用 render props 以及 HOC 两种方式，而 react hooks 提供了自定义 hooks 来复用逻辑。</p><h2 id="useeffects-模仿类组件生命周期"><a href="#useeffects-模仿类组件生命周期" class="headerlink" title="useeffects 模仿类组件生命周期"></a>useeffects 模仿类组件生命周期</h2><p>useEffect 钩子是 react 钩子 API 的一部分。如果你熟悉 react 生命周期，useEffect 钩子相当于生命周期方法 componentDidMount、componentDidUpdate 和 componentWillUnmount 的组合。</p><h2 id="ts-泛型了解吗"><a href="#ts-泛型了解吗" class="headerlink" title="ts 泛型了解吗"></a>ts 泛型了解吗</h2><pre><code>泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性，使接口，函数或类更加通用</code></pre><h2 id="webpack-你常用的-loader-plugin-，有做过-webpack-优化吗"><a href="#webpack-你常用的-loader-plugin-，有做过-webpack-优化吗" class="headerlink" title="webpack 你常用的 loader plugin ，有做过 webpack 优化吗"></a>webpack 你常用的 loader plugin ，有做过 webpack 优化吗</h2><p><code>常用 loader</code></p><p>（1）babel-loader：把 es6 转成 es5；</p><p>（2）css-loader：加载 css，支持模块化，压缩，文件导入等特性；</p><p>（3）style-loader：把 css 代码注入到 js 中，通过 dom 操作去加载 css；</p><p>（4）eslint-loader：通过 Eslint 检查 js 代码；</p><p>（5）image-loader：加载并且压缩图片晚间；</p><p>（6）file-loader：文件输出到一个文件夹中，在代码中通过相对 url 去引用输出的文件；</p><p>（7）url-loader：和 file-loader 类似，文件很小的时候可以 base64 方式吧文件内容注入到代码中。</p><p>（8）source-map-loader：加载额外的 source map 文件，方便调试。</p><p><code>常用 plugin</code></p><p>（1）uglifyjs-webpack-plugin：通过 UglifyJS 去压缩 js 代码；</p><p>（2）commons-chunk-plugin：提取公共代码；</p><p>（3）define-plugin：定义环境变量。</p><h2 id="webpack-原理"><a href="#webpack-原理" class="headerlink" title="webpack 原理"></a>webpack 原理</h2><p>webpack 是一个打包模块化 js 的工具，可以通过 loader 转换文件，通过 plugin 扩展功能。</p><h2 id="封装过哪些组件，怎么封装的"><a href="#封装过哪些组件，怎么封装的" class="headerlink" title="封装过哪些组件，怎么封装的"></a>封装过哪些组件，怎么封装的</h2><p>封装时考虑的因素</p><p>1.我们需要考虑到未来的可维护性和复用性，这时就需要抽象出通用的逻辑或者功能，以便在不同的项目中使用</p><p>2.在开发组件时，需要将组件内部的数据和展示进行分离，以便组件的复用性和可维护性更高。通过 props 属性将外部的数据传递给组件，以便组件可以根据外部的数据进行展示。</p><p>3.抽象组件样式：在进行组件封装时，我们需要考虑到组件的样式问题</p><h2 id="路由守卫做过吗，怎么实现的"><a href="#路由守卫做过吗，怎么实现的" class="headerlink" title="路由守卫做过吗，怎么实现的"></a>路由守卫做过吗，怎么实现的</h2><p>路由守卫是什么<br>React Router 路由守卫（Route Guard）可以用来在进入或离开某个路由时进行验证和控制，以实现路由的权限管理、用户登录验证等功能。 React Router 提供了多种路由守卫的实现方式，包括使用高阶组件、使用函数组件和使用 render 属性等方式。</p><p>与 vue 不同，vue 直接使用 beforeEach 即可实现全局路由守卫等功能。<br>react 要实现路由守卫得自己配置。<br>实现该功能的前提是你需要先掌握 react 的高阶组件的使用</p><p>需要配置一张路由表。<br>需要使用高阶组件。</p><h2 id="空值合并运算符（-）与逻辑或运算符（-）区别"><a href="#空值合并运算符（-）与逻辑或运算符（-）区别" class="headerlink" title="空值合并运算符（??）与逻辑或运算符（||）区别"></a>空值合并运算符（??）与逻辑或运算符（||）区别</h2><p>空值合并运算符（nullish coalescing operator）的写法为两个问号 ??。</p><p>我们可以使用我们已知的运算符重写 <code>result = a ?? b</code>，像这样：</p><pre class=" language-js"><code class="language-js">result <span class="token operator">=</span> a <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> a <span class="token operator">!==</span> undefined <span class="token operator">?</span> a <span class="token punctuation">:</span> b<span class="token punctuation">;</span></code></pre><p>例如，在这里，如果 user 的值不为 null/undefined 则显示 user，否则显示 匿名：</p><p>let user;</p><p>alert(user ?? “匿名”); // 匿名（user 未定义）</p><h2 id="可选链操作符"><a href="#可选链操作符" class="headerlink" title="?.(可选链操作符)"></a>?.(可选链操作符)</h2><p>?.表示：可选链操作符( ?. )允许读取位于连接对象链深处的属性的值，而不必明确验证链中的每 个引用是否有效。操作符的功能类似于 . 链式操作符，不同之处在于，在引用为空(null 或者 undefined) 的情况下不会引起错误，该表达式短路返回值</p><p>?.的个人理解 打个比方就是判断对象的某个属性是否存在，如果存在那么就返回整个属性的值，否则返回 undefined</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>  getName<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"123"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> result1 <span class="token operator">=</span> a<span class="token operator">?</span><span class="token punctuation">.</span>getName<span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 123</span><span class="token keyword">let</span> result2 <span class="token operator">=</span> a<span class="token operator">?</span><span class="token punctuation">.</span>setName<span class="token operator">?</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre><p>与函数调用一起使用时，如果给定的函数不存在，则返回 undefined，不会报错</p><p>注意： 如果被当作方法调用的是一个属性，使用?.还是会报错</p><h2 id="了解过-fiber-吗-（用于解决渲染复杂组件时产生的卡顿问题）"><a href="#了解过-fiber-吗-（用于解决渲染复杂组件时产生的卡顿问题）" class="headerlink" title="了解过 fiber 吗 （用于解决渲染复杂组件时产生的卡顿问题）"></a>了解过 fiber 吗 （用于解决渲染复杂组件时产生的卡顿问题）</h2><p>React 更新视图的原理：通过 setState 改变数据从而触发虚拟 DOM 去进行对比，对比结束后将再进行 DOM 更新。当对比少的节点时使用这种方法时比较合理的，但是当我们一次更新有几百个甚至更多组件需要进行对比时，由于 Diff 是一个同步的方法，在进行对比时，由于 JS 单线程的原因，导致其他的事件都无法响应。<br>当在这个 Diff 的过程中如果有有通过 Input 输入信息，那么他将得不到响应，显然这样体验会非常不好。</p><p>针对这样的问题，React 16+中首次引入了 React Fiber，就是用于解决渲染复杂组件时产生的卡顿问题。</p><h2 id="css-动画结束后触发一个事件怎么做"><a href="#css-动画结束后触发一个事件怎么做" class="headerlink" title="css 动画结束后触发一个事件怎么做"></a>css 动画结束后触发一个事件怎么做</h2><p>第一种方法：<br>用计时器，设定一个和动画时长一样的 time，过 time 事件去执行这个函数。</p><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>第二种方法：</p><p>当-webkit-animation 动画结束时有一个 webkitAnimationEnd 事件，只要监听这个事件就可以了。</p><p>不同浏览器的 AnimationEnd 写法</p><pre><code>(webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend)</code></pre><h2 id="判断类型的方法"><a href="#判断类型的方法" class="headerlink" title="判断类型的方法"></a>判断类型的方法</h2><p>判断类型有四种方法（不全但是相对来说挺全了，而且也够用了）</p><p>1.typeof</p><p>2.instanceof</p><p>3.constructor</p><p>4.Object.prototypy.tostring.call()</p><h2 id="ts-和-js-区别"><a href="#ts-和-js-区别" class="headerlink" title="ts 和 js 区别"></a>ts 和 js 区别</h2><p>TS 和 JS 是两种不同的编程语言。<br>JS（JavaScript）是一种流行的脚本语言，它通常用于在 Web 页面上实现交互和动态效果。它是一种动态类型语言，这意味着在编译时无需指定变量类型。</p><p>TS（TypeScript）是一种由 Microsoft 开发的开源编程语言，它是 JavaScript 的超集。TS 增加了类型注释、类、接口、枚举和其他面向对象编程的特性，这使得它更适合于大型项目。与 JS 不同的是，TS 编译器会在编译时检查类型错误，并提供更好的代码补全和文档。这些特性可以提高开发效率和代码质量。</p><p>总的来说，TS 在类型检查、面向对象编程和开发效率方面有明显的优势。但是，它也需要一些额外的学习和配置成本。对于小型项目或初学者来说，使用 JS 可能更为方便，而对于大型项目或需要更高质量保障的企业应用，则使用 TS 更为合适。</p><h2 id="http2-特点"><a href="#http2-特点" class="headerlink" title="http2 特点"></a>http2 特点</h2><p>http2 采用二进制格式传输数据，而非 HTTP 1.x 的文本格式，二进制协议解析起来更高效。 HTTP / 1 的请求和响应报文，都是由起始行，首部和实体正文（可选）组成，各部分之间以文本换行符分隔。HTTP/2 将请求和响应数据分割为更小的帧，并且它们采用二进制编码。HTTP/2 中，同域名下所有通信都在单个连接上完成，该连接可以承载任意数量的双向数据流。每个数据流都以消息的形式发送，而消息又由一个或多个帧组成。多个帧之间可以乱序发送，根据帧首部的流标识可以重新组装。</p><h2 id="map-和-weakmap"><a href="#map-和-weakmap" class="headerlink" title="map 和 weakmap"></a>map 和 weakmap</h2><p>在 ES6 中 新增了 Map 和 WeakMap 这俩个类</p><p>Map 用来存储映射关系键值对的，在普通对象在存储时，key 值只能为字符串或 Symbol 类型</p><p>Map 储存时就可以把对象或者其他类型作为一个对象的 key 值</p><p>Map 和 WeakMap 的区别：</p><p>Map 在储存时可以把任何类型作为对象的 key 值，并且它的内存引用为强引用</p><p>WeakMap 在储存时只能使用对象类型作为对象的 key 值，他的内存引用为弱引用，且不能被迭代</p><h2 id="css-中-align-content-和-align-items-区别"><a href="#css-中-align-content-和-align-items-区别" class="headerlink" title="css 中 align-content 和 align-items 区别"></a>css 中 align-content 和 align-items 区别</h2><p>1：共同点：它们对齐方向为交叉轴</p><p>2：不同点：align-content 应用于为 多行 而 align-items:应用于单行。</p><h2 id="css-中-padding-和-margin-区别"><a href="#css-中-padding-和-margin-区别" class="headerlink" title="css 中 padding 和 margin 区别"></a>css 中 padding 和 margin 区别</h2><p>margin 是用来隔开元素与元素的间距；<br>padding 是用来隔开元素与内容的间隔。<br>margin 用于布局分开元素使元素与元素互不相干；<br>padding 用于元素与内容之间的间隔，让内容（文字）与（包裹）元素之间有一段“呼吸距离”。</p><h2 id="css-中图片旋转-90-度用哪个属性"><a href="#css-中图片旋转-90-度用哪个属性" class="headerlink" title="css 中图片旋转 90 度用哪个属性"></a>css 中图片旋转 90 度用哪个属性</h2><p>让图片旋转 90 度的方法：利用 transform 属性来进行图片旋转，如<code>transform:rotate(90deg)</code>。</p><p><code>transform</code>属性用于元素的 2D 或 3D 转换，该属性允许我们将元素旋转、缩放、移动、倾斜。</p><h2 id="避免重复渲染的方式-function-组件和-class-组件两种"><a href="#避免重复渲染的方式-function-组件和-class-组件两种" class="headerlink" title="避免重复渲染的方式 function 组件和 class 组件两种"></a>避免重复渲染的方式 function 组件和 class 组件两种</h2><p>避免重新渲染的思想其实也是对比 Props 的引用。决定是否渲染！</p><p>1.React.memo 的使用</p><p>2.使用 memo, useMemo, useCallback</p><h2 id="webpack-的原理"><a href="#webpack-的原理" class="headerlink" title="webpack 的原理"></a>webpack 的原理</h2><p>本质上,webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时,它会递归地构建一个依赖关系图(dependency graph),其中包含应用程序需要的每个模块,然后将所有这些模块打包成一个或多个 bundle。</p><p>Webpack 是一个现代化的 JavaScript 应用程序打包工具，它的主要功能是将多个 JavaScript 文件打包成 一个或多个文件，以便于在浏览器中加载和运行。Webpack 的原理是将所有的模块打包成个或多个 bundle 文件，这些文件可以是 JavaScript、CSS、图片等资源文件</p><p>Webpack 的工作原理可以分为四个步骤:入口、输出、加载器和插件。</p><p>Webpack 需要指定一个或多个入口文件，这些文件是 Webpack 打包的起点。Webpack 会从入口文件开始递归地查找所有的依赖模块，直到找到所有的模块为止。</p><p>Webpack 需要指定一个或多个输出文件，这些文件是 Webpack 包后生成的文件。Webpack 会将所有的模块打包成一个或多个 bundle 文件，并将这些文件输出到指定的日录中</p><p>第二，Webpack 需要使用加载器来处理不同类型的文件。加载器是个转换器，它可以将不同类型的文件转换成 JavaScript 模块 Webpack 支持多种类型的加载器，包括 CSS 加载器、图片加载器、字体加载器等。<br>Webpack 还支持插件，浙件可以扩展 Webpack 的功能。Webpack 的插件可以用来压缩代码、优化资源、生成 HTML 文件等</p><p>总的来说，Webpack 的原理是将所有的模块打包成一个或多个 bundle 文件，并将这些文件输出到指定的目录中。Webpack 通过入口、输出、加载器和插件四个步骤来实现这个过程。Webpack 的工作原理非常灵活，可以根据不同的需求进行配置，使得 Webpack 成为一个非常强大的 JavaScript 应用程序打包工具。</p><h2 id="跨域怎么解决"><a href="#跨域怎么解决" class="headerlink" title="跨域怎么解决"></a>跨域怎么解决</h2><p>跨域就是当在页面上发送 ajax 请求时，由于浏览器同源策略的限制，要求当前页面和服务端必须同源，也就是协议、域名和端口号必须一致。如果协议、域名和端口号中有其中一个不一致，则浏览器视为跨域，进行拦截。</p><p>常见解决跨域手段</p><p>JSONP</p><p>CORS</p><p>搭建 Node 代理服务器</p><p>Nginx 反向代理</p><p>postMessage</p><p>Websocket</p><h2 id="git-如何做指定版本回退"><a href="#git-如何做指定版本回退" class="headerlink" title="git 如何做指定版本回退"></a>git 如何做指定版本回退</h2><p>1.回滚到指定版本</p><p>首先进入项目根目录下，使用 <code>git log</code> 命令，找到需要返回的 <code>commit id</code> 号，使用 <code>git reset --hard</code> 后跟你需要的 <code>commit id</code> 号，这样你就回到了指定的版本，注意 <code>git reset --hard</code> 与 <code>git reset --soft</code> 的区别：</p><p>git reset –-soft：回退到某个版本，只回退了 commit 的信息，不会恢复到 index file 一级。通常使用在当你 git commit -m “注释”提交了你修改的内容，但内容有点问题想撤销，又还要提交，就使用 soft，相当于软着路；</p><p>git reset -–hard：彻底回退到某个版本，本地的源码也会变为上一个版本的内容，撤销的 commit 中所包含的更改被冲掉，相当于硬着路，回滚最彻底。</p><p>2.返回到最新版本</p><p>当你发现需要回滚到最新版本时，可以采用以下指今步骤</p><p>git log：查看历史提交</p><p>git reflog：查看每一次命令记录</p><p>通过 git reflog 命令查看到之后，我们再利用 git reset 来返回到相应的版本即可，HEAD 前面的一串字符为我们简写的 ID，所以最后输入</p><p>git reset –hard ca936c3 即回滚到了最新的版本号了</p><h2 id="怎么改-this-指向"><a href="#怎么改-this-指向" class="headerlink" title="怎么改 this 指向"></a>怎么改 this 指向</h2><p>主要有三种方法：<code>call</code>、<code>apply</code>、<code>bind</code></p><h2 id="父组件怎么调用子组件的方法"><a href="#父组件怎么调用子组件的方法" class="headerlink" title="父组件怎么调用子组件的方法"></a>父组件怎么调用子组件的方法</h2><p>父组件调子组件函数有两种情况<br>子组件无 HOC 嵌套：推荐使用 ref 直接调用<br>有 HOC 嵌套：推荐使用自定义 props 的方式</p><h2 id="flex-布局怎么改主轴方向-（flex-direction）"><a href="#flex-布局怎么改主轴方向-（flex-direction）" class="headerlink" title="flex 布局怎么改主轴方向 （flex-direction）"></a>flex 布局怎么改主轴方向 （flex-direction）</h2><p>设置主轴方向<br>主轴默认是水平方向, 侧轴默认是垂直方向</p><p>修改主轴方向属性: <code>flex-direction</code></p><h2 id="promise-then-的参数"><a href="#promise-then-的参数" class="headerlink" title="promise .then 的参数"></a>promise .then 的参数</h2><p>then 方法是 Promise 对象中最重要的一个方法。它接收两个参数，一个是成功时的回调函数，一个是失败时的回调函数。在调用了 then 方法后，它将返回一个新的 Promise 对象，这个新 Promise 对象的状态和值是由当前 Promise 对象所完成的操作结果决定的。</p><h2 id="动画旋转"><a href="#动画旋转" class="headerlink" title="动画旋转"></a>动画旋转</h2><p><code>anmimation</code>（动画离不开的）</p><h2 id="ts-联合类型怎么写"><a href="#ts-联合类型怎么写" class="headerlink" title="ts 联合类型怎么写"></a>ts 联合类型怎么写</h2><p>联合类型（Union Types）表示取值可以为多种类型中的一种。联合类型使用 <code>|</code> 分隔每个类型。</p><h2 id="ts-type-与-interface-的区别"><a href="#ts-type-与-interface-的区别" class="headerlink" title="ts type 与 interface 的区别"></a>ts type 与 interface 的区别</h2><p><code>interface</code> 和 <code>type</code> 都可以用来定义对象类型，那么在开发中时到底选择哪一个呢？</p><p>如果是定义非对象类型，通常推荐使用 type。<br>如果是定义对象类型，那么他们有区别的：</p><p>interface 可以重复的对某个接口来定义属性和方法；</p><p>而 type 定义的是别名，不能重复。</p><h2 id="usememo-和-usecallback-的区别"><a href="#usememo-和-usecallback-的区别" class="headerlink" title="usememo 和 usecallback 的区别"></a>usememo 和 usecallback 的区别</h2><p><code>useMemo</code> 和 <code>useCallback</code> 都是 reactHook 提供的两个 API，用于缓存数据，优化性能；两者接收的参数都是一样的，第一个参数表示一个回调函数，第二个表示依赖的数据。</p><p>共同作用<br>在依赖数据发生变化的时候，才会调用传进去的回调函数去重新计算结果，起到一个缓存的作用</p><p>两者的区别<br>useMemo 缓存的结果是回调函数中 return 回来的值，主要用于缓存计算结果的值，应用场景如需要计算的状态<br>useCallback 缓存的结果是函数，主要用于缓存函数，应用场景如需要缓存的函数，因为函数式组件每次任何一个 state 发生变化，会触发整个组件更新，一些函数是没有必要更新的，此时就应该缓存起来，提高性能，减少对资源的浪费；另外还需要注意的是，useCallback 应该和 React.memo 配套使用，缺了一个都可能导致性能不升反而下降。</p><h2 id="父组件获取子组件的方法"><a href="#父组件获取子组件的方法" class="headerlink" title="父组件获取子组件的方法"></a>父组件获取子组件的方法</h2><p>调用方法：<br>1、类组件中的调用可以利用 React.createRef()、ref 的函数式声明或 props 自定义 onRef 属性来实现；</p><p>2、函数组件、Hook 组件中的调用可以利用 useImperativeHandle 或 forwardRef 抛出子组件 ref 来实现。</p><h2 id="安全问题"><a href="#安全问题" class="headerlink" title="安全问题"></a>安全问题</h2><p>1.同源策略</p><p>2.xss 攻击</p><p>3.HTTPS</p><p>3.CSRF</p><h2 id="高阶组件-1"><a href="#高阶组件-1" class="headerlink" title="高阶组件"></a>高阶组件</h2><p>高阶组件（HOC）是 React 中用于复用组件逻辑的一种高级技巧。HOC 自身不是 React API 的一部分，它是一种基于 React 的组合特性而形成的设计模式。</p><p>具体而言，高阶组件是参数为组件，返回值为新组件的函数。</p><h2 id="首屏优化"><a href="#首屏优化" class="headerlink" title="首屏优化"></a>首屏优化</h2><p>一般首屏加载速度慢得原因可能如下几点：</p><p>1.网络延时问题，</p><p>2.资源文件体积是否过大，</p><p>3.资源是否重复发送请求去加载了</p><p>4.加载脚本的时候，渲染内容堵塞了</p><p><code>常见的 SPA 优化方式解决方案</code></p><p>1.减小入口文件体积，</p><p>2.静态资源本地缓存，</p><p>3.UI 框架按需引入，</p><p>4.图片资源的压缩，</p><p>5.组件重复打包，</p><p>6.开启 GZip 打包，</p><p>7.开启 SSR</p><p>8.去除 loading</p><h2 id="useeffect-跟-uselayouteffect-的区别"><a href="#useeffect-跟-uselayouteffect-的区别" class="headerlink" title="useeffect 跟 uselayouteffect 的区别"></a>useeffect 跟 uselayouteffect 的区别</h2><p>这两个函数的使用方式其实非常简单，他们都接受一个函数一个数组，只有在数组里面的值改变的情况下才会再次执行 effect。<br>差异：<br>useEffect 是异步执行的，而 useLayoutEffect 是同步执行的。<br>useEffect 的执行时机是浏览器完成渲染之后，而 useLayoutEffect 的执行时机是浏览器把内容真正渲染到界面之前，和 componentDidMount 等价。</p><h2 id="父组件怎么使用子组件的方法"><a href="#父组件怎么使用子组件的方法" class="headerlink" title="父组件怎么使用子组件的方法"></a>父组件怎么使用子组件的方法</h2><p>1.子组件是类组件，使用 Refs</p><p>2.子组件是函数组件，使用 Refs 转发</p><p>2.1① 使用 forwardRef 转发 Refs 到 DOM 组件，就是将 父组件的 ref 向下传递给子组件。</p><p>2.2② forwardRef 结合 useImperativeHandle 使用，自定义暴露给父组件的实例值。</p><p>2.3③ 在高阶组件(HOC)中转发 Refs</p><h2 id="首页渲染做过哪些优化"><a href="#首页渲染做过哪些优化" class="headerlink" title="首页渲染做过哪些优化"></a>首页渲染做过哪些优化</h2><p>前端优化大概可以有以下几个方向：</p><p>网络优化</p><p>页面渲染优化</p><p>JS 优化</p><p>图片优化</p><p>webpack 打包优化</p><p>React 优化</p><p>Vue 优化</p><p>网络优化</p><h2 id="setstate-怎么同步拿数据"><a href="#setstate-怎么同步拿数据" class="headerlink" title="setstate 怎么同步拿数据"></a>setstate 怎么同步拿数据</h2><p>setState({})去更新状态时,发现更新后拿到的状态不是最新的,还是更新前的,所以 setState 是异步更新,如果想在状态更新页面完成渲染后立即做一些事情,那么这时我们就要用到 setState 的第二个参数</p><h2 id="css-页面顶部底部固定，中间自适应几种方法"><a href="#css-页面顶部底部固定，中间自适应几种方法" class="headerlink" title="css 页面顶部底部固定，中间自适应几种方法"></a>css 页面顶部底部固定，中间自适应几种方法</h2><p>1，使用相对定位和绝对定位</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* // 第一种方式 */</span><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">/* // 使用子绝父相 */</span>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>vh<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#f1f3f4</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">header,main,footer </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">80</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">80</span>px<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/* // 设置绝对定位 */</span><span class="token selector">footer </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>  <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#f9cc9d</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#c3d08b</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#2b93f5</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Footer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>2，使用 flex 弹性布局，将 footer 的 margin-top 设置为 auto</p><p>注意：在浏览器中，100vh 的高度包括了底部的工具栏，而我们真实需要的高度其实是浏览器的可视高度也就是 100%；<br>在使用 100vh 的时候，手机浏览器底部的操作栏可能会遮挡底部按钮；<br>所以这时页面的高度应该使用 100%；</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>vh<span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#f1f3f4</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">header,main,footer </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">80</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">80</span>px<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">footer </span><span class="token punctuation">{</span>  <span class="token property">margin-top</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-HTML"><code class="language-HTML">        <div class="container">            <header style="background: #f9cc9d">Header</header>            <main style="background: #c3d08b">Content</main>            <footer style="background: #2b93f5">Footer</footer>        </div></code></pre><p>3，通过 css 内置函数 calc()动态计算内容的高度</p><p>min-height: calc(100vh - 130px); 130 其实就是 header 和 footer 的高度；</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>vh<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">header,main,footer </span><span class="token punctuation">{</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">header </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">80</span>px<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">80</span>px<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">footer </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">main </span><span class="token punctuation">{</span>  <span class="token property">min-height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100</span>vh - <span class="token number">130</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-HTML"><code class="language-HTML">    <div class="container">        <header style="background: #f9cc9d">Header</header>        <main style="background: #c3d08b">Content</main>        <footer style="background: #2b93f5">Footer</footer>    </div></code></pre><h2 id="文字超出部分变成省略号的三种方式"><a href="#文字超出部分变成省略号的三种方式" class="headerlink" title="文字超出部分变成省略号的三种方式"></a>文字超出部分变成省略号的三种方式</h2><p>1.单行文本溢出显示省略号</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">/*强制文本在一行内显示*/</span>  <span class="token property">white-space</span><span class="token punctuation">:</span> nowrap<span class="token punctuation">;</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>2.多行文本溢出显示省略号</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>  <span class="token property">text-overflow</span><span class="token punctuation">:</span> ellipsis<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/* 将对象作为弹性伸缩盒子模型显示 */</span>  <span class="token property">display</span><span class="token punctuation">:</span> -webkit-box<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/* 限制在一个块元素显示的文本的行数 */</span>  <span class="token comment" spellcheck="true">/* -webkit-line-clamp 其实是一个不规范属性，使用了WebKit的CSS扩展属性，该方法适用于WebKit浏览器及移动端；*/</span>  <span class="token property">-webkit-line-clamp</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/* 设置或检索伸缩盒对象的子元素的排列方式 */</span>  <span class="token property">-webkit-box-orient</span><span class="token punctuation">:</span> vertical<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>js 方法实现</p><p>第一种方法用到的是 substring(from, to )方法，括号内第一个参数是索引起始值，第二个参数是索引的结束值。substring()从字符串中抽取一个子串，然后赋值给 textCon，最后再用 concat()连接省略号。需要注意的是 substring()的返回值是它本身（抽取的值），字符串的第一个索引值是 0。</p><pre class=" language-js"><code class="language-js">textCon <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>textEnd <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">"……"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>第二种方法的思路是：先用 split(“”)将字符串转化为数组，split(separator)将字符串分割成数组，默认用逗号分隔，对本身字符串没有产生影响；转成数组后我们再用 splice(开始的索引, 要删除的个数, 插入的元素)对后面多余的文本进行删除；最后用 join(“”)把数组连接成字符串，后面加上 concat(“……”)。这里需要注意的是 splice()的返回值是改变后的数组。</p><pre class=" language-js"><code class="language-js">textCon <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//将字符串转化为数组</span>textCon <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> textCon<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>textEnd <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">"……"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>text<span class="token punctuation">.</span>innerText <span class="token operator">=</span> textEnd<span class="token punctuation">;</span></code></pre><p>第三种则是用到 replace()字符串替换方法，它的思路很简单，就是把后面多余的文本字符串替换为空。这里需要注意的地方是：用 for 语句进行循环，每将一个字符替换为空后，它后面的字符就会自动往前移，所以我们只要在某个固定的位置将字符替换为空，后面的字符就会顶上来，就像流水线一样。这是三种方法里面最简单的一种。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> textCon<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">80</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  textCon <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>textCon<span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>textEnd <span class="token operator">=</span> textCon<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">"……"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>text<span class="token punctuation">.</span>innerText <span class="token operator">=</span> textEnd<span class="token punctuation">;</span></code></pre><h2 id="实现字符串反转"><a href="#实现字符串反转" class="headerlink" title="实现字符串反转"></a>实现字符串反转</h2><p>使用数组的 reverse()方法</p><p>步骤如下：</p><p>将字符串转为数组<br>使用数组的 reverse()方法进行反转<br>使用数组的 join()方法将数组转化为字符串<br>示例代码如下：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">"Hello World!"</span><span class="token punctuation">;</span><span class="token keyword">const</span> reversedStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reversedStr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出：'!dlroW olleH'</span></code></pre><h2 id="字符串替换"><a href="#字符串替换" class="headerlink" title="字符串替换"></a>字符串替换</h2><p>1.使用 replace()方法.</p><p>replace()方法用于在字符串中查找并替换指定的子串。它接受两个参数：第一个参数是需要替换的子串或用于匹配子串的正则表达式，第二个参数是需要替换成的字符串。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span><span class="token keyword">let</span> str2 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">,</span> <span class="token string">"javascript"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// hello javascript</span></code></pre><p>2.使用正则表达式替换</p><p>如果需要使用正则表达式进行替换，可以使用 replace()方法的第一个参数传入一个正则表达式。例如：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">"2022-02-22"</span><span class="token punctuation">;</span><span class="token keyword">let</span> str2 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2022/02/22</span></code></pre><p>3.使用 replaceAll()方法</p><p>从 ECMAScript 2021 规范开始，JavaScript 原生支持了 replaceAll()方法。它也是用于在字符串中替换指定的子串，但是相比于 replace()方法，它可以直接替换所有匹配的子串，而不需要使用正则表达式。</p><p>例如：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> str1 <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span><span class="token keyword">let</span> str2 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token string">"O"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// hellO wOrld</span></code></pre><p>注意，由于 replaceAll()方法目前还不是所有浏览器都支持，因此在实际开发中需要进行兼容性处理。</p><h2 id="async-里面多个-await，如何优化"><a href="#async-里面多个-await，如何优化" class="headerlink" title="async 里面多个 await，如何优化"></a>async 里面多个 await，如何优化</h2><pre class=" language-JS"><code class="language-JS"> async initData() {    const cache = await this.cachePromise;  // 出错了    const cache2 = await this.cachePromise2;  //不执行    const cache3 = await this.cachePromise3;  //不执行    const cache4 = await this.cachePromise4;  //不执行  }// 修改后 async initData() {    try {       const cache = await this.cachePromise;  // 出错了       const cache2 = await this.cachePromise2;  //执行       const cache3 = await this.cachePromise3;  //执行       const cache4 = await this.cachePromise4;  //执行     } catch(err) {       console.log(err)     }  }</code></pre><h2 id="使用-promise-封装-Ajax-请求"><a href="#使用-promise-封装-Ajax-请求" class="headerlink" title="使用 promise 封装 Ajax 请求"></a>使用 promise 封装 Ajax 请求</h2><pre class=" language-JS"><code class="language-JS">function myaxios(url) {    var p1 = new Promise(function (n1, n2) {        var xhr = new XMLHttpRequest() || new ActiveXObject("Microsoft.XMLHTTP")        xhr.open("GET", url, true)        xhr.send()        xhr.onreadystatechange = function () {            if (xhr.readyState == 4 && xhr.status == 200) {                n1(xhr.responseText)            } else if (xhr.readyState == 4 && xhr.status == 404) {                n2(xhr.responseText)            }        }    })    return p1}</code></pre><p>调用时的方法：</p><pre class=" language-JS"><code class="language-JS"><button onclick="fn()">ajax请求</button>    <script>        function fn() {            var url = "http://192.168.0.114:8081/ajax1" //要请求的目标网址            myaxios(url).then((res) => {                console.log(res);            })        }    </script></code></pre><h2 id="实现瀑布流-瀑布流布局常见场景用于展示照片"><a href="#实现瀑布流-瀑布流布局常见场景用于展示照片" class="headerlink" title="实现瀑布流 (瀑布流布局常见场景用于展示照片)"></a>实现瀑布流 (瀑布流布局常见场景用于展示照片)</h2><p>瀑布流布局是一种新型的布局方式，可以将大小不一的图片完整的显示在页面上，并且在杂乱的布局中保持着一定的美感，</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../img/1.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../img/2.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../img/3.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../img/4.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../img/5.jpeg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>1.CSS 布局<br>使用 column-count 属性</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>  <span class="token property">column-count</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* 想要排成的列数 */</span>  <span class="token property">column-gap</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.item</span> img </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>2.使用 flex 布局</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/* 需要指定高度 */</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">800</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.item</span> </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">25%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.item</span> img </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="小程序的登录流程"><a href="#小程序的登录流程" class="headerlink" title="小程序的登录流程"></a>小程序的登录流程</h2><p>1.通过 wx.login() 获取到用户的 code 判断用户是否授权读取用户信息，调用 wx.getUserInfo 读取用户数据。</p><p>2.由于小程序后台授权域名无法授权微信的域名，所以需要自身后端调用微信服务器获取用户信息。</p><p>3.通过 wx.request() 方法请求业务方服务器，后端把 appid , appsecret 和 code 一起发送到微信服务器。<br>appid 和 appsecret 都是微信提供的，可以在管理员后台找到。</p><p>4.微信服务器返回了 openid 及本次登录的会话密钥 session_key。</p><p>5.后端从数据库中查找 openid ，如果没有查到记录，说明该用户没有注册，如果有记录，则继续往下走。</p><p>6.session_key 是对用户数据进行加密签名的密钥。为了自身应用安全，session_key 不应该在网络上传输。</p><p>7.然后生成 session 并返回给小程序。</p><p>8.小程序把 session 存到 storage 里面。</p><p>9.下次请求时，先从 storage 里面读取，然后带给服务端。</p><p>10.服务端对比 session 对应的记录，然后校验有效期。</p><p>登录逻辑： 1.调用 wx.login() 获取 临时登录凭证 code，有效期为 5 分钟；（临时登录凭证 code 只能使用一次）</p><p>2.将临时 code 传到我们的后端，后端调用 auth.code2Session 接口，换取用户唯一标识 OpenID 和 会话密钥 session_key；（ openid 是用户唯一标识，session_key 能保证当前用户进行会话操作的有效性）</p><p>注意：获取 session_key 出于安全性的考虑，要在后端调用。如果我们在前端通过 request 调用此接口，就不可避免的需要将我们小程序的 appid 、secret 和服务端下发的 session_key 暴露在外部，会给我们的业务安全带来极大的风险。<br>session_key 拥有一定的时效性。用户越久未使用小程序，用户登录态越有可能失效。反之如果用户一直在使用小程序，则用户登录态一直保持有效。具体时效逻辑由微信维护，对开发者透明。开发者需要调用 wx.checkSession 接口检测当前用户登录态是否有效。</p><p>3.后端自定义新的密钥并关联返回的 session_key 和 openid，将新的密钥返给前端，前端将其存储在 storage 中。（会话密钥 session_key 是对用户数据进行 加密签名 的密钥。为了应用自身的数据安全，开发者服务器不应该把会话密钥下发到小程序，也不应该对外提供这个密钥，所以要定义新的密钥）。<br>之所以存在 storage 中，是因为小程序没有 cookie，相应的后端 set-cookie 在小程序中不起作用。</p><p>4.前端发送请求的时候，带着密钥，后端根据密钥识别用户身份，返回数据。</p><h2 id="bff-项目来处理什么问题"><a href="#bff-项目来处理什么问题" class="headerlink" title="bff 项目来处理什么问题"></a>bff 项目来处理什么问题</h2><p>BFF（Backend-for-Frontend）中间层是一种架构模式，主要用于解决前后端协作和微服务架构中的数据聚合问题。在这种架构下，前端应用程序不直接与后端服务通信，而是通过一个专门为前端定制的 BFF 中间层与后端服务交互。BFF 中间层负责与多个后端服务进行通信，聚合数据，并将结果返回给前端应用程序。</p><p>BFF 中间层的主要作用是：</p><p>为前端应用程序提供一个统一的 API 接口，简化前端应用程序的开发和维护。</p><p>负责与多个后端服务进行通信，聚合数据，降低前端应用程序的复杂度。<br>提供负载均衡、服务发现、缓存、错误处理和重试策略等功能，提高系统的性能和可用性。</p><h2 id="空值合并运算符-‘-’与’-’运算符区别"><a href="#空值合并运算符-‘-’与’-’运算符区别" class="headerlink" title="空值合并运算符 ‘??’与’||’运算符区别"></a>空值合并运算符 ‘??’与’||’运算符区别</h2><p>||运算符和??运算符在链式使用方法中有相同的地方，例如：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> first <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">let</span> secon <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">let</span> third <span class="token operator">=</span> <span class="token string">"Beautiful Girl"</span><span class="token punctuation">;</span><span class="token keyword">let</span> r1 <span class="token operator">=</span> first <span class="token operator">?</span><span class="token operator">?</span> secon <span class="token operator">?</span><span class="token operator">?</span> third <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">"undefined"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//(1)</span><span class="token keyword">let</span> r2 <span class="token operator">=</span> first <span class="token operator">||</span> secon <span class="token operator">||</span> thrid <span class="token operator">||</span> <span class="token string">"undefined"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//(2)</span></code></pre><p>上述代码中，(1)(2)两行的作用是完全相同的，但是相对于共同点，二者的区别更大。</p><p>从定义上：</p><p>||返回表达式中的第一个真值；<br>??返回表达式中的第一个已定义值；<br>二者的区别就在于真值和已定义值的区别上：</p><p>||无法区分 0、false、””和 null/undefined，对于||而言，它们都是一样的。</p><p>??可以区分 null/undefined 和其他值的区别。</p><p>所以，在处理代码时，分真假用||，分有无用??。</p><h2 id="微前端的理解"><a href="#微前端的理解" class="headerlink" title="微前端的理解"></a>微前端的理解</h2><p>概念：微前端是一种类似于微服务的架构。它使得各个前端应用可以独立运行、独立开发、独立部署，微前端就是将不同的功能按照不同的维度拆分成多个子应用。通过主应用来加载这些子应用（微前端的核心在于拆，拆完之后再合）</p><p>技术框架：目前常用的微前端技术框架有 single-spa 以及基于 single-spa 开发的微前端实现库 qiankun</p><p>使用场景：</p><p>1.我们需要兼容遗留的系统时</p><p>2.当项目需要聚合应用时</p><p>3.当不同的团队开发同一个应用，所选技术栈不同时</p><h2 id="HTML-lt-iframe-gt-标签"><a href="#HTML-lt-iframe-gt-标签" class="headerlink" title="HTML <iframe>标签"></a>HTML <code>&lt;iframe&gt;</code>标签</h2><p>iframe 元素会创建包含另外一个文档的内联框架（即行内框架）。所有浏览器都支持 <code>&lt;iframe&gt;</code> 标签。您可以把需要的文本放置在 <code>&lt;iframe&gt;</code> 和 <code>&lt;/iframe&gt;</code> 之间，这样就可以应对无法理解 iframe 的浏览器。使用 iframe，可以配置不同的 src 加载不同的子应用页面</p><h2 id="js-中的-set-与-map"><a href="#js-中的-set-与-map" class="headerlink" title="js 中的 set 与 map"></a>js 中的 set 与 map</h2><p>简述：Set 和 Map 主要的应用场景在于 数据重组 和 数据储存。Set 是一种叫做集合的数据结构，Map 是一种叫做字典的数据结构。</p><p>Set：<br>成员唯一、无序且不重复。<br>[value, value]，键值与键名是一致的（或者说只有键值，没有键名）。<br>可以遍历，方法有：add、delete、has。</p><p>Map：<br>本质上是键值对的集合，类似集合。<br>可以遍历，方法很多可以跟各种数据格式转换。</p><h2 id="组件封装如何做的？封装时考虑的因素？"><a href="#组件封装如何做的？封装时考虑的因素？" class="headerlink" title="组件封装如何做的？封装时考虑的因素？"></a>组件封装如何做的？封装时考虑的因素？</h2><p>一般步骤如下： 1.创建一个新的 Vue 单文件组件（.vue 文件），并命名为你的组件名，例如 MyComponent.vue。</p><p>2 在组件文件中，使用 <code>&lt;template&gt;</code> 标签定义组件的模板结构，使用 <code>&lt;script&gt;</code> 标签定义组件的逻辑，使用 <code>&lt;style&gt;</code> 标签定义组件的样式。</p><p>3 在 <code>&lt;script&gt;</code> 标签中，使用 export default 导出一个 Vue 组件对象。</p><p>4 在组件对象中，定义组件的属性（props），数据（data），方法（methods），生命周期钩子（lifecycle hooks）等。</p><p>5 如果需要，可以在组件中引入其他的子组件或插件。</p><p>6 在需要使用该组件的地方，使用 import 语句导入该组件，然后在父组件的模板中使用该组件的标签。</p><p>封装时考虑的因素</p><p>1.我们需要考虑到未来的可维护性和复用性，这时就需要抽象出通用的逻辑或者功能，以便在不同的项目中使用</p><p>2.在开发组件时，需要将组件内部的数据和展示进行分离，以便组件的复用性和可维护性更高。通过 props 属性将外部的数据传递给组件，以便组件可以根据外部的数据进行展示。</p><p>3.抽象组件样式：在进行组件封装时，我们需要考虑到组件的样式问题</p><h2 id="http-常见状态码有哪些？"><a href="#http-常见状态码有哪些？" class="headerlink" title="http 常见状态码有哪些？"></a>http 常见状态码有哪些？</h2><p>一、1 开头的状态码(信息类)</p><p>100，接受的请求正在处理，信息类状态码</p><p>二、2 开头的状态码(成功类)</p><p>2xx(成功)表示成功处理了请求的状态码<br>200(成功)服务器已成功处理了请求。</p><p>三、3 开头的状态码(重定向)</p><p>3xx(重定向)表示要完成请求，需要进一步操作。通常这些状态代码用来重定向。<br>301，永久性重定向，表示资源已被分配了新的 URL<br>302，临时性重定向，表示资源临时被分配了新的 URL<br>303，表示资源存在另一个 URL，用 GET 方法获取资源<br>304，(未修改)自从上次请求后，请求网页未修改过。服务器返回此响应时，不会返回网页内容</p><p>四、4 开头的状态码(客户端错误)</p><p>4xx(请求错误)这些状态码表示请求可能出错，妨碍了服务器的处理<br>400(错误请求)服务器不理解请求的语法<br>401 表示发送的请求需要有通过 HTTP 认证的认证信息<br>403(禁止)服务器拒绝请求<br>404(未找到)服务器找不到请求网页</p><p>五、5 开头的状态码(服务器错误)</p><p>5xx(服务器错误)这些状态码表示服务器在尝试处理请求时发生内部错误。这些错误可能是服务器本身的错误，而不是请求的错误<br>500，(服务器内部错误)服务器遇到错误，无法完成请求<br>503，表示服务器处于停机维护或超负载，无法处理请求</p><h2 id="flex-1-和-flex-auto-的区别，flex-是哪些属性的缩写？"><a href="#flex-1-和-flex-auto-的区别，flex-是哪些属性的缩写？" class="headerlink" title="flex:1 和 flex:auto 的区别，flex 是哪些属性的缩写？"></a>flex:1 和 flex:auto 的区别，flex 是哪些属性的缩写？</h2><p>flex:1 和 flex:auto 区别：规则基准使用值不同、子元素不同、包裹块不同。</p><p>flex: 1=== flex: 1 1 0;</p><p>在说 flex:1 和 flex:auto 区别之前先回顾 flex:0 1 atuo;</p><p>从默认值上可以看出它有三个属性，分别是 flex-grow、flex-shrink、flex-basis</p><p>flex-grow:项目的放大比例，默认为 0，如果存在剩余空间，不放大</p><p>flex-shrink:项目的缩小比例，默认为 1，如果空间不足，会适当缩小</p><p>flex-basis:在分配空间之前，项目的主轴空间，相当于我们设置的 width，</p><h2 id="Vue-的生命周期有哪些？created-和-mounted-区别？"><a href="#Vue-的生命周期有哪些？created-和-mounted-区别？" class="headerlink" title="Vue 的生命周期有哪些？created 和 mounted 区别？"></a>Vue 的生命周期有哪些？created 和 mounted 区别？</h2><p>beforeCreate( 创建前 )：el 和 data 并未初始化，因此无法访问 methods， data， computed 等上的方法和数据，无法使用 this。</p><p>created ( 创建后 ）：完成了 data 数据的初始化，el 没有。 主要用来初始化一些数据。</p><p>beforeMount：完成了 el 和 data 初始化，$el 属性已存在，是虚拟 dom，只是数据未挂载到模板中（没有挂在 html 到页面上）。</p><p>mounted：dom 操作在此时能正常进行。此时一般可以做一些 ajax 操作，mounted 只会执行一次。Dom 操作一般是在 mounted 钩子函数中进行的</p><p>beforeUpdate （更新前）：在数据更新之前被调用，此时数据是新的，页面依旧还是旧的</p><p>updated （更新后）：此时组件 DOM 已经更新，所以可以执行依赖于 DOM 的操作</p><p>beforeDestrioy （销毁前）：在实例销毁之前调用，实例仍然完全可用,一般在这一步做一些重置的操作，比如清除掉组件中的定时器 和 监听的 dom 事件<br>destroyed（销毁后）:执行 destroy 方法后，对 data 的改变不会再触发周期函数，此时的 vue 实例已经解除了事件监听以及和 dom 的绑定，但是 dom 结构依然存在。</p><p>区别：</p><p>created:在模板渲染成 html 前调用，即通常初始化某些属性值，然后再渲染成视图。</p><p>mounted:在模板渲染成 html 后调用，通常是初始化页面完成后，再对 html 的 dom 节点进行一些需要的操作。</p><h2 id="Vue3-的生命周期钩子函数的变化-（6-个）"><a href="#Vue3-的生命周期钩子函数的变化-（6-个）" class="headerlink" title="Vue3 的生命周期钩子函数的变化 （6 个）"></a>Vue3 的生命周期钩子函数的变化 （6 个）</h2><p>在 Vue3 中，一些常见的钩子函数发生了变化。例如，vue2 中的 created 和 beforeCreate 钩子函数被替换为了 setup()，并且 setup()在二者之前执行。beforeMount 和 mounted 函数被替换成了 onBeforeMount 和 onMounted。beforeUpdate 和 update 被替换为 onBeforeUpdate 和 onupdate。beforeDestroy 和 destroyed 被替换为 beforeUnmount 和 unmounted。这些钩子函数的执行顺序与 Vue2 的版本相同，但是有所不同的是，在 Vue3 中，它们是使用 ES6 类定义的。</p><h2 id="写一个对象，这个对象还得包含一个取消定时器的方法，-需要从-0-100-依次定时打印出来"><a href="#写一个对象，这个对象还得包含一个取消定时器的方法，-需要从-0-100-依次定时打印出来" class="headerlink" title="写一个对象，这个对象还得包含一个取消定时器的方法， 需要从 0-100 依次定时打印出来"></a>写一个对象，这个对象还得包含一个取消定时器的方法， 需要从 0-100 依次定时打印出来</h2><pre class=" language-JS"><code class="language-JS">let i=0let timer=setInterval(() => {    console.log('当前值为 :>> ', i++);    if(i>100){        clearInterval(i)    }}, 1000);</code></pre><h2 id="数组的去重，排序，倒叙"><a href="#数组的去重，排序，倒叙" class="headerlink" title="数组的去重，排序，倒叙"></a>数组的去重，排序，倒叙</h2><p>数组的去重 1.使用 set 结构去重</p><p>2.使用 for+indexOf 方法去重</p><p>3.使用 for+includes 方法去重</p><p>排序：sort</p><pre class=" language-JS"><code class="language-JS">var arr2 = [20,13,11,8,0,11];</code></pre><p>按升序排列，前减后</p><pre class=" language-JS"><code class="language-JS">arr2.sort(function(a,b){    //a,b表示相邻的两个元素    //若返回值>0,数组元素将按升序排列    //若返回值<0,数组元素将按降序排列    return a-b;});console.log(arr2); //[0,8,11,11,13,20]; 新数组按升序排列</code></pre><p>按降序排列，后减前</p><pre class=" language-JS"><code class="language-JS">arr2.sort(function(a,b){    //a,b表示相邻的两个元素    //若返回值>0,数组元素将按升序排列    //若返回值<0,数组元素将按降序排列    return b-a;});console.log(arr2); //[20,13,11,11,8,0]; 新数组按降序排列</code></pre><p>css 样式，同一行中三个元素平均分布</p><p>采用父盒子设置弹性盒布局，子盒子则 flex:1,等比均分</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>son<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>son<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>son<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.box</span> </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.son</span> </span><span class="token punctuation">{</span>  <span class="token property">flex</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token property">background</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="css-九宫格布局"><a href="#css-九宫格布局" class="headerlink" title="css 九宫格布局"></a>css 九宫格布局</h2><pre class=" language-HTML"><code class="language-HTML"><div class="box">  <ul>    <li>1</li>    <li>2</li>    <li>3</li>    <li>4</li>    <li>5</li>    <li>6</li>    <li>7</li>    <li>8</li>    <li>9</li>  </ul></div>公共样式：<style>ul {    padding: 0;}li {    list-style: none;      text-align: center;    border-radius: 5px;    background: skyblue;}</style></code></pre><p>flex 实现</p><pre class=" language-css"><code class="language-css"><span class="token selector">ul </span><span class="token punctuation">{</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">li </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">30%</span><span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">30%</span><span class="token punctuation">;</span>  <span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token number">5%</span><span class="token punctuation">;</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">5%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">li<span class="token pseudo-class">:nth-of-type(3n)</span> </span><span class="token punctuation">{</span>  <span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">li<span class="token pseudo-class">:nth-of-type(n + 7)</span> </span><span class="token punctuation">{</span>  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>（2）grid 实现<br>grid 布局相对于 flex 布局来说，实现九宫格就更加容易了，只需要设置几个属性即可：</p><pre class=" language-css"><code class="language-css"><span class="token selector">ul </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>  <span class="token property">grid-template-columns</span><span class="token punctuation">:</span> <span class="token number">30%</span> <span class="token number">30%</span> <span class="token number">30%</span><span class="token punctuation">;</span>  <span class="token property">grid-template-rows</span><span class="token punctuation">:</span> <span class="token number">30%</span> <span class="token number">30%</span> <span class="token number">30%</span><span class="token punctuation">;</span>  <span class="token property">grid-gap</span><span class="token punctuation">:</span> <span class="token number">5%</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="浏览器打开两个标签页-cookie-是否一样"><a href="#浏览器打开两个标签页-cookie-是否一样" class="headerlink" title="浏览器打开两个标签页,cookie 是否一样"></a>浏览器打开两个标签页,cookie 是否一样</h2><p>两个页签中保存的 cookie 都是一样的,cookie 在一个浏览器下同一个域名下是全部共享一致的，和页签没任何关系的。</p><h2 id="同一个浏览器的两个页面是一个-session-吗-不一定"><a href="#同一个浏览器的两个页面是一个-session-吗-不一定" class="headerlink" title="同一个浏览器的两个页面是一个 session 吗? 不一定"></a>同一个浏览器的两个页面是一个 session 吗? 不一定</h2><p>同一个浏览器的两个页面是不一定是一个 session 的。如果是在同一个浏览器内打开两个标签，那么这两个标签的页面是一个 session，但是用同一个浏览器打开两个不同的窗口页面的话，那么两个页面不是一个 session。</p><h2 id="浏览器打开两个标签页-localstorage-是否一样"><a href="#浏览器打开两个标签页-localstorage-是否一样" class="headerlink" title="浏览器打开两个标签页,localstorage 是否一样"></a>浏览器打开两个标签页,localstorage 是否一样</h2><p>IE、Edge localstorage 两个页签的值不一致的问题</p><p>localstorage 本是浏览器的属性，chrome 下会多个页签共享该属性值，一个变更，其他页签下取值也会取得变更后的最新值</p><p>IE、Edge 下两个页签，一个发生了变化，另外一个没有同步，经查找，需要手动对 localstorage 对象触发 change 事件，随便给某个属性设置一个值，原来的属性值也会跟着更新<br>localStorage.setItem(**,);<br>随意设置变量，只要触发 localStorge 对象就可以</p><h2 id="Object-prototype-toString-call"><a href="#Object-prototype-toString-call" class="headerlink" title="Object.prototype.toString.call()"></a>Object.prototype.toString.call()</h2><p>1.用处：该方法是用来监测数据类型的一种好方法</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Undefined]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Null]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Date]</span></code></pre><p>检测原理：</p><p>Object 对象本身就有一个 toString()方法，返回的是当前对象的字符串形式，原型上的 toString()返回的才是我们真正需要的包含对象数据类型的字符串。至于 call，就是改变对象的 this 指向，当一个对象想调用另一个对象的方法，可以通过 call 或者 apply 改变其 this 指向，将其 this 指向拥有此方法的对象，就可以调用该方法了。</p><h2 id="vue-响应式原理"><a href="#vue-响应式原理" class="headerlink" title="vue 响应式原理"></a>vue 响应式原理</h2><p>vue 响应式也叫作数据双向绑定，大致原理阐述：</p><p>​ 首先我们需要通过 Object.defineProperty()方法把数据(data)设置为 getter 和 setter 的访问形式，这样我们就可以在数据被修改时在 setter 方法设置监视修改页面信息，也就是说每当数据被修改，就会触发对应的 set 方法，然后我们可以在 set 方法中去调用操作 dom 的方法。</p><p>​ 此外，如果页面有 input 用 v-model 绑定数据，我们需要在这种绑定了 data 的 input 元素上添加监听，添加 input 事件监听，每当 input 事件被触发时，就修改对应的 data。</p><h2 id="map-和-object-的区别"><a href="#map-和-object-的区别" class="headerlink" title="map 和 object 的区别"></a>map 和 object 的区别</h2><p>区别：<br>1、Map 的键可以是任意值，而 Object 的键必须是一个 String 或是 Symbol。</p><p>2、Map 中的 key 是有序的，而 Object 的键是无序的。</p><p>3、Map 的键值对个数可以轻易地通过 size 属性获取，而 Object 的键值对个数只能手动计算。</p><p>4、Map 可以直接被迭代，而 Object 不可以直接被迭代。</p><p>5、Map 在频繁增删键值对的场景下表现更好，而 Object 的效率比较差。</p><h2 id="Promise-大致的工作流程是"><a href="#Promise-大致的工作流程是" class="headerlink" title="Promise 大致的工作流程是"></a>Promise 大致的工作流程是</h2><p>创建 Promise 对象 =&gt; 进入等待处理阶段 Pending</p><p>处理完成后，切换到 Fulfilled 状态／ Rejected 状态</p><p>根据状态，执行 then 方法／执行 catch 方法 内的回调函数</p><h2 id="pinia-和-vuex-区别"><a href="#pinia-和-vuex-区别" class="headerlink" title="pinia 和 vuex 区别"></a>pinia 和 vuex 区别</h2><p>Vuex 和 Pinia 都是 Vue.js 中常用的状态管理库，用于在项目中实现集中式的状态管理。</p><p>虽然两者都可以实现对状态的管理，但是在使用上还是有一些区别：</p><p>代码规模：vuex 可以轻松地处理大型应用程序的状态管理，而是 pinia 则是更专注于小型中型的项目。</p><p>状态访问方式：在 vuex 中，我们可以通过 mapState、mapGetters、mapMutations 和 mapActions 方便地将 store 中的状态映射到组件的计算属性和方法中，而在 pinia 中，我们使用内部提供的 useStore hook 来获取 store 实例，并直接访问 store 中的状态和操作函数</p><p>API 设计：vuex 遵循了 Flux 模式中的单向数据流理念，其中包括 state（状态）、mutations（变更）和 actions（行为）等概念；pinia 则采用了更加简化 API 设计，主要包含 state 跟 getters、actions 和 mutations 这三部分内容，同时也大力推广 Typescript 使用，并且底层采用了 proxy 来优化性能</p><p>运行依赖：vuex 依赖于 vue 本身，需要引入 Vue.use(Vuex)才能在项目中使用它；而 pinia 是完全独立于 vue 的，不需要再进行任何额外操作就可以安装和使用它。</p><p>综上所述，Vuex 更适用于大型应用程序的状态管理，而 Pinia 更适用于小型中型项目，同时在 API 设计上也有着不少的差异。但两者都可以为 Vue.js 中的状态管理提供便利，并根据个人需求和喜好进行选择。</p><h2 id="什么是事件循环？"><a href="#什么是事件循环？" class="headerlink" title="什么是事件循环？"></a>什么是事件循环？</h2><p>事件循环是 JavaScript 中一种异步执行机制，它的作用是协调和管理各种异步任务的执行顺序，保证 JavaScript 代码的执行顺序和预期一致。</p><p>整体的 script(作为第一个宏任务)开始执行的时候，会把所有代码分为两部分：“同步任务”、“异步任务”；</p><p>同步任务会直接进入主线程依次执行；</p><p>异步任务会再分为宏任务(进入宏任务队列) 和 微任务(进入微任务队列)。</p><p>当主线程内的任务执行完毕（主线程为空时），会检查微任务的任务队列，如果有任务，就进入主线程全部执行，如果没有就从宏任务队列读取下一个宏任务执行；</p><p>每执行完一个宏任务就清空一次微任务队列，此过程会不断重复，这就是 Event Loop；</p><p>宏任务</p><pre class=" language-js"><code class="language-js"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ajax<span class="token punctuation">;</span></code></pre><p>事件绑定</p><pre class=" language-js"><code class="language-js">微任务<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>后的then与<span class="token keyword">catch</span>函数<span class="token keyword">new</span> <span class="token class-name">MutaionObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span>process<span class="token punctuation">.</span>nextTick（Nodejs）</code></pre><p>微任务和宏任务的执行顺序是先执行同步任务，先执行同步后异步，异步分为宏任务和微任务两种，异步遇到微任务先执行微任务，执行完后如果没有微任务，就执行下一个宏任务。</p><h2 id="ES6-的新特性"><a href="#ES6-的新特性" class="headerlink" title="ES6 的新特性"></a>ES6 的新特性</h2><p>1.let 和 const 声明变量的方式，取代了 var 关键字。</p><p>2.箭头函数（Arrow Function），简化了函数的书写方式。</p><p>3.模板字符串（Template String），允许在字符串中使用变量和表达式，而不需要使用字符串连接符号。</p><p>4.解构赋值（Destructuring Assignment），允许从数组和对象中提取值并赋值给变量。</p><p>5.默认参数（Default Parameter），在定义函数时可以给参数设置默认值。</p><p>6.扩展操作符（Spread Operator），可以在函数调用时展开数组或对象。</p><p>7.类（Class），引入了面向对象编程中类的概念。</p><p>8.模块化（Module），提供了一种组织代码的方式，可以将代码分割成独立的模块，方便重用和维护。</p><p>9.Promise，用于处理异步操作，避免回调地狱的问题。</p><p>10.for…of 循环，用于遍历可迭代对象（如数组、Map 和 Set）中的元素。</p><p>11.Symbol，引入了一种新的数据类型，用于创建唯一的属性键。</p><p>12.Map 和 Set，引入了两种新的数据结构，分别用于存储键值对和唯一值。</p><p>13.Proxy，允许在对象和函数调用等操作前后添加自定义的行为。</p><p>14.Reflect，提供了一组可以操作对象的内置方法，可以替代一些对象方法（如 Object.defineProperty）的实现。</p><p>Promise.allSettled，用于处理多个 Promise 的状态并返回一个包含每个 Promise 状态的数组。</p><h2 id="箭头函数与普通函数的区别"><a href="#箭头函数与普通函数的区别" class="headerlink" title="箭头函数与普通函数的区别"></a>箭头函数与普通函数的区别</h2><p>1、外形不同：箭头函数使用箭头定义，普通函数中没有。</p><p>2、 箭头函数全都是匿名函数：普通函数可以有匿名函数，也可以有具名函数</p><p>3、箭头函数不能用于构造函数：普通函数可以用于构造函数，以此创建对象实例。</p><p>4、箭头函数中 this 的指向不同：在普通函数中，this 总是指向调用它的对象，如果用作构造函数，它指向创建的对象实例。</p><p>5、箭头函数不具有 arguments 对象：每一个普通函数调用后都具有一个<br>arguments 对象，用来存储实际传递的参数。但是箭头函数并没有此对象。</p><p>6、其他区别：箭头函数不具有 prototype 原型对象。箭头函数不具有 super。</p><p>箭头函数不具有 new.target</p><h2 id="vue-实现-tab-组件，使用双向数据绑定"><a href="#vue-实现-tab-组件，使用双向数据绑定" class="headerlink" title="vue 实现 tab 组件，使用双向数据绑定"></a>vue 实现 tab 组件，使用双向数据绑定</h2><p>父组件</p><pre class=" language-vue"><code class="language-vue"><template>  <my-tab v-model="activeValue" :tabList="tabList" @onTabChange="changeTab">  </my-tab></template><script>export default {  name: "fatherTab",  data() {    return {      tabList: [        { label: "标签1", value: 1 },        { label: "标签2", value: 2 },        { label: "标签3", value: 3 },      ],      activeValue: 1,    };  },  methods: {    changeTab(data) {      console.log("object :>> ", data);    },  },};</script></code></pre><p>子组件</p><pre class=" language-vue"><code class="language-vue"><template>  <div class="box">    <div class="active">      <div        class="activeBox"        v-for="(item, index) in tabList"        :key="item.value"        @click="selectedTab(index)"      >        <div class="text">          {{ item.label }}        </div>      </div>    </div>  </div></template><script>export default {  name: "MyTabs",  props: [value, tabList],  data() {    return {      activeValue: this.value,    };  },  watch: {    value: {      handler(val) {        deep: true;        this.activeValue = val.value;      },    },  },  computed: {    currentIndex() {      return this.tabList.findIndex((item) => item.value == this.value);    },  },  methods: {    selectedTab(i) {      console.log("子组件单击了");      this.$emit("onTabChange", this.tabList[i]);    },  },};</script><style></style></code></pre><p>写一个函数，用于比较两个对象是否相等</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">isObjectEqual</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> obj2<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> obj1Keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [ 'a', 'b' ]</span>  <span class="token keyword">const</span> obj2Keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [ 'a', 'b' ]</span>  <span class="token comment" spellcheck="true">//判断对象key个数是否相等</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj1Keys<span class="token punctuation">.</span>length <span class="token operator">!==</span> obj2Keys<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">//遍历对象的value值</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> obj1Keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// key:遍历数组的value值</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token string">"hello"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token string">"world"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj3 <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token string">"hello"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isObjectEqual</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span><span class="token comment" spellcheck="true">//   console.log(isObjectEqual(obj1, obj3)); // true</span></code></pre><h2 id="es6-与-commonjs-的区别"><a href="#es6-与-commonjs-的区别" class="headerlink" title="es6 与 commonjs 的区别"></a>es6 与 commonjs 的区别</h2><p>1.区别：<br>1、CommonJS 输出的是一个值的拷贝，ES6 输出的是值的引用；</p><p>2、CommonJS 是运行时加载，ES6 是编译时输出接口；</p><p>3、CommonJS 的 require 是同步加载模块，ES6 的 import 是异步加载，有独立模块依赖的解析阶段。</p><h2 id="JSON-parse-JSON-stringify-obj-深拷贝的问题"><a href="#JSON-parse-JSON-stringify-obj-深拷贝的问题" class="headerlink" title="JSON.parse(JSON.stringify(obj))深拷贝的问题"></a>JSON.parse(JSON.stringify(obj))深拷贝的问题</h2><p>1、如果 obj 里面存在时间对象,JSON.parse(JSON.stringify(obj))之后，时间对象变成了字符串。</p><p>2、如果 obj 里有 RegExp、Error 对象，则序列化的结果将只得到空对象。</p><p>3、如果 obj 里有函数，undefined，则序列化的结果会把函数， undefined 丢失。</p><p>4、如果 obj 里有 NaN、Infinity 和-Infinity，则序列化的结果会变成 null。</p><p>5、JSON.stringify()只能序列化对象的可枚举的自有属性。如果 obj 中的对象是有构造函数生成的， 则使用 JSON.parse(JSON.stringify(obj))深拷贝后，会丢弃对象的 constructor。</p><p>6、如果对象中存在循环引用的情况也无法正确实现深拷贝。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>    age <span class="token punctuation">:</span> <span class="token number">NaN</span><span class="token punctuation">,</span>  name<span class="token punctuation">:</span><span class="token string">"88"</span><span class="token punctuation">,</span>  isbol<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>  Reg<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\w+'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  err<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  ubd<span class="token punctuation">:</span>undefined<span class="token punctuation">,</span>  isDate<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>  fun <span class="token punctuation">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'object :>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token keyword">let</span> newObj<span class="token operator">=</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'newObj :>> '</span><span class="token punctuation">,</span> newObj<span class="token punctuation">)</span><span class="token punctuation">;</span>newObj <span class="token punctuation">:</span><span class="token operator">></span><span class="token operator">></span>  <span class="token punctuation">{</span>  age<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//有 NaN、Infinity 和-Infinity，则序列化的结果会变成 null。</span>  name<span class="token punctuation">:</span> <span class="token string">'88'</span><span class="token punctuation">,</span>  isbol<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  Reg<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//有 RegExp、Error 对象，则序列化的结果将只得到空对象。</span>  err<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//有 RegExp、Error 对象，则序列化的结果将只得到空对象。</span>  isDate<span class="token punctuation">:</span> <span class="token string">'2023-07-25T23:46:27.476Z'</span> <span class="token comment" spellcheck="true">//存在时间对象,JSON.parse(JSON.stringify(obj))之后，时间对象变成了字符串。</span><span class="token punctuation">}</span></code></pre><h2 id="为什么-Hooks-不能写在条件语句或循环语句中？-为了保证执行顺序一致性"><a href="#为什么-Hooks-不能写在条件语句或循环语句中？-为了保证执行顺序一致性" class="headerlink" title="为什么 Hooks 不能写在条件语句或循环语句中？ (为了保证执行顺序一致性)"></a>为什么 Hooks 不能写在条件语句或循环语句中？ (为了保证执行顺序一致性)</h2><p>因为 React 需要保证在每次组件渲染时，Hooks 的执行顺序都是一致的。如果将 Hooks 写在循环或条件语句中，那么每次渲染时，Hooks 的执行顺序都可能会发生变化。例如，当循环重新运行时，React 将无法确定哪个 Hook 应该先运行，哪个应该后运行。这样会导致组件状态发生不可预测的变化，从而影响组件的正确性。为了解决这个问题，React 强制要求我们在函数的顶部使用 Hooks。这样可以确保每次渲染时 Hooks 的执行顺序是一致的，从而保证组件状态能够正确地更新。</p><h2 id="React-Hooks-——-useMemo-amp-useCallback-区别"><a href="#React-Hooks-——-useMemo-amp-useCallback-区别" class="headerlink" title="React Hooks —— useMemo&amp;useCallback 区别"></a>React Hooks —— useMemo&amp;useCallback 区别</h2><p>相同点：useMemo 和 useCallback——用于优化性能的 Hook 函数</p><p>不同点：useMemo 缓存数据——类似 vue 的计算属性 ，useCallback 缓存函数引用</p><p>推荐 useMemo，useCallback 不要乱用<br>因为并不是所有组件内部的函数都拿起包起来处理回归，虽然减少了堆内存的开辟，但是 useCallback 本身也有自己的处理逻辑和缓存的机制，这个也消耗时间，而 useMemo 对性能的提升很明显<br>所以 useMemo 能用则用，useCallback 能不用则不用，就算用了也不一定有好的效果</p><h2 id="跨域是存在于浏览器端还是服务器端？"><a href="#跨域是存在于浏览器端还是服务器端？" class="headerlink" title="跨域是存在于浏览器端还是服务器端？"></a>跨域是存在于浏览器端还是服务器端？</h2><p>跨域主要是浏览器行为，是客户端行为，浏览器根据策略，判断是否是跨域。服务器端，是没有跨域这种说法的，其次因为浏览器使用门槛非常低，为了防止别有用心的人攻击普通用户，所以引入跨域策略。</p>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>forEach 如何跳出本次循环和终止循环</title>
      <link href="2022/120546254.html"/>
      <url>2022/120546254.html</url>
      
        <content type="html"><![CDATA[<p>通常，在 for 循环中跳出循环可以用 break 或者 continue 来跳出循环，那么这两个在 forEach 函数中好使吗，为此我们来试一试。</p><h5 id="1、forEach-跳出本次循环"><a href="#1、forEach-跳出本次循环" class="headerlink" title="1、forEach 跳出本次循环"></a>1、forEach 跳出本次循环</h5><p>可使用 return 语句跳出本次循环，执行下一次循环</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span>    <span class="token punctuation">}</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>将输出 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span>，<span class="token number">3</span>不会输出</code></pre><p>可以看到，forEach 中使用 return 语句的作用只能跳出当前循环（实现了 continue 的效果），并不能跳出整个循环，没达到期待的效果，满足条件后还继续执行了循环。</p><p>在 forEach 中使用 break：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item'</span><span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//运行结果：SyntaxError: Illegal break statement ：语法错误：非法的break语句</span></code></pre><p>直接报错了，后面的代码也没执行。</p><p>在 forEach 中使用 continue：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>item <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">continue</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'item'</span><span class="token punctuation">,</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//打印结果：SyntaxError: Illegal continue statement: no surrounding iteration statement ：非法的continue语句：没有周围的迭代语句</span></code></pre><p>直接报错了，后面的代码也没执行。</p><h5 id="2、forEach-终止循环"><a href="#2、forEach-终止循环" class="headerlink" title="2、forEach 终止循环"></a>2、forEach 终止循环</h5><p>forEach 无法通过正常流程(如 break)终止循环，但可通过抛出异常的方式实现终止循环</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token keyword">try</span><span class="token punctuation">{</span>  arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'End Loop'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message <span class="token operator">===</span> <span class="token string">'End Loop'</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> e<span class="token punctuation">}</span>将只输出 <span class="token number">1</span> <span class="token number">2</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsbreak、continue和return的区别总结</title>
      <link href="2022/120516197.html"/>
      <url>2022/120516197.html</url>
      
        <content type="html"><![CDATA[<p>面向对象编程语法中我们会碰到 break ,continue, return 这三个常用的关键字，为此来对其知识点加以回顾学习。</p><h2 id="1-break"><a href="#1-break" class="headerlink" title="1.break"></a>1.break</h2><h4 id="break-：break-语句会使运行的程序立刻退出，包含在最内层的循环或者退出一个-switch-语句。"><a href="#break-：break-语句会使运行的程序立刻退出，包含在最内层的循环或者退出一个-switch-语句。" class="headerlink" title="break ：break 语句会使运行的程序立刻退出，包含在最内层的循环或者退出一个 switch 语句。"></a>break ：break 语句会使运行的程序立刻退出，包含在最内层的循环或者退出一个 switch 语句。</h4><p>例子 1</p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//退出break所在层循环</span>    <span class="token punctuation">}</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"j ="</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//执行结果为：打印2次 j=0</span></code></pre><p>例子 2</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> num<span class="token punctuation">;</span><span class="token keyword">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">default</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span></code></pre><p>若不加 break 情况</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> num<span class="token punctuation">;</span><span class="token keyword">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">default</span><span class="token punctuation">:</span>    num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//2</span><span class="token comment" spellcheck="true">//执行结果为：2</span></code></pre><p>由于它是用来退出循环或者 switch 语句，所以只有当它出现在这些语句时，这种形式的 break 语句才是合法的。</p><p>如果一个循环的终止条件非常复杂，那么使用 break 语句来实现某些条件比用一个循环表达式来表达所有的条件容易得多</p><h2 id="2-continue"><a href="#2-continue" class="headerlink" title="2.continue"></a>2.continue</h2><h4 id="continue：continue-语句和-break-语句相似。所不同的是，它不会终止整个循环，而是终止本次迭代，继续开始循环的一次新迭代"><a href="#continue：continue-语句和-break-语句相似。所不同的是，它不会终止整个循环，而是终止本次迭代，继续开始循环的一次新迭代" class="headerlink" title="continue：continue 语句和 break 语句相似。所不同的是，它不会终止整个循环，而是终止本次迭代，继续开始循环的一次新迭代"></a>continue：continue 语句和 break 语句相似。所不同的是，它不会终止整个循环，而是终止本次迭代，继续开始循环的一次新迭代</h4><p>continue 语句只能用在 while 语句、do/while 语句、for 语句、或者 for/in 语句的循环体内，在其它地方使用都会引起错误！</p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//当i=6的时候，直接跳出本次for循环。下次继续执行。</span><span class="token comment" spellcheck="true">//输出结果：1234578910</span></code></pre><h2 id="return"><a href="#return" class="headerlink" title="return"></a>return</h2><h4 id="return-用于指定函数的返回值，return-只能出现在函数内部。遇到-return-即终止函数内所有代码执行，包括循环，直接退出整个函数。"><a href="#return-用于指定函数的返回值，return-只能出现在函数内部。遇到-return-即终止函数内所有代码执行，包括循环，直接退出整个函数。" class="headerlink" title="return:用于指定函数的返回值，return 只能出现在函数内部。遇到 return 即终止函数内所有代码执行，包括循环，直接退出整个函数。"></a>return:用于指定函数的返回值，return 只能出现在函数内部。遇到 return 即终止函数内所有代码执行，包括循环，直接退出整个函数。</h4><p>当执行 return 语句时，即使函数主体中还有其他语句，函数执行也会停止！</p><p>js 编程语法中的 break ,continue, return 这三个常用的关键字的使用相关内容就向你介绍到这里，希望对你了解和学习 break ,continue, return 这三个常用关键字的使用有所帮助。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">testReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> j<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//终止整个函数体内代码执行，函数返回值为 1</span>      <span class="token punctuation">}</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"j ="</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"函数的返回结果为："</span> <span class="token operator">+</span> <span class="token function">testReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//执行结果为：打印 1次 j =0; 打印一次  函数的返回结果为1</span></code></pre><p>如果在非函数内使用 return；<br>执行结果 Uncaught SyntaxError: illegal return statement(…)<br>错误意思是非法捕获的查询返回语句。<br>当执行 return 语句时, 即使函数主题中还有其他语句, 函数执行也会停止!</p><h4 id="总结：break-和-continue-为循环体内部使用，break-退出-当前循环以及当前循环内部所有循环，continue-是退出-当前循环的当前次迭代，开始下一次迭代。return-为函数返回值，终止整个函数执行。"><a href="#总结：break-和-continue-为循环体内部使用，break-退出-当前循环以及当前循环内部所有循环，continue-是退出-当前循环的当前次迭代，开始下一次迭代。return-为函数返回值，终止整个函数执行。" class="headerlink" title="总结：break 和 continue 为循环体内部使用，break 退出 当前循环以及当前循环内部所有循环，continue 是退出 当前循环的当前次迭代，开始下一次迭代。return 为函数返回值，终止整个函数执行。"></a>总结：break 和 continue 为循环体内部使用，break 退出 当前循环以及当前循环内部所有循环，continue 是退出 当前循环的当前次迭代，开始下一次迭代。return 为函数返回值，终止整个函数执行。</h4>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浅析vue-router动态路由传参的区别</title>
      <link href="2022/112314202.html"/>
      <url>2022/112314202.html</url>
      
        <content type="html"><![CDATA[<p>vue-router 动态路由传参常见方法有 query 和 params，今天我来和大家谈谈两者区别。</p><h2 id="1-用法不同：-query-用-path-来引入，params-只能用-name-来传递，不能使用-path"><a href="#1-用法不同：-query-用-path-来引入，params-只能用-name-来传递，不能使用-path" class="headerlink" title="1.用法不同： query 用 path 来引入，params 只能用 name 来传递，不能使用 path"></a>1.用法不同： query 用 path 来引入，params 只能用 name 来传递，不能使用 path</h2><p>query 方式传参和接收参数</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//传参</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        path<span class="token punctuation">:</span><span class="token string">'/xxx'</span>        query<span class="token punctuation">:</span><span class="token punctuation">{</span>          id<span class="token punctuation">:</span>id        <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//接收参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id</code></pre><p>传参是 this.$router，接收参数是this.$route</p><p>$router为VueRouter实例。想要导航跳不同URL可以使用$this.router 的方法（push、go、replace）去切换路由</p><p>$route 是当前 router 跳转对象。里面可以获取 name、path、query、params 等相关信息</p><p>params 方式传参和接收参数</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//传参</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        name<span class="token punctuation">:</span><span class="token string">'/xxx'</span>        params<span class="token punctuation">:</span><span class="token punctuation">{</span>          id<span class="token punctuation">:</span>id        <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//接收参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id</code></pre><p>params 传参里面只能是 name，不能是 path</p><p>params 只能用 name 来引入路由，如果这里写成了 path，接收参数页面会是 undefined</p><h2 id="展示效果：query-更像-ajax-中-get-请求（会在地址栏显示参数），而-params-更像-post-方式传递（不会在地址栏显示参数）"><a href="#展示效果：query-更像-ajax-中-get-请求（会在地址栏显示参数），而-params-更像-post-方式传递（不会在地址栏显示参数）" class="headerlink" title="展示效果：query 更像 ajax 中 get 请求（会在地址栏显示参数），而 params 更像 post 方式传递（不会在地址栏显示参数）"></a>展示效果：query 更像 ajax 中 get 请求（会在地址栏显示参数），而 params 更像 post 方式传递（不会在地址栏显示参数）</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//query展现效果</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8080</span><span class="token operator">/</span>detail<span class="token operator">?</span>type<span class="token operator">=</span><span class="token number">0</span><span class="token operator">&amp;</span>detail<span class="token operator">=</span>哈哈<span class="token comment" spellcheck="true">// params展现效果</span>http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token punctuation">:</span><span class="token number">8080</span><span class="token operator">/</span>detail</code></pre><p>query 跟 params，前者在浏览器地址栏中显示参数，后者则不显示。</p><h2 id="3-刷新是否丢失数据"><a href="#3-刷新是否丢失数据" class="headerlink" title="3.刷新是否丢失数据"></a>3.刷新是否丢失数据</h2><p>query 刷新不会丢失 query 里面的数据<br>params 刷新会丢失 params 里面的数据</p><p>总结</p><p>以上所述是给大家介绍的 vue-router 中 params 和 query 的区别，希望对大家有所帮助。</p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue-router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue3学习总结</title>
      <link href="2022/112328738.html"/>
      <url>2022/112328738.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vue3-学习总结"><a href="#Vue3-学习总结" class="headerlink" title="Vue3 学习总结"></a>Vue3 学习总结</h1><img src="https://user-images.githubusercontent.com/499550/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png" style="width:200px"><h2 id="1-Vue3-简介"><a href="#1-Vue3-简介" class="headerlink" title="1.Vue3 简介"></a>1.Vue3 简介</h2><ul><li>2020 年 9 月 18 日，Vue.js 发布 3.0 版本，代号：One Piece（海贼王）</li><li>耗时 2 年多、<a href="https://github.com/vuejs/vue-next/graphs/commit-activity">2600+次提交</a>、<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">30+个 RFC</a>、<a href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+次 PR</a>、<a href="https://github.com/vuejs/vue-next/graphs/contributors">99 位贡献者</a></li><li>github 上的 tags 地址：<a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></li></ul><h2 id="2-Vue3-带来了什么"><a href="#2-Vue3-带来了什么" class="headerlink" title="2.Vue3 带来了什么"></a>2.Vue3 带来了什么</h2><h3 id="1-性能的提升"><a href="#1-性能的提升" class="headerlink" title="1.性能的提升"></a>1.性能的提升</h3><ul><li><p>打包大小减少 41%</p></li><li><p>初次渲染快 55%, 更新渲染快 133%</p></li><li><p>内存减少 54%</p><p>……</p></li></ul><h3 id="2-源码的升级"><a href="#2-源码的升级" class="headerlink" title="2.源码的升级"></a>2.源码的升级</h3><ul><li><p>使用 Proxy 代替 defineProperty 实现响应式</p></li><li><p>重写虚拟 DOM 的实现和 Tree-Shaking</p><p>……</p></li></ul><h3 id="3-拥抱-TypeScript"><a href="#3-拥抱-TypeScript" class="headerlink" title="3.拥抱 TypeScript"></a>3.拥抱 TypeScript</h3><ul><li>Vue3 可以更好的支持 TypeScript</li></ul><h3 id="4-新的特性"><a href="#4-新的特性" class="headerlink" title="4.新的特性"></a>4.新的特性</h3><ol><li><p>Composition API（组合 API）</p><ul><li>setup 配置</li><li>ref 与 reactive</li><li>watch 与 watchEffect</li><li>provide 与 inject</li><li>……</li></ul></li><li><p>新的内置组件</p><ul><li>Fragment</li><li>Teleport</li><li>Suspense</li></ul></li><li><p>其他改变</p><ul><li>新的生命周期钩子</li><li>data 选项应始终被声明为一个函数</li><li>移除 keyCode 支持作为 v-on 的修饰符</li><li>……</li></ul></li></ol><h1 id="一、创建-Vue3-0-工程"><a href="#一、创建-Vue3-0-工程" class="headerlink" title="一、创建 Vue3.0 工程"></a>一、创建 Vue3.0 工程</h1><h2 id="1-使用-vue-cli-创建"><a href="#1-使用-vue-cli-创建" class="headerlink" title="1.使用 vue-cli 创建"></a>1.使用 vue-cli 创建</h2><p>官方文档：<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上</span>vue --version<span class="token comment" spellcheck="true">## 安装或者升级你的@vue/cli</span><span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli<span class="token comment" spellcheck="true">## 创建</span>vue create vue_test<span class="token comment" spellcheck="true">## 启动</span><span class="token function">cd</span> vue_test<span class="token function">npm</span> run serve</code></pre><h2 id="2-使用-vite-创建"><a href="#2-使用-vite-创建" class="headerlink" title="2.使用 vite 创建"></a>2.使用 vite 创建</h2><p>官方文档：<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p><p>vite 官网：<a href="https://vitejs.cn/">https://vitejs.cn</a></p><ul><li>什么是 vite？—— 新一代前端构建工具。</li><li>优势如下：<ul><li>开发环境中，无需打包操作，可快速的冷启动。</li><li>轻量快速的热重载（HMR）。</li><li>真正的按需编译，不再等待整个应用编译完成。</li></ul></li><li>传统构建 与 vite 构建对比图</li></ul><p><img src="https://cn.vitejs.dev/assets/bundler.37740380.png" style="width:500px;height:280px;float:left"><img src="https://cn.vitejs.dev/assets/esm.3070012d.png" style="width:480px;height:280px"></p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">## 创建工程</span><span class="token function">npm</span> init vite-app <span class="token operator">&lt;</span>project-name<span class="token operator">></span><span class="token comment" spellcheck="true">## 进入工程目录</span><span class="token function">cd</span> <span class="token operator">&lt;</span>project-name<span class="token operator">></span><span class="token comment" spellcheck="true">## 安装依赖</span><span class="token function">npm</span> <span class="token function">install</span><span class="token comment" spellcheck="true">## 运行</span><span class="token function">npm</span> run dev</code></pre><h1 id="二、常用-Composition-API"><a href="#二、常用-Composition-API" class="headerlink" title="二、常用 Composition API"></a>二、常用 Composition API</h1><p>官方文档: <a href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a></p><h2 id="1-拉开序幕的-setup"><a href="#1-拉开序幕的-setup" class="headerlink" title="1.拉开序幕的 setup"></a>1.拉开序幕的 setup</h2><ol><li>理解：Vue3.0 中一个新的配置项，值为一个函数。</li><li>setup 是所有<strong style="color:#DD5145">Composition API（组合 API）</strong><i style="color:gray;font-weight:bold">“ 表演的舞台 ”</i>。</li><li>组件中所用到的：数据、方法等等，均要配置在 setup 中。</li><li>setup 函数的两种返回值：<ol><li>若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）</li><li><span style="color:#aad">若返回一个渲染函数：则可以自定义渲染内容。（了解）</span></li></ol></li><li>注意点：<ol><li>尽量不要与 Vue2.x 配置混用<ul><li>Vue2.x 配置（data、methos、computed…）中<strong style="color:#DD5145">可以访问到</strong>setup 中的属性、方法。</li><li>但在 setup 中<strong style="color:#DD5145">不能访问到</strong>Vue2.x 配置（data、methos、computed…）。</li><li>如果有重名, setup 优先。</li></ul></li><li>setup 不能是一个 async 函数，因为返回值不再是 return 的对象, 而是 promise, 模板看不到 return 对象中的属性。（后期也可以返回一个 Promise 实例，但需要 Suspense 和异步组件的配合）</li></ol></li></ol><h2 id="2-ref-函数"><a href="#2-ref-函数" class="headerlink" title="2.ref 函数"></a>2.ref 函数</h2><ul><li>作用: 定义一个响应式的数据</li><li>语法: <code>const xxx = ref(initValue)</code><ul><li>创建一个包含响应式数据的<strong style="color:#DD5145">引用对象（reference 对象，简称 ref 对象）</strong>。</li><li>JS 中操作数据： <code>xxx.value</code></li><li>模板中读取数据: 不需要.value，直接：<code>&lt;div&gt;{{xxx}}&lt;/div&gt;</code></li></ul></li><li>备注：<ul><li>接收的数据可以是：基本类型、也可以是对象类型。</li><li>基本类型的数据：响应式依然是靠<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>完成的。</li><li>对象类型的数据：内部 <i style="color:gray;font-weight:bold">“ 求助 ”</i> 了 Vue3.0 中的一个新函数—— <code>reactive</code>函数。</li></ul></li></ul><h2 id="3-reactive-函数"><a href="#3-reactive-函数" class="headerlink" title="3.reactive 函数"></a>3.reactive 函数</h2><ul><li>作用: 定义一个<strong style="color:#DD5145">对象类型</strong>的响应式数据（基本类型不要用它，要用<code>ref</code>函数）</li><li>语法：<code>const 代理对象= reactive(源对象)</code>接收一个对象（或数组），返回一个<strong style="color:#DD5145">代理对象（Proxy 的实例对象，简称 proxy 对象）</strong></li><li>reactive 定义的响应式数据是“深层次的”。</li><li>内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。</li></ul><h2 id="4-Vue3-0-中的响应式原理"><a href="#4-Vue3-0-中的响应式原理" class="headerlink" title="4.Vue3.0 中的响应式原理"></a>4.Vue3.0 中的响应式原理</h2><h3 id="vue2-x-的响应式"><a href="#vue2-x-的响应式" class="headerlink" title="vue2.x 的响应式"></a>vue2.x 的响应式</h3><ul><li><p>实现原理：</p><ul><li><p>对象类型：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</p></li><li><p>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</p><pre class=" language-js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">"count"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul></li><li><p>存在问题：</p><ul><li>新增属性、删除属性, 界面不会更新。</li><li>直接通过下标修改数组, 界面不会自动更新。</li></ul></li></ul><h3 id="Vue3-0-的响应式"><a href="#Vue3-0-的响应式" class="headerlink" title="Vue3.0 的响应式"></a>Vue3.0 的响应式</h3><ul><li><p>实现原理:</p><ul><li><p>通过 Proxy（代理）: 拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。</p></li><li><p>通过 Reflect（反射）: 对源对象的属性进行操作。</p></li><li><p>MDN 文档中描述的 Proxy 与 Reflect：</p><ul><li><p>Proxy：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p></li><li><p>Reflect：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p><pre class=" language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 拦截读取属性值</span>  <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 拦截设置属性值或添加新属性</span>  <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 拦截删除属性</span>  <span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>proxy<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"tom"</span><span class="token punctuation">;</span></code></pre></li></ul></li></ul></li></ul><h2 id="5-reactive-对比-ref"><a href="#5-reactive-对比-ref" class="headerlink" title="5.reactive 对比 ref"></a>5.reactive 对比 ref</h2><ul><li>从定义数据角度对比：<ul><li>ref 用来定义：<strong style="color:#DD5145">基本类型数据</strong>。</li><li>reactive 用来定义：<strong style="color:#DD5145">对象（或数组）类型数据</strong>。</li><li>备注：ref 也可以用来定义<strong style="color:#DD5145">对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong style="color:#DD5145">代理对象</strong>。</li></ul></li><li>从原理角度对比：<ul><li>ref 通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）。</li><li>reactive 通过使用<strong style="color:#DD5145">Proxy</strong>来实现响应式（数据劫持）, 并通过<strong style="color:#DD5145">Reflect</strong>操作<strong style="color:orange">源对象</strong>内部的数据。</li></ul></li><li>从使用角度对比：<ul><li>ref 定义的数据：操作数据<strong style="color:#DD5145">需要</strong><code>.value</code>，读取数据时模板中直接读取<strong style="color:#DD5145">不需要</strong><code>.value</code>。</li><li>reactive 定义的数据：操作数据与读取数据：<strong style="color:#DD5145">均不需要</strong><code>.value</code>。</li></ul></li></ul><h2 id="6-setup-的两个注意点"><a href="#6-setup-的两个注意点" class="headerlink" title="6.setup 的两个注意点"></a>6.setup 的两个注意点</h2><ul><li>setup 执行的时机<ul><li>在 beforeCreate 之前执行一次，this 是 undefined。</li></ul></li><li>setup 的参数<ul><li>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。</li><li>context：上下文对象<ul><li>attrs: 值为对象，包含：组件外部传递过来，但没有在 props 配置中声明的属性, 相当于 <code>this.$attrs</code>。</li><li>slots: 收到的插槽内容, 相当于 <code>this.$slots</code>。</li><li>emit: 分发自定义事件的函数, 相当于 <code>this.$emit</code>。</li></ul></li></ul></li></ul><h2 id="7-计算属性与监视"><a href="#7-计算属性与监视" class="headerlink" title="7.计算属性与监视"></a>7.计算属性与监视</h2><h3 id="1-computed-函数"><a href="#1-computed-函数" class="headerlink" title="1.computed 函数"></a>1.computed 函数</h3><ul><li><p>与 Vue2.x 中 computed 配置功能一致</p></li><li><p>写法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>computed<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span>    <span class="token comment" spellcheck="true">//计算属性——简写</span>    <span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>        <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//计算属性——完整</span>    <span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">const</span> nameArr <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>            person<span class="token punctuation">.</span>firstName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            person<span class="token punctuation">.</span>lastName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li></ul><h3 id="2-watch-函数"><a href="#2-watch-函数" class="headerlink" title="2.watch 函数"></a>2.watch 函数</h3><ul><li><p>与 Vue2.x 中 watch 配置功能一致</p></li><li><p>两个小“坑”：</p><ul><li>监视 reactive 定义的响应式数据时：oldValue 无法正确获取、强制开启了深度监视（deep 配置失效）。</li><li>监视 reactive 定义的响应式数据中某个属性时：deep 配置有效。</li></ul><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//情况一：监视ref定义的响应式数据</span><span class="token function">watch</span><span class="token punctuation">(</span>  sum<span class="token punctuation">,</span>  <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"sum变化了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> immediate<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//情况二：监视多个ref定义的响应式数据</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>sum<span class="token punctuation">,</span> msg<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"sum或msg变化了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/* 情况三：监视reactive定义的响应式数据            若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！            若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 */</span><span class="token function">watch</span><span class="token punctuation">(</span>  person<span class="token punctuation">,</span>  <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"person变化了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> immediate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//此处的deep配置不再奏效</span><span class="token comment" spellcheck="true">//情况四：监视reactive定义的响应式数据中的某个属性</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span>  <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"person的job变化了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> immediate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//情况五：监视reactive定义的响应式数据中的某些属性</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> person<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"person的job变化了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> immediate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//特殊情况</span><span class="token function">watch</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> person<span class="token punctuation">.</span>job<span class="token punctuation">,</span>  <span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"person的job变化了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> deep<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span></code></pre></li></ul><h3 id="3-watchEffect-函数"><a href="#3-watchEffect-函数" class="headerlink" title="3.watchEffect 函数"></a>3.watchEffect 函数</h3><ul><li><p>watch 的套路是：既要指明监视的属性，也要指明监视的回调。</p></li><li><p>watchEffect 的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。</p></li><li><p>watchEffect 有点像 computed：</p><ul><li>但 computed 注重的计算出来的值（回调函数的返回值），所以必须要写返回值。</li><li>而 watchEffect 更注重的是过程（回调函数的函数体），所以不用写返回值。</li></ul><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span><span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> x1 <span class="token operator">=</span> sum<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token keyword">const</span> x2 <span class="token operator">=</span> person<span class="token punctuation">.</span>age<span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"watchEffect配置的回调执行了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h2 id="8-生命周期"><a href="#8-生命周期" class="headerlink" title="8.生命周期"></a>8.生命周期</h2><div style="border:1px solid black;width:380px;float:left;margin-right:20px;"><strong>vue2.x的生命周期</strong><img src="https://cn.vuejs.org/images/lifecycle.png" alt="lifecycle_2" style="zoom:33%;width:1200px"></div><div style="border:1px solid black;width:510px;height:985px;float:left"><strong>vue3.0的生命周期</strong><img src="https://v3.cn.vuejs.org/images/lifecycle.svg" alt="lifecycle_2" style="zoom:33%;width:2500px"></div><p>1</p><ul><li>Vue3.0 中可以继续使用 Vue2.x 中的生命周期钩子，但有有两个被更名：<ul><li><code>beforeDestroy</code>改名为 <code>beforeUnmount</code></li><li><code>destroyed</code>改名为 <code>unmounted</code></li></ul></li><li>Vue3.0 也提供了 Composition API 形式的生命周期钩子，与 Vue2.x 中钩子对应关系如下：<ul><li><code>beforeCreate</code>===&gt;<code>setup()</code></li><li><code>created</code>=======&gt;<code>setup()</code></li><li><code>beforeMount</code> ===&gt;<code>onBeforeMount</code></li><li><code>mounted</code>=======&gt;<code>onMounted</code></li><li><code>beforeUpdate</code>===&gt;<code>onBeforeUpdate</code></li><li><code>updated</code> =======&gt;<code>onUpdated</code></li><li><code>beforeUnmount</code>&nbsp;==&gt;<code>onBeforeUnmount</code></li><li><code>unmounted</code> =====&gt;<code>onUnmounted</code></li></ul></li></ul><h2 id="9-自定义-hook-函数"><a href="#9-自定义-hook-函数" class="headerlink" title="9.自定义 hook 函数"></a>9.自定义 hook 函数</h2><ul><li><p>什么是 hook？—— 本质是一个函数，把 setup 函数中使用的 Composition API 进行了封装。</p></li><li><p>类似于 vue2.x 中的 mixin。</p></li><li><p>自定义 hook 的优势: 复用代码, 让 setup 中的逻辑更清楚易懂。</p></li></ul><h2 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a>10.toRef</h2><ul><li><p>作用：创建一个 ref 对象，其 value 值指向另一个对象中的某个属性。</p></li><li><p>语法：<code>const name = toRef(person,'name')</code></p></li><li><p>应用: 要将响应式对象中的某个属性单独提供给外部使用时。</p></li><li><p>扩展：<code>toRefs</code> 与<code>toRef</code>功能一致，但可以批量创建多个 ref 对象，语法：<code>toRefs(person)</code></p></li></ul><h1 id="三、其它-Composition-API"><a href="#三、其它-Composition-API" class="headerlink" title="三、其它 Composition API"></a>三、其它 Composition API</h1><h2 id="1-shallowReactive-与-shallowRef"><a href="#1-shallowReactive-与-shallowRef" class="headerlink" title="1.shallowReactive 与 shallowRef"></a>1.shallowReactive 与 shallowRef</h2><ul><li><p>shallowReactive：只处理对象最外层属性的响应式（浅响应式）。</p></li><li><p>shallowRef：只处理基本数据类型的响应式, 不进行对象的响应式处理。</p></li><li><p>什么时候使用?</p><ul><li>如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 ===&gt; shallowReactive。</li><li>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 ===&gt; shallowRef。</li></ul></li></ul><h2 id="2-readonly-与-shallowReadonly"><a href="#2-readonly-与-shallowReadonly" class="headerlink" title="2.readonly 与 shallowReadonly"></a>2.readonly 与 shallowReadonly</h2><ul><li>readonly: 让一个响应式数据变为只读的（深只读）。</li><li>shallowReadonly：让一个响应式数据变为只读的（浅只读）。</li><li>应用场景: 不希望数据被修改时。</li></ul><h2 id="3-toRaw-与-markRaw"><a href="#3-toRaw-与-markRaw" class="headerlink" title="3.toRaw 与 markRaw"></a>3.toRaw 与 markRaw</h2><ul><li>toRaw：<ul><li>作用：将一个由<code>reactive</code>生成的<strong style="color:orange">响应式对象</strong>转为<strong style="color:orange">普通对象</strong>。</li><li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li></ul></li><li>markRaw：<ul><li>作用：标记一个对象，使其永远不会再成为响应式对象。</li><li>应用场景:<ol><li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li><li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li></ol></li></ul></li></ul><h2 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a>4.customRef</h2><ul><li><p>作用：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</p></li><li><p>实现防抖效果：</p><pre class=" language-vue"><code class="language-vue"><template>  <input type="text" v-model="keyword" />  <h3>{{ keyword }}</h3></template><script>import { ref, customRef } from "vue";export default {  name: "Demo",  setup() {    // let keyword = ref('hello') //使用Vue准备好的内置ref    //自定义一个myRef    function myRef(value, delay) {      let timer;      //通过customRef去实现自定义      return customRef((track, trigger) => {        return {          get() {            track(); //告诉Vue这个value值是需要被“追踪”的            return value;          },          set(newValue) {            clearTimeout(timer);            timer = setTimeout(() => {              value = newValue;              trigger(); //告诉Vue去更新界面            }, delay);          },        };      });    }    let keyword = myRef("hello", 500); //使用程序员自定义的ref    return {      keyword,    };  },};</script></code></pre></li></ul><h2 id="5-provide-与-inject"><a href="#5-provide-与-inject" class="headerlink" title="5.provide 与 inject"></a>5.provide 与 inject</h2><img src="https://v3.cn.vuejs.org/images/components_provide.png" style="width:300px"><ul><li><p>作用：实现<strong style="color:#DD5145">祖与后代组件间</strong>通信</p></li><li><p>套路：父组件有一个 <code>provide</code> 选项来提供数据，后代组件有一个 <code>inject</code> 选项来开始使用这些数据</p></li><li><p>具体写法：</p><ol><li><p>祖组件中：</p><pre class=" language-js"><code class="language-js"><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token operator">...</span>    <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'奔驰'</span><span class="token punctuation">,</span>price<span class="token punctuation">:</span><span class="token string">'40万'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>    <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span></code></pre></li><li><p>后代组件中：</p><pre class=" language-js"><code class="language-js"><span class="token function">setup</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span>context<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token operator">...</span>    <span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'car'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>car<span class="token punctuation">}</span>    <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span></code></pre></li></ol></li></ul><h2 id="6-响应式数据的判断"><a href="#6-响应式数据的判断" class="headerlink" title="6.响应式数据的判断"></a>6.响应式数据的判断</h2><ul><li>isRef: 检查一个值是否为一个 ref 对象</li><li>isReactive: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li><li>isReadonly: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li><li>isProxy: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li></ul><h1 id="四、Composition-API-的优势"><a href="#四、Composition-API-的优势" class="headerlink" title="四、Composition API 的优势"></a>四、Composition API 的优势</h1><h2 id="1-Options-API-存在的问题"><a href="#1-Options-API-存在的问题" class="headerlink" title="1.Options API 存在的问题"></a>1.Options API 存在的问题</h2><p>使用传统 OptionsAPI 中，新增或者修改一个需求，就需要分别在 data，methods，computed 里修改 。</p><div style="width:600px;height:370px;overflow:hidden;float:left">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image" style="width:600px;float:left"></div><div style="width:300px;height:370px;overflow:hidden;float:left">    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image" style="zoom:50%;width:560px;left"> </div><h2 id="2-Composition-API-的优势"><a href="#2-Composition-API-的优势" class="headerlink" title="2.Composition API 的优势"></a>2.Composition API 的优势</h2><p>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起。</p><div style="width:500px;height:340px;overflow:hidden;float:left">    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image" style="height:360px"></div><div style="width:430px;height:340px;overflow:hidden;float:left">    <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image" style="height:360px"></div><h1 id="五、新的组件"><a href="#五、新的组件" class="headerlink" title="五、新的组件"></a>五、新的组件</h1><h2 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h2><ul><li>在 Vue2 中: 组件必须有一个根标签</li><li>在 Vue3 中: 组件可以没有根标签, 内部会将多个标签包含在一个 Fragment 虚拟元素中</li><li>好处: 减少标签层级, 减小内存占用</li></ul><h2 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h2><ul><li><p>什么是 Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong style="color:#DD5145">组件 html 结构</strong>移动到指定位置的技术。</p><pre class=" language-vue"><code class="language-vue"><teleport to="移动位置">    <div v-if="isShow" class="mask">        <div class="dialog">            <h3>我是一个弹窗</h3>            <button @click="isShow = false">关闭弹窗</button>        </div>    </div></teleport></code></pre></li></ul><h2 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a>3.Suspense</h2><ul><li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p></li><li><p>使用步骤：</p><ul><li><p>异步引入组件</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./components/Child.vue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code> 与 <code>fallback</code></p><pre class=" language-vue"><code class="language-vue"><template>  <div class="app">    <h3>我是App组件</h3>    <Suspense>      <template v-slot:default>        <Child />      </template>      <template v-slot:fallback>        <h3>加载中.....</h3>      </template>    </Suspense>  </div></template></code></pre></li></ul></li></ul><h1 id="六、其他"><a href="#六、其他" class="headerlink" title="六、其他"></a>六、其他</h1><h2 id="1-全局-API-的转移"><a href="#1-全局-API-的转移" class="headerlink" title="1.全局 API 的转移"></a>1.全局 API 的转移</h2><ul><li><p>Vue 2.x 有许多全局 API 和配置。</p><ul><li><p>例如：注册全局组件、注册全局指令等。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//注册全局组件</span>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MyButton'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  data<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>    count<span class="token punctuation">:</span> <span class="token number">0</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  template<span class="token punctuation">:</span> <span class="token string">'&lt;button @click="count++">Clicked {{ count }} times.&lt;/button>'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//注册全局指令</span>Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  inserted<span class="token punctuation">:</span> el <span class="token operator">=</span><span class="token operator">></span> el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li></ul></li><li><p>Vue3.0 中对这些 API 做出了调整：</p><ul><li><p>将全局的 API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p><table><thead><tr><th>2.x 全局 API（<code>Vue</code>）</th><th>3.x 实例 API (<code>app</code>)</th></tr></thead><tbody><tr><td>Vue.config.xxxx</td><td>app.config.xxxx</td></tr><tr><td>Vue.config.productionTip</td><td><strong style="color:#DD5145">移除</strong></td></tr><tr><td>Vue.component</td><td>app.component</td></tr><tr><td>Vue.directive</td><td>app.directive</td></tr><tr><td>Vue.mixin</td><td>app.mixin</td></tr><tr><td>Vue.use</td><td>app.use</td></tr><tr><td>Vue.prototype</td><td>app.config.globalProperties</td></tr></tbody></table></li></ul></li></ul><h2 id="2-其他改变"><a href="#2-其他改变" class="headerlink" title="2.其他改变"></a>2.其他改变</h2><ul><li><p>data 选项应始终被声明为一个函数。</p></li><li><p>过度类名的更改：</p><ul><li><p>Vue2.x 写法</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.v-enter</span>,<span class="token class">.v-leave-to</span> </span><span class="token punctuation">{</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.v-leave</span>,<span class="token class">.v-enter-to</span> </span><span class="token punctuation">{</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li><p>Vue3.x 写法</p><pre class=" language-css"><code class="language-css"><span class="token selector"><span class="token class">.v-enter-from</span>,<span class="token class">.v-leave-to</span> </span><span class="token punctuation">{</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector"><span class="token class">.v-leave-from</span>,<span class="token class">.v-enter-to</span> </span><span class="token punctuation">{</span>  <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>keyCode 作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p></li><li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符</p><ul><li><p>父组件中绑定事件</p><pre class=" language-vue"><code class="language-vue"><my-component  v-on:close="handleComponentEvent"  v-on:click="handleNativeClickEvent"/></code></pre></li><li><p>子组件中声明自定义事件</p><pre class=" language-vue"><code class="language-vue"><script>export default {  emits: ["close"],};</script></code></pre></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p><blockquote><p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p></blockquote></li><li><p>……</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> vue3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js-代码简洁之道</title>
      <link href="2022/110437296.html"/>
      <url>2022/110437296.html</url>
      
        <content type="html"><![CDATA[<p>这篇文章主要是跟大家分享了 javascript 简写常用技巧,三人行，必有我师，欢迎多补充，指教！</p><h2 id="1-空-null-undefined-验证"><a href="#1-空-null-undefined-验证" class="headerlink" title="1. 空(null, undefined)验证"></a>1. 空(null, undefined)验证</h2><p>null 和 undefined 的空置检查当这个数据已知是 null 或者是 undefined 可以这样写</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">||</span> a <span class="token operator">!==</span> undefined <span class="token operator">||</span> a <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// logic</span>  <span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>可以简写为：</p><p>1.</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> b <span class="token operator">=</span> a <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">;</span></code></pre><ol start="2"><li>还可以基于 ?? 操作符 如果左边的值为 null 或 undefined 就返回右边的值，如果左边的值为默认值就返回左边的值</li></ol><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">"default"</span><span class="token punctuation">;</span></code></pre><h2 id="2-判断值是否存在"><a href="#2-判断值是否存在" class="headerlink" title="2.判断值是否存在"></a>2.判断值是否存在</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// 存在</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// 不存在</span></code></pre><h2 id="3-将字符串转数字"><a href="#3-将字符串转数字" class="headerlink" title="3.将字符串转数字"></a>3.将字符串转数字</h2><pre class=" language-js"><code class="language-js"> <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'123'</span> <span class="token comment" spellcheck="true">//方法1.parseInt()解析一个字符串并返回一个整数。允许空格。仅返回第一个数字。</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//  123</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token comment" spellcheck="true">//方法2.Number()可用于将 JavaScript 变量转换为数字。我们可以用它来转换字符串太数字。</span><span class="token function">Number</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 123;</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token comment" spellcheck="true">//方法3. 使用一元运算符 (+)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 123;</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token comment" spellcheck="true">//方法4. 乘以数字</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token operator">*</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 123;</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token comment" spellcheck="true">//方法5.双波浪号 (~~) 运算符</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span>str<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 123</span></code></pre><h2 id="4-运用三元运算符，来简化-if-true…else-条件的写法"><a href="#4-运用三元运算符，来简化-if-true…else-条件的写法" class="headerlink" title="4. 运用三元运算符，来简化 if true…else 条件的写法"></a>4. 运用三元运算符，来简化 if true…else 条件的写法</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> test<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  test <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  test <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 简化操作</span>test <span class="token operator">=</span> x <span class="token operator">></span> <span class="token number">100</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre><h2 id="5-if-判断输入非空"><a href="#5-if-判断输入非空" class="headerlink" title="5.if 判断输入非空"></a>5.if 判断输入非空</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>value <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">!==</span> undefined <span class="token operator">&amp;&amp;</span> value <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// 简化操作</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token operator">?</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span></code></pre><p>补充：</p><ol><li><p>?? 是聚合运算符，又称为空值合并运算符，它只判断 null 和 undefined，如果左值为 null 或 undefined，就返回右值。默认返回左值。</p></li><li><p>!!将任何变量转换成 boolean</p></li></ol><h2 id="6-判断对象的某些属性是否存在，可选项"><a href="#6-判断对象的某些属性是否存在，可选项" class="headerlink" title="6.判断对象的某些属性是否存在，可选项 .?"></a>6.判断对象的某些属性是否存在，可选项 .?</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token punctuation">{</span> c<span class="token punctuation">:</span> <span class="token number">5</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//非简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>obj<span class="token punctuation">.</span>a <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">// 简化操作</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>obj1<span class="token punctuation">.</span>a<span class="token operator">?</span><span class="token punctuation">.</span>b<span class="token operator">?</span><span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//属性不存在会返回undefined</span></code></pre><h2 id="8-对象属性简写"><a href="#8-对象属性简写" class="headerlink" title="8.对象属性简写"></a>8.对象属性简写</h2><p>描述：如果属性名与 key 名相同</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> y <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 简化操作</span><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="9-合并数组数据"><a href="#9-合并数组数据" class="headerlink" title="9.合并数组数据"></a>9.合并数组数据</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[1,2,3,1,5,6]</span><span class="token comment" spellcheck="true">// 简化操作</span><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[1,2,3,5,6]</span></code></pre><h2 id="10-合并对象数据"><a href="#10-合并对象数据" class="headerlink" title="10.合并对象数据"></a>10.合并对象数据</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>  b<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj1<span class="token punctuation">,</span> obj2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//{a:1,b:1}</span><span class="token comment" spellcheck="true">// 简化操作</span><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1<span class="token punctuation">,</span> <span class="token operator">...</span>obj2 <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//{a:1,b:1}</span></code></pre><h2 id="11-判断条件后给对象添加属性"><a href="#11-判断条件后给对象添加属性" class="headerlink" title="11.判断条件后给对象添加属性"></a>11.判断条件后给对象添加属性</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"obj1"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> obj2<span class="token punctuation">:</span> <span class="token string">"obj2"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> condition <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>  obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> obj1<span class="token punctuation">.</span>name<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 简化操作</span><span class="token keyword">const</span> condition <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span>  obj2<span class="token punctuation">:</span> <span class="token string">"obj2"</span><span class="token punctuation">,</span>  <span class="token operator">...</span><span class="token punctuation">(</span>condition <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"obj1"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="12-过滤唯一值"><a href="#12-过滤唯一值" class="headerlink" title="12.过滤唯一值"></a>12.过滤唯一值</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 简化操作1</span><span class="token keyword">const</span> uniqueArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 简化操作2</span><span class="token keyword">const</span> uniqueArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//打印</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>uniqueArray<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 1, 2, 3, 5 ]</span></code></pre><h2 id="13-字符串拼接"><a href="#13-字符串拼接" class="headerlink" title="13.字符串拼接"></a>13.字符串拼接</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> first <span class="token operator">=</span> <span class="token string">"Frank"</span><span class="token punctuation">,</span>  last <span class="token operator">=</span> <span class="token string">"Fang"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">let</span> welcome <span class="token operator">=</span> <span class="token string">"You got a missed call from "</span> <span class="token operator">+</span> first <span class="token operator">+</span> <span class="token string">" at "</span> <span class="token operator">+</span> last<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>welcome<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 简化版</span>welcome <span class="token operator">=</span> <span class="token template-string"><span class="token string">`You have logged in as </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>welcome<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="14-三元判断简写"><a href="#14-三元判断简写" class="headerlink" title="14.三元判断简写"></a>14.三元判断简写</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> marks <span class="token operator">=</span> <span class="token number">26</span><span class="token punctuation">;</span><span class="token keyword">let</span> result<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>marks <span class="token operator">>=</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  result <span class="token operator">=</span> <span class="token string">"Pass"</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  result <span class="token operator">=</span> <span class="token string">"Fail"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">let</span> result <span class="token operator">=</span> marks <span class="token operator">>=</span> <span class="token number">30</span> <span class="token operator">?</span> <span class="token string">"Pass"</span> <span class="token punctuation">:</span> <span class="token string">"Fail"</span><span class="token punctuation">;</span></code></pre><ul><li>补充：多重三元玩法</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span><span class="token keyword">let</span> demo <span class="token operator">=</span> x <span class="token operator">></span> <span class="token number">100</span> <span class="token operator">?</span> <span class="token string">"100"</span> <span class="token punctuation">:</span> x <span class="token operator">&lt;</span> <span class="token number">50</span> <span class="token operator">?</span> <span class="token string">"50"</span> <span class="token punctuation">:</span> <span class="token string">"50 到 100之间"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>demo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "50 到 100之间"</span></code></pre><h2 id="15-key-value-简化-switch"><a href="#15-key-value-简化-switch" class="headerlink" title="15:key-value 简化 switch"></a>15:key-value 简化 switch</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">switch</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>    <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>    <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// And so on...</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token number">1</span><span class="token punctuation">:</span> test1<span class="token punctuation">,</span>  <span class="token number">2</span><span class="token punctuation">:</span> test2<span class="token punctuation">,</span>  <span class="token number">3</span><span class="token punctuation">:</span> test<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span>anything<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>anything<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="16-用-key-value-简化-if…else…"><a href="#16-用-key-value-简化-if…else…" class="headerlink" title="16.用 key-value 简化 if…else…"></a>16.用 key-value 简化 if…else…</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"test1"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"test2"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"test3"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"test4"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">test4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Invalid value "</span> <span class="token operator">+</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">var</span> types <span class="token operator">=</span> <span class="token punctuation">{</span>  test1<span class="token punctuation">:</span> test1<span class="token punctuation">,</span>  test2<span class="token punctuation">:</span> test2<span class="token punctuation">,</span>  test3<span class="token punctuation">:</span> test3<span class="token punctuation">,</span>  test4<span class="token punctuation">:</span> test4<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> func <span class="token operator">=</span> types<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token operator">!</span>func <span class="token operator">&amp;&amp;</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Invalid value "</span> <span class="token operator">+</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="17-多条件检查（含有多个条件的-if-语句）"><a href="#17-多条件检查（含有多个条件的-if-语句）" class="headerlink" title="17.多条件检查（含有多个条件的 if 语句）"></a>17.多条件检查（含有多个条件的 if 语句）</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">"one"</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">"two"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Execute some code</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 简化版 1:使用indexOf来查找</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Execute some code</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 简化版 2:使用includes来判断是否包含</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"one"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"two"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Execute some code</span><span class="token punctuation">}</span></code></pre><h2 id="18。判断变量是否存在的缩写法"><a href="#18。判断变量是否存在的缩写法" class="headerlink" title="18。判断变量是否存在的缩写法"></a>18。判断变量是否存在的缩写法</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// 未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>test1 <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>test1 <span class="token operator">!==</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>test1 <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//  以上三种情况都实用</span><span class="token keyword">if</span> <span class="token punctuation">(</span>test1<span class="token punctuation">)</span></code></pre><h2 id="19-与-amp-amp-短路运算"><a href="#19-与-amp-amp-短路运算" class="headerlink" title="19. 与 (&amp;&amp;) 短路运算"></a>19. 与 (&amp;&amp;) 短路运算</h2><p>如果你只有当某个变量为 true 时调用一个函数，那么你可以使用与 (&amp;&amp;)短路形式书写。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>isLoggedin<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">goToHomepage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span>isLoggedin <span class="token operator">&amp;&amp;</span> <span class="token function">goToHomepage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="20-交换两个变量"><a href="#20-交换两个变量" class="headerlink" title="20.交换两个变量"></a>20.交换两个变量</h2><p>为了交换两个变量，我们通常使用第三个变量。我们可以使用数组解构赋值来交换两个变量。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span>  y <span class="token operator">=</span> <span class="token number">55</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">const</span> temp <span class="token operator">=</span> x<span class="token punctuation">;</span>x <span class="token operator">=</span> y<span class="token punctuation">;</span>y <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//简化版</span><span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> x<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h2 id="21-赋值运算符缩写法"><a href="#21-赋值运算符缩写法" class="headerlink" title="21.赋值运算符缩写法"></a>21.赋值运算符缩写法</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span>test1 <span class="token operator">=</span> test1 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>test2 <span class="token operator">=</span> test2 <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>test3 <span class="token operator">=</span> test3 <span class="token operator">*</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//简化版</span>test1<span class="token operator">++</span><span class="token punctuation">;</span>test2<span class="token operator">--</span><span class="token punctuation">;</span>test3 <span class="token operator">*</span><span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></code></pre><h2 id="22-使用默认参数代替短路或条件"><a href="#22-使用默认参数代替短路或条件" class="headerlink" title="22.使用默认参数代替短路或条件"></a>22.使用默认参数代替短路或条件</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>test1<span class="token punctuation">,</span> test2<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>test1 <span class="token operator">===</span> undefined<span class="token punctuation">)</span> test1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>test2 <span class="token operator">===</span> undefined<span class="token punctuation">)</span> test2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> test1 <span class="token operator">+</span> test2<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span>add <span class="token operator">=</span> <span class="token punctuation">(</span>test1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> test2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> test1 <span class="token operator">+</span> test2<span class="token punctuation">;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//output: 3</span></code></pre><h2 id="23-中可以放入任意的-JavaScript-表达式"><a href="#23-中可以放入任意的-JavaScript-表达式" class="headerlink" title="23.${}中可以放入任意的 JavaScript 表达式"></a>23.${}中可以放入任意的 JavaScript 表达式</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"小明"</span><span class="token punctuation">;</span><span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token number">59</span><span class="token punctuation">;</span><span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>score <span class="token operator">></span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  result <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">的考试成绩及格`</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  result <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">的考试成绩不及格`</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"小明"</span><span class="token punctuation">;</span><span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token number">59</span><span class="token punctuation">;</span><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>score <span class="token operator">></span> <span class="token number">60</span> <span class="token operator">?</span> <span class="token string">"的考试成绩及格"</span> <span class="token punctuation">:</span> <span class="token string">"的考试成绩不及格"</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span></code></pre><h2 id="24-重复一个字符串多次-repeat"><a href="#24-重复一个字符串多次-repeat" class="headerlink" title="24.重复一个字符串多次(repeat)"></a>24.重复一个字符串多次(repeat)</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  str <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">"Hello "</span><span class="token punctuation">;</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Hello Hello Hello Hello Hello</span><span class="token comment" spellcheck="true">//简化版</span><span class="token string">"Hello "</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="25-找出数组中的最大和最小数字"><a href="#25-找出数组中的最大和最小数字" class="headerlink" title="25. 找出数组中的最大和最小数字"></a>25. 找出数组中的最大和最小数字</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 15</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span><span class="token comment" spellcheck="true">//或</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>Math<span class="token punctuation">.</span>max<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 15</span>Math<span class="token punctuation">.</span>min<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span></code></pre><h2 id="26-过滤无效值"><a href="#26-过滤无效值" class="headerlink" title="26.过滤无效值"></a>26.过滤无效值</h2><p>如果要过滤数组中的 false,null,0,undefined,NaN,”” 等值，可以这样做：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> undefined<span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="27-通过条件判断给变量赋值布尔值的正确姿势"><a href="#27-通过条件判断给变量赋值布尔值的正确姿势" class="headerlink" title="27.通过条件判断给变量赋值布尔值的正确姿势"></a>27.通过条件判断给变量赋值布尔值的正确姿势</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">"a"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">===</span> <span class="token string">"a"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  b <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  b <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span>b <span class="token operator">=</span> a <span class="token operator">===</span> <span class="token string">"a"</span><span class="token punctuation">;</span></code></pre><h2 id="28-在-if-中判断数组长度不为零的正确姿势"><a href="#28-在-if-中判断数组长度不为零的正确姿势" class="headerlink" title="28.在 if 中判断数组长度不为零的正确姿势"></a>28.在 if 中判断数组长度不为零的正确姿势</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// todo</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// todo</span><span class="token punctuation">}</span></code></pre><h2 id="29-在-if-中判断数组长度为零的正确姿势"><a href="#29-在-if-中判断数组长度为零的正确姿势" class="headerlink" title="29.在 if 中判断数组长度为零的正确姿势"></a>29.在 if 中判断数组长度为零的正确姿势</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//未简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// todo</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// todo</span><span class="token punctuation">}</span></code></pre><h2 id="30-使用-Object-values-快速获取对象键值"><a href="#30-使用-Object-values-快速获取对象键值" class="headerlink" title="30.使用 Object.values 快速获取对象键值"></a>30.使用 Object.values 快速获取对象键值</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//未简化版1</span><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>  values<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//简化版</span><span class="token keyword">let</span> values <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2]</span></code></pre><ul><li>补充：for of 和 for in 区别</li></ul><ol><li><p>for in 和 for of 都可以循环数组，for in 输出的是数组的index下标，而for of 输出的是数组的每一项的值。</p></li><li><p>for in 可以遍历对象，for of 不能遍历对象，只能遍历带有iterator(迭代器)接口的，例如Set,Map,String,Array</p></li><li><p>for in适合遍历对象，for of适合遍历数组。for in遍历的是数组的索引，对象的属性，以及原型链上的属性。</p></li></ol><ul><li>补充：JavaScript 中 forEach 如何退出循环</li></ul><p>JavaScript 中 forEach 循环，break 与 return 都是无法跳出循环，需要使用抛出异常的方式跳出循环</p><pre class=" language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>  BarCodeList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>lst<span class="token punctuation">.</span>SNO <span class="token operator">==</span> item<span class="token punctuation">.</span>SNO<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//抛出异常，跳出循环</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"EndIterative"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>message <span class="token operator">!=</span> <span class="token string">"EndIterative"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    mui<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"数据获取异常请重试!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">throw</span> e<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于js多次点击触发定时器越走越快的问题</title>
      <link href="2022/092828398.html"/>
      <url>2022/092828398.html</url>
      
        <content type="html"><![CDATA[<p>最近项目有一个挑战答题的需求，10 道题目，每道题要在 45s 内完成，初次答题的时候没问题，每当我点下一题的时候，倒计时会越老越快，为了搞懂这个问题，专门记录总结下来。</p><h2 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout"></a>setTimeout</h2><p><code>定义</code><br>setTimeout() 是属于 window 的方法，该方法用于在指定的毫秒数后调用函数或计算表达式。</p><p><code>语法</code></p><pre class=" language-js"><code class="language-js"><span class="token function">setTimeout</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> millisec<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>参数</code>：<br>code：必需。要调用的函数后要执行的 JavaScript 代码串。<br>millisec： 必需。在执行代码前需等待的毫秒数。</p><p><code>提示</code><br>setTimeout() 只执行 code 一次。如果要多次调用，请使用 setInterval() 或者让 code 自身再次调用 setTimeout()。</p><h2 id="setTimeout-的用法"><a href="#setTimeout-的用法" class="headerlink" title="setTimeout()的用法"></a>setTimeout()的用法</h2><pre class=" language-js"><code class="language-js"> <span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span>  <span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>head<span class="token operator">></span>            <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">></span>            <span class="token operator">&lt;</span>script<span class="token operator">></span>                   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">"alert('hello')"</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>       <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>     <span class="token operator">&lt;</span>body<span class="token operator">></span>     <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>页面会在停留 2 秒之后弹出对话框,注意 setTimeout 不会自动重复执行！</p><p>当然，setTimeout 也可以执行 function，还可以不断重复执行！</p><h2 id="clearTimeout"><a href="#clearTimeout" class="headerlink" title="clearTimeout()"></a>clearTimeout()</h2><p>要使用 clearTimeout()，需要我们设定 setTimeout()时， 给予这 setTimeout()一个名称, 这名称就是 timeoutID ，我们叫停时，就是用这 timeoutID 来叫停</p><pre class=" language-js"><code class="language-js">   <span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span>    <span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>head<span class="token operator">></span>              <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">></span>              <span class="token operator">&lt;</span>script<span class="token operator">></span>                    <span class="token keyword">var</span> timeId<span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token string">"alert('hello')"</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeId<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>       <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>      <span class="token operator">&lt;</span>body<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><h2 id="setInterval"><a href="#setInterval" class="headerlink" title="setInterval"></a>setInterval</h2><p>setInterval()方法可按照指定的周期来调用函数或者计算表达式（以毫秒为单位）</p><p>语法：</p><pre class=" language-js"><code class="language-js"><span class="token function">setInterval</span><span class="token punctuation">(</span>函数表达式，毫秒数<span class="token punctuation">)</span>；</code></pre><p>setInterval()会不停的调用函数，直到 clearInterval()被调用或者窗口被关闭，由 setInterval()返回的 ID 值可用作 clearInterval()方法的参数。</p><h2 id="setInterval-的用法"><a href="#setInterval-的用法" class="headerlink" title="setInterval 的用法"></a>setInterval 的用法</h2><p>每 60 秒执行 myFunction()一次</p><pre class=" language-js"><code class="language-js"><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token string">"myFunction()"</span><span class="token punctuation">,</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>funcition <span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">’myFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>’<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="clearInterval"><a href="#clearInterval" class="headerlink" title="clearInterval()"></a>clearInterval()</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> helloFun（） <span class="token punctuation">{</span>trace（“Hello！”）<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> myInterval<span class="token operator">=</span> setInterval（helloFun，<span class="token number">2000</span>）<span class="token punctuation">;</span>clearInterval（myInterval）<span class="token punctuation">;</span></code></pre><p>回到正题，在来说一说遇到的问题，当定时器使用 setInterval()时,setInterva() 会执行多次 setTimeout() 只会执行一次,由于 setTimeout() 只会执行一次，所以不会出现越走越快的问题；那么这个问题就只讨论 setInterval() 的情况。</p><h5 id="解决-setInterval-定时器越走越快的问题"><a href="#解决-setInterval-定时器越走越快的问题" class="headerlink" title="解决 setInterval()定时器越走越快的问题"></a>解决 setInterval()定时器越走越快的问题</h5><pre class=" language-js"><code class="language-js">      <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//每次调用时先的定时器</span>      <span class="token keyword">const</span> TIME_COUNT <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">=</span> TIME_COUNT<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">&lt;=</span> TIME_COUNT<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//限制倒计时区间</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//删除定时器</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniapp实现图片上传,图片预览，录音及录音文件上传功能</title>
      <link href="2022/092845745.html"/>
      <url>2022/092845745.html</url>
      
        <content type="html"><![CDATA[<p>##</p><p>最近开发 uniapp 小程序，遇到了项目上的开发任务，于是就记录在此，作为经验总结</p><h2 id="图片的上传和预览"><a href="#图片的上传和预览" class="headerlink" title="图片的上传和预览"></a>图片的上传和预览</h2><p>上传：uni.chooseImage(OBJECT)<br>预览：uni.previewImage(OBJECT)</p><h2 id="录音上传"><a href="#录音上传" class="headerlink" title="录音上传"></a>录音上传</h2><p>根据 uniapp 官网提供的 uni.uploadFile(OBJECT) API 来实现录音文件上传功能，具体 OBJECT 参数说明详见链接: uni.uploadFile(OBJECT).</p><h2 id="录音"><a href="#录音" class="headerlink" title="录音"></a>录音</h2><p>主要根据 uniapp 官网提供的 uni.getRecorderManager() API 来实现录音功能，具体代码详见 uniapp 官网链接: uni.getRecorderManager().<br>注：APP 端暂不支持暂停和继续录音功能</p><h2 id="录音上传-1"><a href="#录音上传-1" class="headerlink" title="录音上传"></a>录音上传</h2><p>根据 uniapp 官网提供的 uni.uploadFile(OBJECT) API 来实现录音文件上传功能，具体 OBJECT 参数说明详见链接: uni.uploadFile(OBJECT).</p><h6 id="直接上代码"><a href="#直接上代码" class="headerlink" title="直接上代码"></a>直接上代码</h6><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>  <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"card_one"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"header"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"header1"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>image            <span class="token punctuation">:</span>src<span class="token operator">=</span><span class="token string">"imgHttps + imgUrl"</span>            @click<span class="token operator">=</span><span class="token string">"imgPreview(imgUrl, imgHttps)"</span>          <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>image<span class="token operator">></span>          <span class="token operator">&lt;</span>img <span class="token punctuation">:</span>src<span class="token operator">=</span><span class="token string">"imgUrl"</span> alt<span class="token operator">=</span><span class="token string">""</span> <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>      <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bottom"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bottom-top"</span> @click<span class="token operator">=</span><span class="token string">"addImg"</span><span class="token operator">></span>          <span class="token operator">&lt;</span>view<span class="token operator">></span> <span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"za za-addImg big1"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>          <span class="token operator">&lt;</span>text<span class="token operator">></span>添加图片<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>        <span class="token operator">&lt;</span>view          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"bottom-top"</span>          @touchstart<span class="token operator">=</span><span class="token string">"startRecord"</span>          @touchend<span class="token operator">=</span><span class="token string">"endRecord"</span>        <span class="token operator">></span>          <span class="token operator">&lt;</span>view<span class="token operator">></span> <span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"za za-record big"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>          <span class="token operator">&lt;</span>text<span class="token operator">></span>点击录音<span class="token operator">&lt;</span><span class="token operator">/</span>text<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">import</span> <span class="token punctuation">{</span> upoadJKUrl<span class="token punctuation">,</span> imgHttps <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@config"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//域名地址信息</span><span class="token keyword">const</span> recorderManager <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">getRecorderManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> innerAudioContext <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">createInnerAudioContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>innerAudioContext<span class="token punctuation">.</span>autoplay <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  name<span class="token punctuation">:</span> <span class="token string">"micro-class"</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      upoadJKUrl<span class="token punctuation">,</span>      imgHttps<span class="token punctuation">,</span>      urlArr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//上传图片资源集合</span>      srcs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//用于图片预览</span>      voicePath<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>      voicePathArr<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//上传音频资源集合</span>      imgUrl<span class="token punctuation">:</span> <span class="token string">"a.jpg"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">onLoad</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    recorderManager<span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">// //console.log("录音停止了" + JSON.stringify(res)); //返回录音的临时保存地址, 可用于后面的播放</span>      self<span class="token punctuation">.</span>voicePath <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">;</span>      self<span class="token punctuation">.</span>voicePath <span class="token operator">&amp;&amp;</span> self<span class="token punctuation">.</span><span class="token function">uploadRecord</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>voicePath<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//有录音上传服务器</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token function">startRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>intervalTime <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalTime <span class="token operator">>=</span> <span class="token number">0.5</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isRecord<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>isRecord <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>intervalTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>          recorderManager<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            format<span class="token punctuation">:</span> <span class="token string">"mp3"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">endRecord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>intervalTime <span class="token operator">&lt;=</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"showToast"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">"录音太短了!"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>isRecord<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          recorderManager<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>isRecord <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//延迟小段时间停止录音, 更好的体验</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//添加图片</span>    <span class="token function">addImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      uni<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        count<span class="token punctuation">:</span> <span class="token number">9</span><span class="token punctuation">,</span>        success<span class="token punctuation">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          <span class="token keyword">let</span> tempFilePaths <span class="token operator">=</span> res<span class="token punctuation">.</span>tempFilePaths<span class="token punctuation">;</span>          tempFilePaths<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>            uni<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>              url<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>upoadJKUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/across/file/upload`</span></span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//仅为示例，非真实的接口地址</span>              fileType<span class="token punctuation">:</span> <span class="token string">"image"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//ZFB必填,不然报错</span>              headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// 修改请求头Content-Type类型 此类型为文件上传</span>                <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"multipart/form-data"</span><span class="token punctuation">,</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              formData<span class="token punctuation">:</span> <span class="token punctuation">{</span>                type<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//后端接口所需要的数据</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              filePath<span class="token punctuation">:</span> item<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//这个就是我们上面拍照返回或者先中照片返回的数组</span>              name<span class="token punctuation">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span>              success<span class="token punctuation">:</span> <span class="token punctuation">(</span>uploadFileRes<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">let</span> objData <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>uploadFileRes<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//由JSON字符串转换为JSON对象</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>urlArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>imgHttps <span class="token operator">+</span> objData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//去数组第一个</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>urlArr<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token keyword">this</span><span class="token punctuation">.</span>imgUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>urlArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"showModal"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>                  content<span class="token punctuation">:</span> <span class="token string">"图片添加成功"</span><span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">// 图片预览</span>    <span class="token function">imgPreview</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> imgHttps<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>img<span class="token punctuation">.</span>src <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> img<span class="token punctuation">.</span>src <span class="token operator">==</span> <span class="token string">""</span> <span class="token operator">||</span> img<span class="token punctuation">.</span>src <span class="token operator">==</span> undefined<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>srcs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>imgHttps<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>srcs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>imgHttps<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token punctuation">.</span>src<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      uni<span class="token punctuation">.</span><span class="token function">previewImage</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        indicator<span class="token punctuation">:</span> <span class="token string">"number"</span><span class="token punctuation">,</span>        loop<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        urls<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>srcs<span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>srcs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//录音文件上传后端服务器</span>    <span class="token function">uploadRecord</span><span class="token punctuation">(</span>tempFilePath<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">// tempFilePath为RecorderManager对象返回的录音文件临时地址</span>      <span class="token comment" spellcheck="true">//console.log("录音文件上传后端服务器,,,,,", tempFilePath);</span>      <span class="token keyword">const</span> uploadTask <span class="token operator">=</span> uni<span class="token punctuation">.</span><span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        url<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>upoadJKUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/across/file/upload`</span></span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//后端接口地址</span>        filePath<span class="token punctuation">:</span> tempFilePath<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//录音结束后返回的临时路径</span>        name<span class="token punctuation">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span>        header<span class="token punctuation">:</span> <span class="token punctuation">{</span>          <span class="token string">"content-type"</span><span class="token punctuation">:</span> <span class="token string">"multipart/form-data"</span><span class="token punctuation">,</span>          <span class="token comment" spellcheck="true">// token: uni.getStorageSync("token"),</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        formData<span class="token punctuation">:</span> <span class="token punctuation">{</span>          type<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        success<span class="token punctuation">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          <span class="token keyword">let</span> objData <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//由JSON字符串转换为JSON对象</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>voicePathArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>imgHttps <span class="token operator">+</span> objData<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"showModal"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>            content<span class="token punctuation">:</span> <span class="token string">"录音上传成功"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        fail<span class="token punctuation">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">"showModal"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>            content<span class="token punctuation">:</span> <span class="token string">"录音上传失败"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span>style scoped lang<span class="token operator">=</span><span class="token string">"scss"</span><span class="token operator">></span><span class="token punctuation">.</span>card <span class="token punctuation">{</span>  height<span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>  display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  flex<span class="token operator">-</span>direction<span class="token punctuation">:</span> column<span class="token punctuation">;</span>  background<span class="token operator">-</span>color<span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>  box<span class="token operator">-</span>sizing<span class="token punctuation">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>  <span class="token punctuation">.</span>card_one <span class="token punctuation">{</span>    border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">2</span><span class="token operator">%</span><span class="token punctuation">;</span>    padding<span class="token punctuation">:</span> 10px 0px 10px<span class="token punctuation">;</span>    <span class="token punctuation">.</span>top <span class="token punctuation">{</span>      text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>      font<span class="token operator">-</span>weight<span class="token punctuation">:</span> <span class="token number">600</span><span class="token punctuation">;</span>      height<span class="token punctuation">:</span> 72rpx<span class="token punctuation">;</span>      line<span class="token operator">-</span>height<span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span>      box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> 4px 4px 15px #eee<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token punctuation">.</span>header <span class="token punctuation">{</span>      box<span class="token operator">-</span>sizing<span class="token punctuation">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>      height<span class="token punctuation">:</span> 434rpx<span class="token punctuation">;</span>      margin<span class="token operator">-</span>bottom<span class="token punctuation">:</span> 20rpx<span class="token punctuation">;</span>      display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>      justify<span class="token operator">-</span>content<span class="token punctuation">:</span> center<span class="token punctuation">;</span>      align<span class="token operator">-</span>items<span class="token punctuation">:</span> center<span class="token punctuation">;</span>      background<span class="token operator">-</span>color<span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">215</span><span class="token punctuation">,</span> <span class="token number">215</span><span class="token punctuation">,</span> <span class="token number">215</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">.</span>header1 <span class="token punctuation">{</span>        height<span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>        width<span class="token punctuation">:</span> 359px<span class="token punctuation">;</span>        background<span class="token operator">-</span>color<span class="token punctuation">:</span> aqua<span class="token punctuation">;</span>        img <span class="token punctuation">{</span>          width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>          height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>          object<span class="token operator">-</span>fit<span class="token punctuation">:</span> cover<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 不变形、铺满</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token punctuation">.</span>bottom <span class="token punctuation">{</span>      display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>      height<span class="token punctuation">:</span> 150rpx<span class="token punctuation">;</span>      line<span class="token operator">-</span>height<span class="token punctuation">:</span> 80rpx<span class="token punctuation">;</span>      justify<span class="token operator">-</span>content<span class="token punctuation">:</span> space<span class="token operator">-</span>evenly<span class="token punctuation">;</span>      <span class="token punctuation">.</span>bottom<span class="token operator">-</span>top <span class="token punctuation">{</span>        display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>        flex<span class="token operator">-</span>direction<span class="token punctuation">:</span> column<span class="token punctuation">;</span>        align<span class="token operator">-</span>items<span class="token punctuation">:</span> center<span class="token punctuation">;</span>        justify<span class="token operator">-</span>content<span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token punctuation">.</span>big <span class="token punctuation">{</span>          font<span class="token operator">-</span>size<span class="token punctuation">:</span> 80rpx<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>big1 <span class="token punctuation">{</span>          font<span class="token operator">-</span>size<span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token punctuation">.</span>btn <span class="token punctuation">{</span>      padding<span class="token punctuation">:</span> 20rpx 40rpx <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> uniapp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> uniapp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue和React的区别</title>
      <link href="2022/053056519.html"/>
      <url>2022/053056519.html</url>
      
        <content type="html"><![CDATA[<h1 id="Vue-和-React-区别"><a href="#Vue-和-React-区别" class="headerlink" title="Vue 和 React 区别"></a>Vue 和 React 区别</h1><h2 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h2><p>1.使用 Virtual DOM</p><p>2.提供了响应式 (Reactive) 和组件化 (Composable) 的视图组件。</p><p>3.将注意力集中保持在核心库，而将其他功能如路由和全局状态管理交给相关的库。</p><p>4.运行时性能,React 和 Vue 都是非常快的</p><h2 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h2><p>1.Vue 承认 React 更好的地方，比如更丰富的生态系统。</p><p>2.子组件的重渲染,react 由该组件的 props 所决定的，在 Vue 应用中，组件的依赖是在渲染过程中自动追踪的</p><p>3.在 React 中，所有的组件的渲染功能都依靠 JSX。JSX 是使用 XML 语法编写 JavaScript 的一种语法糖。<br>Vue 也提供了渲染函数，甚至支持 JSX。然而，我们默认推荐的还是模板</p><p>4.在组件作用域内的 CSS， React 和 Vue 主要的区别是，Vue 设置样式的默认方法是单文件组件里类似 style 的标签，Vue 的单文件组件里的样式设置是非常灵活</p><p>5.规模不同，Vue 的路由库和状态管理库都是由官方维护支持且与核心库同步更新的。React 则是选择把这些问题交给社区维护，因此创建了一个更分散的生态系统。但相对的，React 的生态系统相比 Vue 更加繁荣。</p><p>6.学习成本，vue 比 react 更容易上手，因为学 React 前，你需要知道 JSX 和 ES2015</p><p>7.定义不同，Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架，React 是用于构建用户界面的 js 库</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> vue </category>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> react </tag>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue2学习总结</title>
      <link href="2022/052661760.html"/>
      <url>2022/052661760.html</url>
      
        <content type="html"><![CDATA[<h1 id="vue-学习笔记总结"><a href="#vue-学习笔记总结" class="headerlink" title="vue 学习笔记总结"></a>vue 学习笔记总结</h1><p>最近利用晚上空闲时间，把 vue2 相关的知识用例子都敲了一遍，然后把相关的知识点来总结一下</p><h2 id="脚手架文件结构"><a href="#脚手架文件结构" class="headerlink" title="脚手架文件结构"></a>脚手架文件结构</h2><pre><code>├── node_modules├── public│   ├── favicon.ico: 页签图标│   └── index.html: 主页面├── src│   ├── assets: 存放静态资源│   │   └── logo.png│   │── component: 存放组件│   │   └── HelloWorld.vue│   │── App.vue: 汇总所有组件│   │── main.js: 入口文件├── .gitignore: git版本管制忽略的配置├── babel.config.js: babel的配置文件├── package.json: 应用包配置文件├── README.md: 应用描述文件├── package-lock.json：包版本控制文件</code></pre><h2 id="关于不同版本的-Vue"><a href="#关于不同版本的-Vue" class="headerlink" title="关于不同版本的 Vue"></a>关于不同版本的 Vue</h2><ol><li>vue.js 与 vue.runtime.xxx.js 的区别：<ol><li>vue.js 是完整版的 Vue，包含：核心功能 + 模板解析器。</li><li>vue.runtime.xxx.js 是运行版的 Vue，只包含：核心功能；没有模板解析器。</li></ol></li><li>因为 vue.runtime.xxx.js 没有模板解析器，所以不能使用 template 这个配置项，需要使用 render 函数接收到的 createElement 函数去指定具体内容。</li></ol><h2 id="vue-config-js-配置文件"><a href="#vue-config-js-配置文件" class="headerlink" title="vue.config.js 配置文件"></a>vue.config.js 配置文件</h2><ol><li>使用 vue inspect &gt; output.js 可以查看到 Vue 脚手架的默认配置。</li><li>使用 vue.config.js 可以对脚手架进行个性化定制，详情见：<a href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></li></ol><h2 id="ref-属性"><a href="#ref-属性" class="headerlink" title="ref 属性"></a>ref 属性</h2><ol><li>被用来给元素或子组件注册引用信息（id 的替代者）</li><li>应用在 html 标签上获取的是真实 DOM 元素，应用在组件标签上是组件实例对象（vc）</li><li>使用方式：<ol><li>打标识：<code>&lt;h1 ref="xxx"&gt;.....&lt;/h1&gt;</code> 或 <code>&lt;School ref="xxx"&gt;&lt;/School&gt;</code></li><li>获取：<code>this.$refs.xxx</code></li></ol></li></ol><h2 id="props-配置项"><a href="#props-配置项" class="headerlink" title="props 配置项"></a>props 配置项</h2><ol><li><p>功能：让组件接收外部传过来的数据</p></li><li><p>传递数据：<code>&lt;Demo name="xxx"/&gt;</code></p></li><li><p>接收数据：</p><ol><li><p>第一种方式（只接收）：<code>props:['name'] </code></p></li><li><p>第二种方式（限制类型）：<code>props:{name:String}</code></p></li><li><p>第三种方式（限制类型、限制必要性、指定默认值）：</p><pre class=" language-js"><code class="language-js">props<span class="token punctuation">:</span><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token punctuation">{</span>    type<span class="token punctuation">:</span>String<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//类型</span>    required<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//必要性</span>    <span class="token keyword">default</span><span class="token punctuation">:</span><span class="token string">'老王'</span> <span class="token comment" spellcheck="true">//默认值</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol><blockquote><p>备注：props 是只读的，Vue 底层会监测你对 props 的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制 props 的内容到 data 中一份，然后去修改 data 中的数据。</p></blockquote></li></ol><h2 id="mixin-混入"><a href="#mixin-混入" class="headerlink" title="mixin(混入)"></a>mixin(混入)</h2><ol><li><p>功能：可以把多个组件共用的配置提取成一个混入对象</p></li><li><p>使用方式：</p><p>第一步定义混合：</p><pre><code>{    data(){....},    methods:{....}    ....}</code></pre><p>第二步使用混入：</p><p>​ 全局混入：<code>Vue.mixin(xxx)</code><br>​ 局部混入：<code>mixins:['xxx'] </code></p></li></ol><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><ol><li><p>功能：用于增强 Vue</p></li><li><p>本质：包含 install 方法的一个对象，install 的第一个参数是 Vue，第二个以后的参数是插件使用者传递的数据。</p></li><li><p>定义插件：</p><pre class=" language-js"><code class="language-js">对象<span class="token punctuation">.</span>install <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Vue<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 1. 添加全局过滤器</span>    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// 2. 添加全局指令</span>    Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// 3. 配置全局混入(合)</span>    Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">// 4. 添加实例方法</span>    Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myMethod <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>    Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxxx<span class="token punctuation">}</span></code></pre></li><li><p>使用插件：<code>Vue.use()</code></p></li></ol><h2 id="scoped-样式"><a href="#scoped-样式" class="headerlink" title="scoped 样式"></a>scoped 样式</h2><ol><li>作用：让样式在局部生效，防止冲突。</li><li>写法：<code>&lt;style scoped&gt;</code></li></ol><h2 id="总结-TodoList-案例"><a href="#总结-TodoList-案例" class="headerlink" title="总结 TodoList 案例"></a>总结 TodoList 案例</h2><ol><li><p>组件化编码流程：</p><p>​ (1).拆分静态组件：组件要按照功能点拆分，命名不要与 html 元素冲突。</p><p>​ (2).实现动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用：</p><p>​ 1).一个组件在用：放在组件自身即可。</p><p>​ 2). 一些组件在用：放在他们共同的父组件上（<span style="color:red">状态提升</span>）。</p><p>​ (3).实现交互：从绑定事件开始。</p></li><li><p>props 适用于：</p><p>​ (1).父组件 ==&gt; 子组件 通信</p><p>​ (2).子组件 ==&gt; 父组件 通信（要求父先给子一个函数）</p></li><li><p>使用 v-model 时要切记：v-model 绑定的值不能是 props 传过来的值，因为 props 是不可以修改的！</p></li><li><p>props 传过来的若是对象类型的值，修改对象中的属性时 Vue 不会报错，但不推荐这样做。</p></li></ol><h2 id="webStorage"><a href="#webStorage" class="headerlink" title="webStorage"></a>webStorage</h2><ol><li><p>存储内容大小一般支持 5MB 左右（不同浏览器可能还不一样）</p></li><li><p>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。</p></li><li><p>相关 API：</p><ol><li><p><code>xxxxxStorage.setItem('key', 'value');</code><br>该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p></li><li><p><code>xxxxxStorage.getItem('person');</code></p><p>​ 该方法接受一个键名作为参数，返回键名对应的值。</p></li><li><p><code>xxxxxStorage.removeItem('key');</code></p><p>​ 该方法接受一个键名作为参数，并把该键名从存储中删除。</p></li><li><p><code> xxxxxStorage.clear()</code></p><p>​ 该方法会清空存储中的所有数据。</p></li></ol></li><li><p>备注：</p><ol><li>SessionStorage 存储的内容会随着浏览器窗口关闭而消失。</li><li>LocalStorage 存储的内容，需要手动清除才会消失。</li><li><code>xxxxxStorage.getItem(xxx)</code>如果 xxx 对应的 value 获取不到，那么 getItem 的返回值是 null。</li><li><code>JSON.parse(null)</code>的结果依然是 null。</li></ol></li></ol><h2 id="组件的自定义事件"><a href="#组件的自定义事件" class="headerlink" title="组件的自定义事件"></a>组件的自定义事件</h2><ol><li><p>一种组件间通信的方式，适用于：<strong style="color:red">子组件 ===&gt; 父组件</strong></p></li><li><p>使用场景：A 是父组件，B 是子组件，B 想给 A 传数据，那么就要在 A 中给 B 绑定自定义事件（<span style="color:red">事件的回调在 A 中</span>）。</p></li><li><p>绑定自定义事件：</p><ol><li><p>第一种方式，在父组件中：<code>&lt;Demo @atguigu="test"/&gt;</code> 或 <code>&lt;Demo v-on:atguigu="test"/&gt;</code></p></li><li><p>第二种方式，在父组件中：</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Demo ref<span class="token operator">=</span><span class="token string">"demo"</span><span class="token operator">/</span><span class="token operator">></span><span class="token operator">...</span><span class="token operator">...</span><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'atguigu'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li><li><p>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</p></li></ol></li><li><p>触发自定义事件：<code>this.$emit('atguigu',数据)</code></p></li><li><p>解绑自定义事件<code>this.$off('atguigu')</code></p></li><li><p>组件上也可以绑定原生 DOM 事件，需要使用<code>native</code>修饰符。</p></li><li><p>注意：通过<code>this.$refs.xxx.$on('atguigu',回调)</code>绑定自定义事件时，回调<span style="color:red">要么配置在 methods 中</span>，<span style="color:red">要么用箭头函数</span>，否则 this 指向会出问题！</p></li></ol><h2 id="全局事件总线（GlobalEventBus）"><a href="#全局事件总线（GlobalEventBus）" class="headerlink" title="全局事件总线（GlobalEventBus）"></a>全局事件总线（GlobalEventBus）</h2><ol><li><p>一种组件间通信的方式，适用于<span style="color:red">任意组件间通信</span>。</p></li><li><p>安装全局事件总线：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token operator">...</span>    <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Vue<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment" spellcheck="true">//安装全局事件总线，$bus就是当前应用的vm</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li><p>使用事件总线：</p><ol><li><p>接收数据：A 组件想接收数据，则在 A 组件中给$bus 绑定自定义事件，事件的<span style="color:red">回调留在 A 组件自身。</span></p><pre class=" language-js"><code class="language-js"><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">demo</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">...</span><span class="token operator">...</span><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li><li><p>提供数据：<code>this.$bus.$emit('xxxx',数据)</code></p></li></ol></li><li><p>最好在 beforeDestroy 钩子中，用$off 去解绑<span style="color:red">当前组件所用到的</span>事件。</p></li></ol><h2 id="消息订阅与发布（pubsub）"><a href="#消息订阅与发布（pubsub）" class="headerlink" title="消息订阅与发布（pubsub）"></a>消息订阅与发布（pubsub）</h2><ol><li><p>一种组件间通信的方式，适用于<span style="color:red">任意组件间通信</span>。</p></li><li><p>使用步骤：</p><ol><li><p>安装 pubsub：<code>npm i pubsub-js</code></p></li><li><p>引入: <code>import pubsub from 'pubsub-js'</code></p></li><li><p>接收数据：A 组件想接收数据，则在 A 组件中订阅消息，订阅的<span style="color:red">回调留在 A 组件自身。</span></p><pre class=" language-js"><code class="language-js"><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">demo</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">...</span><span class="token operator">...</span><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//订阅消息</span><span class="token punctuation">}</span></code></pre></li><li><p>提供数据：<code>pubsub.publish('xxx',数据)</code></p></li><li><p>最好在 beforeDestroy 钩子中，用<code>PubSub.unsubscribe(pid)</code>去<span style="color:red">取消订阅。</span></p></li></ol></li></ol><h2 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h2><ol><li>语法：<code>this.$nextTick(回调函数)</code></li><li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li><li>什么时候用：当改变数据后，要基于更新后的新 DOM 进行某些操作时，要在 nextTick 所指定的回调函数中执行。</li></ol><h2 id="Vue-封装的过度与动画"><a href="#Vue-封装的过度与动画" class="headerlink" title="Vue 封装的过度与动画"></a>Vue 封装的过度与动画</h2><ol><li><p>作用：在插入、更新或移除 DOM 元素时，在合适的时候给元素添加样式类名。</p></li><li><p>图示：<img src="https://img04.sogoucdn.com/app/a/100520146/5990c1dff7dc7a8fb3b34b4462bd0105" style="width:60%"></p></li><li><p>写法：</p><ol><li><p>准备好样式：</p><ul><li>元素进入的样式：<ol><li>v-enter：进入的起点</li><li>v-enter-active：进入过程中</li><li>v-enter-to：进入的终点</li></ol></li><li>元素离开的样式：<ol><li>v-leave：离开的起点</li><li>v-leave-active：离开过程中</li><li>v-leave-to：离开的终点</li></ol></li></ul></li><li><p>使用<code>&lt;transition&gt;</code>包裹要过度的元素，并配置 name 属性：</p><pre class=" language-vue"><code class="language-vue"><transition name="hello">    <h1 v-show="isShow">你好啊！</h1></transition></code></pre></li><li><p>备注：若有多个元素需要过度，则需要使用：<code>&lt;transition-group&gt;</code>，且每个元素都要指定<code>key</code>值。</p></li></ol></li></ol><h2 id="vue-脚手架配置代理"><a href="#vue-脚手架配置代理" class="headerlink" title="vue 脚手架配置代理"></a>vue 脚手架配置代理</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>​ 在 vue.config.js 中添加如下配置：</p><pre class=" language-js"><code class="language-js">devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>  proxy<span class="token punctuation">:</span> <span class="token string">"http://localhost:5000"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>说明：</p><ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li></ol><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>​ 编写 vue.config.js 配置具体代理规则：</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>    proxy<span class="token punctuation">:</span> <span class="token punctuation">{</span>      <span class="token string">"/api1"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 匹配所有以 '/api1'开头的请求路径</span>        target<span class="token punctuation">:</span> <span class="token string">"http://localhost:5000"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 代理目标的基础路径</span>        changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"^/api1"</span><span class="token punctuation">:</span> <span class="token string">""</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token string">"/api2"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 匹配所有以 '/api2'开头的请求路径</span>        target<span class="token punctuation">:</span> <span class="token string">"http://localhost:5001"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 代理目标的基础路径</span>        changeOrigin<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        pathRewrite<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"^/api2"</span><span class="token punctuation">:</span> <span class="token string">""</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080   changeOrigin默认值为true*/</span></code></pre><p>说明：</p><ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li><li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol><h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><ol><li><p>作用：让父组件可以向子组件指定位置插入 html 结构，也是一种组件间通信的方式，适用于 <strong style="color:red">父组件 ===&gt; 子组件</strong> 。</p></li><li><p>分类：默认插槽、具名插槽、作用域插槽</p></li><li><p>使用方式：</p><ol><li><p>默认插槽：</p><pre class=" language-vue"><code class="language-vue">父组件中：<Category>           <div>html结构1</div>        </Category>子组件中：<template>  <div>    <!-- 定义插槽 -->    <slot>插槽默认内容...</slot>  </div></template></code></pre></li><li><p>具名插槽：</p><pre class=" language-vue"><code class="language-vue">父组件中：<Category>            <template slot="center">              <div>html结构1</div>            </template>            <template v-slot:footer>               <div>html结构2</div>            </template>        </Category>子组件中：<template>  <div>    <!-- 定义插槽 -->    <slot name="center">插槽默认内容...</slot>    <slot name="footer">插槽默认内容...</slot>  </div></template></code></pre></li><li><p>作用域插槽：</p><ol><li><p>理解：<span style="color:red">数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。</span>（games 数据在 Category 组件中，但使用数据所遍历出来的结构由 App 组件决定）</p></li><li><p>具体编码：</p><pre class=" language-vue"><code class="language-vue">父组件中：<Category>            <template scope="scopeData">                <!-- 生成的是ul列表 -->                <ul>                    <li v-for="g in scopeData.games" :key="g">{{g}}</li>                </ul>            </template>        </Category><Category>            <template slot-scope="scopeData">                <!-- 生成的是h4标题 -->                <h4 v-for="g in scopeData.games" :key="g">{{g}}</h4>            </template>        </Category>子组件中：<template>  <div>    <slot :games="games"></slot>  </div></template><script>export default {  name: "Category",  props: ["title"],  //数据在子组件自身  data() {    return {      games: ["红色警戒", "穿越火线", "劲舞团", "超级玛丽"],    };  },};</script></code></pre></li></ol></li></ol><pre><code></code></pre></li></ol><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1.概念"></a>1.概念</h3><p>​ 在 Vue 中实现集中式状态（数据）管理的一个 Vue 插件，对 vue 应用中多个组件的共享状态进行集中式的管理（读/写），也是一种组件间通信的方式，且适用于任意组件间通信。</p><h3 id="2-何时使用？"><a href="#2-何时使用？" class="headerlink" title="2.何时使用？"></a>2.何时使用？</h3><p>​ 多个组件需要共享数据时</p><h3 id="3-搭建-vuex-环境"><a href="#3-搭建-vuex-环境" class="headerlink" title="3.搭建 vuex 环境"></a>3.搭建 vuex 环境</h3><ol><li><p>创建文件：<code>src/store/index.js</code></p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//引入Vue核心库</span><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//引入Vuex</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">"vuex"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//应用Vuex插件</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//准备actions对象——响应组件中用户的动作</span><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//准备mutations对象——修改state中的数据</span><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//准备state对象——保存具体的数据</span><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//创建并暴露store</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  actions<span class="token punctuation">,</span>  mutations<span class="token punctuation">,</span>  state<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>在<code>main.js</code>中创建 vm 时传入<code>store</code>配置项</p><pre class=" language-js"><code class="language-js"><span class="token operator">...</span><span class="token operator">...</span><span class="token comment" spellcheck="true">//引入store</span><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token operator">...</span><span class="token operator">...</span><span class="token comment" spellcheck="true">//创建vm</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    el<span class="token punctuation">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>    render<span class="token punctuation">:</span> h <span class="token operator">=</span><span class="token operator">></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>    store<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li></ol><h3 id="4-基本使用"><a href="#4-基本使用" class="headerlink" title="4.基本使用"></a>4.基本使用</h3><ol><li><p>初始化数据、配置<code>actions</code>、配置<code>mutations</code>，操作文件<code>store.js</code></p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//引入Vue核心库</span><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//引入Vuex</span><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">"vuex"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//引用Vuex</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//响应组件中加的动作</span>  <span class="token function">jia</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// console.log('actions中的jia被调用了',miniStore,value)</span>    context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"JIA"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//执行加</span>  <span class="token function">JIA</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// console.log('mutations中的JIA被调用了',state,value)</span>    state<span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//初始化数据</span><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>  sum<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//创建并暴露store</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  actions<span class="token punctuation">,</span>  mutations<span class="token punctuation">,</span>  state<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>组件中读取 vuex 中的数据：<code>$store.state.sum</code></p></li><li><p>组件中修改 vuex 中的数据：<code>$store.dispatch('action中的方法名',数据)</code> 或 <code>$store.commit('mutations中的方法名',数据)</code></p><blockquote><p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过 actions，即不写<code>dispatch</code>，直接编写<code>commit</code></p></blockquote></li></ol><h3 id="5-getters-的使用"><a href="#5-getters-的使用" class="headerlink" title="5.getters 的使用"></a>5.getters 的使用</h3><ol><li><p>概念：当 state 中的数据需要经过加工后再使用时，可以使用 getters 加工。</p></li><li><p>在<code>store.js</code>中追加<code>getters</code>配置</p><pre class=" language-js"><code class="language-js"><span class="token operator">...</span><span class="token operator">...</span><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function">bigSum</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//创建并暴露store</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token operator">...</span>    getters<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li><p>组件中读取数据：<code>$store.getters.bigSum</code></p></li></ol><h3 id="6-四个-map-方法的使用"><a href="#6-四个-map-方法的使用" class="headerlink" title="6.四个 map 方法的使用"></a>6.四个 map 方法的使用</h3><ol><li><p><strong>mapState 方法：</strong>用于帮助我们映射<code>state</code>中的数据为计算属性</p><pre class=" language-js"><code class="language-js">computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//借助mapState生成计算属性：sum、school、subject（对象写法）</span>     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>sum<span class="token punctuation">:</span><span class="token string">'sum'</span><span class="token punctuation">,</span>school<span class="token punctuation">:</span><span class="token string">'school'</span><span class="token punctuation">,</span>subject<span class="token punctuation">:</span><span class="token string">'subject'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//借助mapState生成计算属性：sum、school、subject（数组写法）</span>    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p><strong>mapGetters 方法：</strong>用于帮助我们映射<code>getters</code>中的数据为计算属性</p><pre class=" language-js"><code class="language-js">computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//借助mapGetters生成计算属性：bigSum（对象写法）</span>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">{</span>bigSum<span class="token punctuation">:</span><span class="token string">'bigSum'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//借助mapGetters生成计算属性：bigSum（数组写法）</span>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre></li><li><p><strong>mapActions 方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数</p><pre class=" language-js"><code class="language-js">methods<span class="token punctuation">:</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>incrementOdd<span class="token punctuation">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span>incrementWait<span class="token punctuation">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token string">'jiaWait'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li><li><p><strong>mapMutations 方法：</strong>用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数</p><pre class=" language-js"><code class="language-js">methods<span class="token punctuation">:</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//靠mapActions生成：increment、decrement（对象形式）</span>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>increment<span class="token punctuation">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>decrement<span class="token punctuation">:</span><span class="token string">'JIAN'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//靠mapMutations生成：JIA、JIAN（对象形式）</span>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token string">'JIAN'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre></li></ol><blockquote><p>备注：mapActions 与 mapMutations 使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></blockquote><h3 id="7-模块化-命名空间"><a href="#7-模块化-命名空间" class="headerlink" title="7.模块化+命名空间"></a>7.模块化+命名空间</h3><ol><li><p>目的：让代码更好维护，让多种数据分类更加明确。</p></li><li><p>修改<code>store.js</code></p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">const</span> countAbout <span class="token operator">=</span> <span class="token punctuation">{</span>  namespaced<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//开启命名空间</span>  state<span class="token punctuation">:</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token function">bigSum</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">{</span>       <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> personAbout <span class="token operator">=</span> <span class="token punctuation">{</span>  namespaced<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//开启命名空间</span>  state<span class="token punctuation">:</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>    countAbout<span class="token punctuation">,</span>    personAbout  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li><p>开启命名空间后，组件中读取 state 数据：</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//方式一：自己直接读取</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>personAbout<span class="token punctuation">.</span>list<span class="token comment" spellcheck="true">//方式二：借助mapState读取：</span><span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></li><li><p>开启命名空间后，组件中读取 getters 数据：</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//方式一：自己直接读取</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'personAbout/firstPersonName'</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">//方式二：借助mapGetters读取：</span><span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></li><li><p>开启命名空间后，组件中调用 dispatch</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//方式一：自己直接dispatch</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'personAbout/addPersonWang'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//方式二：借助mapActions：</span><span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>incrementOdd<span class="token punctuation">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span>incrementWait<span class="token punctuation">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li><p>开启命名空间后，组件中调用 commit</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//方式一：自己直接commit</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'personAbout/ADD_PERSON'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//方式二：借助mapMutations：</span><span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>increment<span class="token punctuation">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>decrement<span class="token punctuation">:</span><span class="token string">'JIAN'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></li></ol><h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li><li>前端路由：key 是路径，value 是组件。</li></ol><h3 id="1-基本使用"><a href="#1-基本使用" class="headerlink" title="1.基本使用"></a>1.基本使用</h3><ol><li><p>安装 vue-router，命令：<code>npm i vue-router</code></p></li><li><p>应用插件：<code>Vue.use(VueRouter)</code></p></li><li><p>编写 router 配置项:</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//引入VueRouter</span><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//引入Luyou 组件</span><span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">"../components/About"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">"../components/Home"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//创建router实例对象，去管理一组一组的路由规则</span><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>      path<span class="token punctuation">:</span> <span class="token string">"/about"</span><span class="token punctuation">,</span>      component<span class="token punctuation">:</span> About<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>      path<span class="token punctuation">:</span> <span class="token string">"/home"</span><span class="token punctuation">,</span>      component<span class="token punctuation">:</span> Home<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//暴露router</span><span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span></code></pre></li><li><p>实现切换（active-class 可配置高亮样式）</p><pre class=" language-vue"><code class="language-vue"><router-link active-class="active" to="/about">About</router-link></code></pre></li><li><p>指定展示位置</p><pre class=" language-vue"><code class="language-vue"><router-view></router-view></code></pre></li></ol><h3 id="2-几个注意点"><a href="#2-几个注意点" class="headerlink" title="2.几个注意点"></a>2.几个注意点</h3><ol><li>路由组件通常存放在<code>pages</code>文件夹，一般组件通常存放在<code>components</code>文件夹。</li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息。</li><li>整个应用只有一个 router，可以通过组件的<code>$router</code>属性获取到。</li></ol><h3 id="3-多级路由（多级路由）"><a href="#3-多级路由（多级路由）" class="headerlink" title="3.多级路由（多级路由）"></a>3.多级路由（多级路由）</h3><ol><li><p>配置路由规则，使用 children 配置项：</p><pre class=" language-js"><code class="language-js">routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> <span class="token string">"/about"</span><span class="token punctuation">,</span>    component<span class="token punctuation">:</span> About<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    path<span class="token punctuation">:</span> <span class="token string">"/home"</span><span class="token punctuation">,</span>    component<span class="token punctuation">:</span> Home<span class="token punctuation">,</span>    children<span class="token punctuation">:</span> <span class="token punctuation">[</span>      <span class="token comment" spellcheck="true">//通过children配置子级路由</span>      <span class="token punctuation">{</span>        path<span class="token punctuation">:</span> <span class="token string">"news"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//此处一定不要写：/news</span>        component<span class="token punctuation">:</span> News<span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        path<span class="token punctuation">:</span> <span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//此处一定不要写：/message</span>        component<span class="token punctuation">:</span> Message<span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>跳转（要写完整路径）：</p><pre class=" language-vue"><code class="language-vue"><router-link to="/home/news">News</router-link></code></pre></li></ol><h3 id="4-路由的-query-参数"><a href="#4-路由的-query-参数" class="headerlink" title="4.路由的 query 参数"></a>4.路由的 query 参数</h3><ol><li><p>传递参数</p><pre class=" language-vue"><code class="language-vue"><!-- 跳转并携带query参数，to的字符串写法 --><router-link :to="/home/message/detail?id=666&title=你好">跳转</router-link><!-- 跳转并携带query参数，to的对象写法 --><router-link  :to="{    path: '/home/message/detail',    query: {      id: 666,      title: '你好',    },  }">跳转</router-link></code></pre></li><li><p>接收参数：</p><pre class=" language-js"><code class="language-js">$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">;</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title<span class="token punctuation">;</span></code></pre></li></ol><h3 id="5-命名路由"><a href="#5-命名路由" class="headerlink" title="5.命名路由"></a>5.命名路由</h3><ol><li><p>作用：可以简化路由的跳转。</p></li><li><p>如何使用</p><ol><li><p>给路由命名：</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>    path<span class="token punctuation">:</span><span class="token string">'/demo'</span><span class="token punctuation">,</span>    component<span class="token punctuation">:</span>Demo<span class="token punctuation">,</span>    children<span class="token punctuation">:</span><span class="token punctuation">[</span>        <span class="token punctuation">{</span>            path<span class="token punctuation">:</span><span class="token string">'test'</span><span class="token punctuation">,</span>            component<span class="token punctuation">:</span>Test<span class="token punctuation">,</span>            children<span class="token punctuation">:</span><span class="token punctuation">[</span>                <span class="token punctuation">{</span>                      name<span class="token punctuation">:</span><span class="token string">'hello'</span> <span class="token comment" spellcheck="true">//给路由命名</span>                    path<span class="token punctuation">:</span><span class="token string">'welcome'</span><span class="token punctuation">,</span>                    component<span class="token punctuation">:</span>Hello<span class="token punctuation">,</span>                <span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre></li><li><p>简化跳转：</p><pre class=" language-vue"><code class="language-vue"><!--简化前，需要写完整的路径 --><router-link to="/demo/test/welcome">跳转</router-link><!--简化后，直接通过名字跳转 --><router-link :to="{ name: 'hello' }">跳转</router-link><!--简化写法配合传递参数 --><router-link  :to="{    name: 'hello',    query: {      id: 666,      title: '你好',    },  }">跳转</router-link></code></pre></li></ol></li></ol><h3 id="6-路由的-params-参数"><a href="#6-路由的-params-参数" class="headerlink" title="6.路由的 params 参数"></a>6.路由的 params 参数</h3><ol><li><p>配置路由，声明接收 params 参数</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>    path<span class="token punctuation">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>    component<span class="token punctuation">:</span>Home<span class="token punctuation">,</span>    children<span class="token punctuation">:</span><span class="token punctuation">[</span>        <span class="token punctuation">{</span>            path<span class="token punctuation">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>            component<span class="token punctuation">:</span>News        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span>            component<span class="token punctuation">:</span>Message<span class="token punctuation">,</span>            children<span class="token punctuation">:</span><span class="token punctuation">[</span>                <span class="token punctuation">{</span>                    name<span class="token punctuation">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>                    path<span class="token punctuation">:</span><span class="token string">'detail/:id/:title'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//使用占位符声明接收params参数</span>                    component<span class="token punctuation">:</span>Detail                <span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre></li><li><p>传递参数</p><pre class=" language-vue"><code class="language-vue"><!-- 跳转并携带params参数，to的字符串写法 --><router-link :to="/home/message/detail/666/你好">跳转</router-link><!-- 跳转并携带params参数，to的对象写法 --><router-link  :to="{    name: 'xiangqing',    params: {      id: 666,      title: '你好',    },  }">跳转</router-link></code></pre><blockquote><p>特别注意：路由携带 params 参数时，若使用 to 的对象写法，则不能使用 path 配置项，必须使用 name 配置！</p></blockquote></li><li><p>接收参数：</p><pre class=" language-js"><code class="language-js">$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">;</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title<span class="token punctuation">;</span></code></pre></li></ol><h3 id="7-路由的-props-配置"><a href="#7-路由的-props-配置" class="headerlink" title="7.路由的 props 配置"></a>7.路由的 props 配置</h3><p>​ 作用：让路由组件更方便的收到参数</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>    path<span class="token punctuation">:</span><span class="token string">'detail/:id'</span><span class="token punctuation">,</span>    component<span class="token punctuation">:</span>Detail<span class="token punctuation">,</span>    <span class="token comment" spellcheck="true">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span>    <span class="token comment" spellcheck="true">// props:{a:900}</span>    <span class="token comment" spellcheck="true">//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件</span>    <span class="token comment" spellcheck="true">// props:true</span>    <span class="token comment" spellcheck="true">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件</span>    <span class="token function">props</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            id<span class="token punctuation">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>            title<span class="token punctuation">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="8-lt-router-link-gt-的-replace-属性"><a href="#8-lt-router-link-gt-的-replace-属性" class="headerlink" title="8.<router-link>的 replace 属性"></a>8.<code>&lt;router-link&gt;</code>的 replace 属性</h3><ol><li>作用：控制路由跳转时操作浏览器历史记录的模式</li><li>浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code></li><li>如何开启<code>replace</code>模式：<code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li></ol><h3 id="9-编程式路由导航"><a href="#9-编程式路由导航" class="headerlink" title="9.编程式路由导航"></a>9.编程式路由导航</h3><ol><li><p>作用：不借助<code>&lt;router-link&gt; </code>实现路由跳转，让路由跳转更加灵活</p></li><li><p>具体编码：</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//$router的两个API</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  name<span class="token punctuation">:</span> <span class="token string">"xiangqing"</span><span class="token punctuation">,</span>  params<span class="token punctuation">:</span> <span class="token punctuation">{</span>    id<span class="token punctuation">:</span> xxx<span class="token punctuation">,</span>    title<span class="token punctuation">:</span> xxx<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  name<span class="token punctuation">:</span> <span class="token string">"xiangqing"</span><span class="token punctuation">,</span>  params<span class="token punctuation">:</span> <span class="token punctuation">{</span>    id<span class="token punctuation">:</span> xxx<span class="token punctuation">,</span>    title<span class="token punctuation">:</span> xxx<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//前进</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//后退</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//可前进也可后退</span></code></pre></li></ol><h3 id="10-缓存路由组件"><a href="#10-缓存路由组件" class="headerlink" title="10.缓存路由组件"></a>10.缓存路由组件</h3><ol><li><p>作用：让不展示的路由组件保持挂载，不被销毁。</p></li><li><p>具体编码：</p><pre class=" language-vue"><code class="language-vue"><keep-alive include="News">     <router-view></router-view></keep-alive></code></pre></li></ol><h3 id="11-两个新的生命周期钩子"><a href="#11-两个新的生命周期钩子" class="headerlink" title="11.两个新的生命周期钩子"></a>11.两个新的生命周期钩子</h3><ol><li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li><li>具体名字：<ol><li><code>activated</code>路由组件被激活时触发。</li><li><code>deactivated</code>路由组件失活时触发。</li></ol></li></ol><h3 id="12-路由守卫"><a href="#12-路由守卫" class="headerlink" title="12.路由守卫"></a>12.路由守卫</h3><ol><li><p>作用：对路由进行权限控制</p></li><li><p>分类：全局守卫、独享守卫、组件内守卫</p></li><li><p>全局守卫:</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//全局前置守卫：初始化时执行、每次路由切换前执行</span>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beforeEach"</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//判断当前路由是否需要进行权限控制</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"school"</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">"atguigu"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//权限控制的具体规则</span>      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//放行</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"暂无权限查看"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// next({name:'guanyu'})</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//放行</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//全局后置守卫：初始化时执行、每次路由切换后执行</span>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"afterEach"</span><span class="token punctuation">,</span> to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">{</span>    document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//修改网页的title</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"vue_test"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>独享守卫:</p><pre class=" language-js"><code class="language-js"><span class="token function">beforeEnter</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//判断当前路由是否需要进行权限控制</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>            <span class="token comment" spellcheck="true">// next({name:'guanyu'})</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li><p>组件内守卫：</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//进入守卫：通过路由规则，进入该组件时被调用</span>beforeRouteEnter <span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//离开守卫：通过路由规则，离开该组件时被调用</span>beforeRouteLeave <span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre></li></ol><h3 id="13-路由器的两种工作模式"><a href="#13-路由器的两种工作模式" class="headerlink" title="13.路由器的两种工作模式"></a>13.路由器的两种工作模式</h3><ol><li>对于一个 url 来说，什么是 hash 值？—— #及其后面的内容就是 hash 值。</li><li>hash 值不会包含在 HTTP 请求中，即：hash 值不会带给服务器。</li><li>hash 模式：<ol><li>地址中永远带着#号，不美观 。</li><li>若以后将地址通过第三方手机 app 分享，若 app 校验严格，则地址会被标记为不合法。</li><li>兼容性较好。</li></ol></li><li>history 模式：<ol><li>地址干净，美观 。</li><li>兼容性和 hash 模式相比略差。</li><li>应用部署上线时需要后端人员支持，解决刷新页面服务端 404 的问题。</li></ol></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人面试总结三</title>
      <link href="2022/030425694.html"/>
      <url>2022/030425694.html</url>
      
        <content type="html"><![CDATA[<h4 id="1-看过哪些框架或者类库的源码，有什么收获？"><a href="#1-看过哪些框架或者类库的源码，有什么收获？" class="headerlink" title="1.看过哪些框架或者类库的源码，有什么收获？"></a>1.看过哪些框架或者类库的源码，有什么收获？</h4><p>看过 vue 框架源码，对 vue 有了初步的认识，包括对 Object.defineProperty、虚拟 DOM 有一定了解，<br>其中的收获了有，大致明白 vue 大体可以分两个部分：</p><p>1.采用 Object.defineProperty 进行数据的双向绑定；</p><p>2.采用虚拟 DOM 技术进行视图渲染；</p><p>####2.介绍 Vue 中的常用的指令</p><p>1.<code>v-text</code>指令：用于更新标签包含的文本，它的作用跟双大括号效果是一样的。</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--等同于--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>2.<code>v-html</code>:元素的 innerHTML</p><p><code>作用</code>：向指定节点中渲染包含 html 结构的内容。</p><p><code>与插值语法的区别</code>：<br>(1).v-html 会替换掉节点中所有的内容，则不会。<br>(2).v-html 可以识别 html 结构。</p><p><code>严重注意</code>：v-html 有安全性问题！<br>(1).在网站上动态渲染任意 HTML 是非常危险的，容易导致 XSS 攻击。<br>(2).一定要在可信的内容上使用 v-html，永不要用在用户提交的内容上！</p><p>3.<code>v-if</code>:v-if 指令判断是否插入这个元素,相当于对元素的销毁和创建,取值为 true/false，控制元素是否需要被渲染，</p><p>4.<code>v-show</code>指令：指令的取值为 true/false，分别对应着显示/隐藏</p><p><code>注</code>：v-show 和 v-if 的区别：如果需要频繁切换显示/隐藏的可以用 v-show;如果运行后不太可能需要切换显示/隐藏的可以用 v-if；</p><p>5.<code>v-for</code>指令：遍历 data 中存放的数组数据，实现列表的渲染。（v-for 指令除了可以迭代数组，还可以迭代对象和整数）</p><p>6.<code>v-on</code>指令:可以绑定事件的监听器。用于处理自定义原生事件的,给按钮添加 click 并让使用变量的样式改变。</p><p>普通使用 v-on:事件名=”表达式||函数名”</p><p>简写方式<code>@事件名="表达式"</code></p><p>7.<code>v-bind</code>指令：用于动态绑定 DOM 元素的属性;例如<code>&lt;a&gt;</code>标签的<code>href</code>属性，<code>&lt;img&gt;</code>标签的<code>src</code>属性等。v-bind 可以简写成<code>":"</code>给元素的属性赋值</p><p>语法在元素上 v-bind:属性名=”常量||变量名”</p><p>简写形式<code>:属性名="变量名"</code></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>原属性名</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>变量<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span> <span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!--等同于--></span>&lt;div:属性名="变量"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><p>8.<code>v-model</code>指令：用于表单输入，实现表单控件和数据的<code>双向绑定</code>。只要给 input 控件添加 v-model 指令，并指定关联的数据 content，就可以轻松把用户输入的内容绑定在 content 上。</p><p>巧记：双向数据流（绑定）<br>页面改变影响内存(js)<br>内存(js)改变影响页面</p><p><code>补充</code>:v-bind 和 v-model 的区别?</p><p><code>input v-model="name"</code></p><p>双向数据绑定页面对于 input 的 value 改变，能影响内存中 name 变量</p><p>内存 js 改变 name 的值，会影响页面重新渲染最新值</p><p><code>input :value="name"</code></p><p>单向数据绑定内存改变影响页面改变</p><p>v-model:其的改变影响其他</p><p>v-bind:其的改变不影响其他</p><p>v-bind 就是对属性的简单赋值,当内存中值改变，还是会触发重新渲染</p><p>9.<code>v-once</code>指令：只渲染一次，后面元素中的数据再更新变化，都不会重新渲染。</p><p>####3、vue 中常用的事件修饰符</p><p>1.<code>.stop</code>：等同于 JavaScript 中的 event.stopPropagation()，防止事件冒泡</p><p>2.<code>.prevent</code>：等同于 JavaScript 中的 event.preventDefault()，防止执行预设的行为（如果事件可取消，则取消该事件，而不停止事件的进一步传播）</p><p>3.<code>.capture</code>：与事件冒泡的方向相反，事件捕获由外到内</p><p>4.<code>.self</code>：只会触发自己范围内的事件，不包含子元素</p><p>5.<code>.once</code>：只会触发一次</p><h4 id="4-谈谈你对-MVVM-开发模式的理解"><a href="#4-谈谈你对-MVVM-开发模式的理解" class="headerlink" title="4.谈谈你对 MVVM 开发模式的理解"></a>4.谈谈你对 MVVM 开发模式的理解</h4><p>MVVM 分别是：ModelViewViewModal</p><p>该开发模式主要体现在 vue.js 中</p><p>M 层：模型</p><p>V 层：视图</p><p>VM 层：视图模型 VM 是 MVVM 思想的核心，因为 VM 是 V 和 M 的调度者。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//VM层</span><span class="token keyword">var</span> vm<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>el<span class="token punctuation">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>data<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//M层</span>msg<span class="token punctuation">:</span><span class="token string">'你好，vue.js'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//V层</span><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'app'</span><span class="token operator">></span><span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></code></pre><p>Model:代表数据模型，数据和业务逻辑都在 Model 中定义。</p><p>View:代表 UI 视图，负责数据的展示</p><p>ViewModel:负责监听 Model 中数据的改变并且控制视图的更新。</p><h4 id="5、v-if-和-v-show-有什么区别"><a href="#5、v-if-和-v-show-有什么区别" class="headerlink" title="5、v-if 和 v-show 有什么区别"></a>5、v-if 和 v-show 有什么区别</h4><p>(1)、v-if 和 v-show 用于视图层显示和隐藏</p><p>(2)、v-if 的原理是根据判断条件来动态的进行增删 DOM 元素，v-show 是根据判断条件来动态的进行显示和隐藏元素，频繁的进行增删 DOM 操作会影响页面加载速度和性能，由此我们可以得出结论：</p><p>当您的项目程序不是很大的时候，v-if 和 v-show 都可以用来进行判断展示和隐藏（这种场景使用 v-if 只是影响不大，并不是没有影响）；</p><p>当您的项目程序比较大的时候，不推荐使用 v-if 来进行判断展示和隐藏，推荐使用 v-show；</p><p>(3)、只有 v-if 能和 v-else 连用进行分支判断，v-show 是不能和 v-else 连用的，如果出现多种条件场景的情况下，可以使用 v-if 来进行判断</p><h4 id="6-请详细说下你对-vue-生命周期的理解？"><a href="#6-请详细说下你对-vue-生命周期的理解？" class="headerlink" title="6.请详细说下你对 vue 生命周期的理解？"></a>6.请详细说下你对 vue 生命周期的理解？</h4><p>答：总共分为 8 个阶段创建前/后，载入前/后，更新前/后，销毁前/后。</p><p>创建前/后：<br>在 beforeCreated 阶段，vue 实例的挂载元素 el 和 ∗∗ 数据对象 ∗∗data 都为 undefined，还未初始化。</p><p>在 created 阶段，vue 实例的数据对象 data 有了，el 还没有。</p><p>载入前/后：<br>在 beforeMount 阶段，vue 实例的$el 和 data 都初始化了，但还是挂载之前为虚拟的 dom 节点，data.message 还未替换。</p><p>在 mounted 阶段，vue 实例挂载完成，data.message 成功渲染。</p><p>更新前/后：当 data 变化时，会触发 beforeUpdate 和 updated 方法。</p><p>销毁前/后：在执行 destroy 方法后，对 data 的改变不会再触发周期函数，说明此时 vue 实例已经解除了事件监听以及和 dom 的绑定，但是 dom 结构依然存在。</p><h4 id="7、计算属性及和-watch-、methods-的区别"><a href="#7、计算属性及和-watch-、methods-的区别" class="headerlink" title="7、计算属性及和 watch 、methods 的区别"></a>7、计算属性及和 watch 、methods 的区别</h4><p>1、computed 必须 return 一个值，主要当做属性来使用，存在缓存；<br>另外 computed 属性，在 vue 里面用来触发 setter 和 getter 方法。setter 方法在设置值时触发，getter 方法在获取值时触发</p><p>methods 表示一个方法，是函数调用，主要书写业务逻辑；</p><p>watch 监听某些特定数据的变化，从而进行某些具体的业务逻辑操作，可以看作是 computed 和 methods 的结合体</p><p>2、watch 相比于 methods 虽然有时候显得更繁琐，但是在监听非 DOM 元素时，显示出优势</p><p>当页面内部使用了复杂的逻辑表达式，首选使用计算属性，methods 方法虽然能实现，但是会增大开销，计算属性基于缓存，具有更优性。当需要在数据变化时执行异步或者开销较大的操作时，则优先考虑 watch 属性</p><h4 id="8-跨域问题底层"><a href="#8-跨域问题底层" class="headerlink" title="8.跨域问题底层"></a>8.跨域问题底层</h4><p>同源策略的限制,跨域问题出现在浏览器端</p><p><code>跨域出现的原因</code>：(三不同)<br>（1）协议不同。（http 和 https）<br>（2）域名不同。（test 和 tests ，或者是直接请求 IP 的不同）<br>（3）端口号不同。（8080 和 8081）<br>以上三种条件都相同，就是同域，可以正常读写域内资源，有一个条件不同，请求方与响应方都属于跨域，无法进行资源访问。<br>这就叫做同源策略</p><p><code>解决方法</code></p><p>（跨域资源共享）cors：目前最常用的一种解决办法，通过设置后端允许跨域实现。</p><p>jsonp：由于<code>&lt;script&gt;&lt;/script&gt;</code>,<code>&lt;img&gt;</code>中的<code>src</code>不受同源策略的限制,利用这一点，就有了 jsonp 这种非正式传输协议，所以 jsonp 解决跨域的原理是 script 标签可以跨域请求资源，将回调函数作为参数拼接在 url 中。后端收到请求，调用该回调函数，并将数据作为参数返回去，注意设置响应头返回文档类型，应该设置成 javascript。</p><p>代理和反向代理</p><p>在响应头里添加特殊请求头 Access-Control-Allow-Origin 信息。</p><h4 id="9-你做过哪些性能的优化"><a href="#9-你做过哪些性能的优化" class="headerlink" title="9.你做过哪些性能的优化"></a>9.你做过哪些性能的优化</h4><p><strong>1.</strong> 减少 HTTP 请求</p><ol><li>HTML 优化：</li></ol><p>使用语义化标签</p><p>减少 iframe</p><p>避免重定向</p><ol start="2"><li>CSS 优化：</li></ol><p>布局代码写前面</p><p>删除空样式</p><p>不滥用浮动、字体，需要加载的网络字体根据需求添加</p><p>选择器性能优化</p><p>避免使用表达式</p><p>避免用 id 写样式</p><p>压缩代码</p><ol start="3"><li>JS 优化</li></ol><p>压缩代码</p><p>减少重复代码</p><ol start="4"><li>图片优化</li></ol><p>使用 webP</p><p>图片合并，CSS sprite 技术 - 雪碧图</p><p>移动端响应式图片 - @media(max-width:320px){}</p><p><strong>2.</strong> 减少 DOM 操作</p><p>缓存已经访问过的元素</p><p>离线更新节点，再将他们添加到树中</p><p>避免使用 js 输出页面布局</p><p><strong>3.</strong> 使用 JSON 格式进行数据交换</p><p><strong>4.</strong> 使用 CDN 加速</p><p><strong>5.</strong> 使用 HTTP 缓存：添加 Expires 或者 Cache-Control 信息头</p><p><strong>6.</strong> 使用 DNS 预解析</p><ol><li>用 meta 信息来告知浏览器，当前页面要做 DNS 预解析：</li></ol><p><code>&lt;meta http-equiv="x-dns-prefetch-control" content="on" /&gt;</code></p><ol start="2"><li>在页面 header 中使用 link 标签来强制对 DNS 预解析：</li></ol><p><code>&lt;link rel="dns-prefetch" href="http://bdimg.share.baidu.com" /&gt;</code></p><h4 id="10-vue-router-路由有几种模式？说说它们的区别？"><a href="#10-vue-router-路由有几种模式？说说它们的区别？" class="headerlink" title="10. vue-router 路由有几种模式？说说它们的区别？"></a>10. vue-router 路由有几种模式？说说它们的区别？</h4><p>vue-router 路由有一共有两种模式，分别是 hash 模式,history 模式</p><p><code>hash模式</code></p><p>1、 url 路径会出现 # 字符</p><p>2、hash 值不包括在 HTTP 请求中，它是交由前端路由处理，所以改变 hash 值时不会刷新页面，也不会向服务器发送请求</p><p>3、hash 值的改变会触发 hashchange 事件</p><p><code>history模式</code></p><p>1、整个地址重新加载，可以保存历史记录，方便前进后退</p><p>2、使用 HTML5 API（旧浏览器不支持）和 HTTP 服务端配置，没有后台配置的话，页面刷新时会出现 404</p><p><code>补充</code>：如果 vue-router 使用 history 模式，部署时要注意什么？</p><p>HTTP 服务端需要进行配置，将页面请求全部重定向到 index.html。参考官方文档</p><p>nginx 配置：</p><pre class=" language-js"><code class="language-js">location <span class="token operator">/</span> <span class="token punctuation">{</span> try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="11-说一下你对同步和异步的理解"><a href="#11-说一下你对同步和异步的理解" class="headerlink" title="11.说一下你对同步和异步的理解"></a>11.说一下你对同步和异步的理解</h4><p>答：同步即 sync，形象的说就是代码一行行执行，前面代码和请求没有执行完，后面的代码和请求就不会被执行，</p><p>缺点：容易导致代码阻塞</p><p>优点：程序员容易理解（因为代码从上往下一行行执行，强调顺序）</p><p>异步：即 async,形象的说就是代码可以在当前程序没有执行完，也可以执行后面的代码</p><p>缺点：程序员不易理解（因为不是按顺序执行的）</p><p>优点：可以解决代码阻塞问题，提升代码执行效率和性能</p><p>异步解决方案主要有三个：</p><p>回调函数</p><p>promise（重点掌握）</p><p>generator(了解)</p><p>async 和 await（重点掌握）</p><h4 id="12-promise-是同步还是异步的？"><a href="#12-promise-是同步还是异步的？" class="headerlink" title="12.promise 是同步还是异步的？"></a>12.promise 是同步还是异步的？</h4><p>1.promise 本身是同步的</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> oP <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> rej<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>执行的结果先打印出 1 再打印出 2，如果 promise 是异步的应该先打印出 2，所以 promise 本身是同步</p><p>2.Promise 本身是同步的，他的 then 方法的回调函数和 catch 方法的回调函数是异步的</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> oP <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> rej<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    oP<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>执行的结果 1，2，3，因为 then 是异步的，所以先打印了 2，最后再执行回调打印出 3</p><p>补充：Promise 作用是解决异步回调的问题的方案</p><h4 id="13-本地存储方式及区别"><a href="#13-本地存储方式及区别" class="headerlink" title="13.本地存储方式及区别"></a>13.本地存储方式及区别</h4><p><strong>一、cookie</strong></p><p>cookie 算是比较早的技术，最初是为了记录 http 的状态，提高访问速度。cookie 是服务器”种植”在客户端的 key-value 形式文本文件。但同时客户端也能操作 cookie。<br>特点：</p><pre><code>大小：cookie的大小限制在4k。每个域名下cookie的个数现在在20个。在客户端请求服务器端和服务器响应时，cookie始终被携带在http请求中，即使不需要(造成流量浪费)。这也是限制cookie大小的原因。客户端可以通过document.cookie操作cookie，并不安全。cookie可以设置过期时间、路径、域和httpOnly等字段。如果设置了过期时间，cookie会保存在硬盘里，知道到了设定的过期时间才会失效。若未设置过期时间，在浏览器窗口关闭时，cookie就失效了。路径和域两个字段限制了cookie的作用范围。httpOnly设置为true，则js不能通过document.cookie操作cookie。</code></pre><p><strong>二、localStorage</strong></p><p>它也是采用 key-value 的形式存储数据，但是它与 cookie 有很大的区别<br>特点：</p><pre><code>对比着来，localStorage能保存更大的数据，标准浏览器是5Mb。localStorage保存在客户端，不随着请求发送给服务器，避免了流量的浪费。客户端可以通过：setItem、getItem方法访问localStorage。并且，localStorage没有过期时间，如果不手动清除，数据就永远不会过期，一直保存在浏览器当中。存储的信息在同一域中是共享的。</code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//key，value 都必须是字符串，storage 的api 只能操作字符串</span><span class="token comment" spellcheck="true">//设置</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//删除某个数据</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//清除所有数据</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取某个索引的key</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>三、sessionStorage</strong></p><p>特点：</p><pre><code>与localStorage不同的是，sessionStorage并不持久化，在窗口关闭那一刻，sessionStorage会被清除。存储的信息是会话级别的，同域也是不能共享的。关闭当前标签页，sessionStorage即失效。</code></pre><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//存储</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span><span class="token string">"value"</span>）<span class="token comment" spellcheck="true">//按key获取值</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//按key 删除单个值</span>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItems</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//清除所有数据</span>sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//获取数据的数量</span>sessionStorage<span class="token punctuation">.</span>length<span class="token comment" spellcheck="true">//获取全部值</span>sessionStorage<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//sessionStorage也可存储Json对象：存储时，通过JSON.stringify()将对象转换为文本格式；读取时，通过JSON.parse()将文本转换回对象。</span><span class="token keyword">var</span> userEntity <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 存储值：将对象转换为Json字符串</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 取值时：把获取到的Json字符串转换回对象</span><span class="token keyword">var</span> userJsonStr <span class="token operator">=</span> sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>userEntity <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>userJsonStr<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>userEntity<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// => tom</span></code></pre><p>浏览器本地存储统称为 webStorage，包括了 localStorage 和 sessionStorage</p><p><strong>四、session(附加)</strong></p><p>上面提到了 cookie，顺带提一下 session。客户端第一次访问服务器，服务器种植一个 cookie，保存唯一的 sessionId。后面客户端再次访问，会读取此 sessionId，随即能在服务端读取到此 id 保存的会话对象。<br>特点：</p><p>session 是基于 cookie 的，由于 session 在客户端不可被修改，相对于 cookie 来说安全，所以可存放一些重要数据。<br>数据保存在服务器端，客户端通过 sessionId，读取到相对应的数据。</p><h4 id="14-undfind-和-null-的区别"><a href="#14-undfind-和-null-的区别" class="headerlink" title="14.undfind 和 null 的区别"></a>14.undfind 和 null 的区别</h4><p>JavaScript 的最初版本是这样区分的：null 是一个表示”无”的对象（空对象指针），转为数值时为 0；undefined 是一个表示”无”的原始值，转为数值时为 NaN。</p><h4 id="15-什么是作用域和作用域链"><a href="#15-什么是作用域和作用域链" class="headerlink" title="15.什么是作用域和作用域链"></a>15.什么是作用域和作用域链</h4><p>作用域(Scope)</p><p><strong>1.</strong> 什么是作用域</p><p>作用域是在运行时代码中的某些特定部分中变量，函数和对象的可访问性。换句话说，作用域决定了代码区块中变量和其他资源的可见性。可能这两句话并不好理解，我们先来看个例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">outFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> inVariable <span class="token operator">=</span> <span class="token string">"内层变量2"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">outFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//要先执行这个函数，否则根本不知道里面是啥</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inVariable<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Uncaught ReferenceError: inVariable is not defined</span></code></pre><p>从上面的例子可以体会到作用域的概念，变量 inVariable 在全局作用域没有声明，所以在全局作用域下取值会报错。我们可以这样理解：</p><p>1.<code>作用域就是一个独立的地盘，让变量不会外泄、暴露出去。</code></p><p>2 . <code>作用域是分层的，内层作用域可以访问外层作用域的变量，反之则不行。</code></p><p>3.<code>变量的作用域无非就是两种：全局变量和局部变量。 </code></p><p>ES6 之前 JavaScript 没有块级作用域,只有全局作用域和函数作用域。ES6 的到来，为我们提供了‘块级作用域’,可通过新增命令 let 和 const 来体现。</p><p><strong>2.</strong> 什么是作用域链</p><p>根据在内部函数可以访问外部函数变量的这种机制，用链式查找决定哪些数据能被内部函数访问。<br>如果父级也没呢？再一层一层向上寻找，直到找到全局作用域还是没找到，就宣布放弃。这种一层一层的关系，就是 作用域链 。</p><h4 id="16-箭头函数带来的一些问题"><a href="#16-箭头函数带来的一些问题" class="headerlink" title="16.箭头函数带来的一些问题"></a>16.箭头函数带来的一些问题</h4><p><strong>1.</strong> this 指向问题</p><p>在普通函数中，this 指向根据其使用场景不同改变。而箭头函数中的 this 始终指向其父级作用域</p><p>箭头函数与普通函数对 this 的指向不同，ES6 定义时 this 指向谁执行的时候 this 就指向谁。</p><p><strong>2.</strong> 箭头函数没有原型属性</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre><p><strong>3.</strong><br>箭头函数通过 apply 和 bind 调用，不会改变 this 指向，只会传入参数</p><p><strong>4.</strong><br>call、apply、bind 无法改变箭头函数中的 this。</p><h4 id="17-函数柯里化"><a href="#17-函数柯里化" class="headerlink" title="17.函数柯里化"></a>17.函数柯里化</h4><p>函数柯里化的定义：是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。</p><p>通过上面的定义可以看出，柯里化是一个函数返回另一个函数，这是一个典型的闭包，它封装了一部分不变的内容，然后去处理其他可变的数据</p><p>举个官网的例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> abc <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> curried <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">curry</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">curried</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// => [1, 2, 3]</span><span class="token function">curried</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// => [1, 2, 3]</span><span class="token function">curried</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// => [1, 2, 3]</span></code></pre><h4 id="18-JS-异步编程都有哪些方案"><a href="#18-JS-异步编程都有哪些方案" class="headerlink" title="18.JS 异步编程都有哪些方案"></a>18.JS 异步编程都有哪些方案</h4><p>总结起来无外乎有这几种：回调函数、事件监听、Promise、Generator、async/await，这几种 JS 的编程方式都是异步编程。回调函数方式是最早的 JS 异步编程的方式，后随着 ES 标准的发展，Promise、Generator 和 async/await 接连出现。</p><h4 id="19-关于-Vue-和-React-区别的一些笔记"><a href="#19-关于-Vue-和-React-区别的一些笔记" class="headerlink" title="19.关于 Vue 和 React 区别的一些笔记"></a>19.关于 Vue 和 React 区别的一些笔记</h4><ol><li>监听数据变化的实现原理不同</li></ol><p>Vue 通过 getter/setter 以及一些函数的劫持，能精确知道数据变化。</p><p>React 默认是通过比较引用的方式（diff）进行的</p><ol start="2"><li>数据流的不同</li></ol><p>vue 组件与 DOM 之间可以通过 v-model 双向绑定。</p><p>React 一直不支持双向绑定，提倡的是单向数据流，称之为 onChange/setState()模式。</p><ol start="3"><li>框架本质不同</li></ol><p>Vue 本质是 MVVM 框架，由 MVC 发展而来；</p><p>React 是前端组件化框架，由后端组件化发展而来。</p><ol start="4"><li>Vuex 和 Redux 的区别</li></ol><p>Redux 使用的是不可变数据，而 Vuex 的数据是可变的，因此，Redux 每次都是用新 state 替换旧 state，而 Vuex 是直接修改。</p>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React跳转路由传参3种方法和区别</title>
      <link href="2022/030444866.html"/>
      <url>2022/030444866.html</url>
      
        <content type="html"><![CDATA[<p>日常业务中，路由跳转的同时传递参数是比较常见的，为此来总结一下 react 的跳转方式</p><h3 id="1、params-传参"><a href="#1、params-传参" class="headerlink" title="1、params 传参"></a>1、params 传参</h3><p>路由表配置：参数地址栏显示</p><p>路由页面：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo/:id<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{Demo}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Route</span><span class="token punctuation">></span></span> //配置 /:id</code></pre><p>路由跳转并传递参数：</p><p>链接方式：</p><pre class=" language-html"><code class="language-html">&lt;Link to={'/demo/' + '2'}>XX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span></code></pre><p>js 方式：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/demo/"</span> <span class="token operator">+</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取参数：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code></pre><h3 id="2、query-传参"><a href="#2、query-传参" class="headerlink" title="2、query 传参"></a>2、query 传参</h3><p>query 方法：参数地址栏不显示，刷新地址栏，参数丢失</p><p>路由页面：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{Demo}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Route</span><span class="token punctuation">></span></span> //无需配置</code></pre><p>路由跳转并传递参数：</p><p>链接方式：</p><pre class=" language-html"><code class="language-html">&lt;Link to={{path:'/demo',query:{name:'dahuang'}}}>XX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span></code></pre><p>js 方式：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">"/demo"</span><span class="token punctuation">,</span> query<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"dahuang"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取参数：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre><h3 id="3、state-传参-同-query-差不多，只是属性不一样，而且-state-传的参数是加密的"><a href="#3、state-传参-同-query-差不多，只是属性不一样，而且-state-传的参数是加密的" class="headerlink" title="3、state 传参( 同 query 差不多，只是属性不一样，而且 state 传的参数是加密的)"></a>3、state 传参( 同 query 差不多，只是属性不一样，而且 state 传的参数是加密的)</h3><p>state 方法：参数地址栏不显示，刷新地址栏，参数不丢失</p><p>路由页面：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{Demo}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Route</span><span class="token punctuation">></span></span> //无需配置</code></pre><p>路由跳转并传递参数：</p><p>链接方式：</p><pre class=" language-html"><code class="language-html"> &lt;Link to={{path:'/demo',state:{name:'dahuang'}}}>XX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span></code></pre><p>js 方式：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> pathname<span class="token punctuation">:</span> <span class="token string">"/demo"</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"dahuang"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>获取参数：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">;</span></code></pre><p>借鉴网址：<br><a href="https://www.cnblogs.com/ranyonsue/p/14098491.html">React 跳转路由传参 3 种方法和区别</a></p>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react的setState到底是同步还是异步?</title>
      <link href="2022/030421386.html"/>
      <url>2022/030421386.html</url>
      
        <content type="html"><![CDATA[<p>这是一道经典 react 面试题，之前还有点疑惑，为了探究真理，特来加以总结。</p><p>答案：react 的 setState 既可能是同步的，也可能是异步的。 准确地说，在 React 内部机制能检测到的地方， setState 就是异步的；在 React 检测不到的地方，例如 setInterval,setTimeout 里，setState 就是同步更新的。</p><p>在介绍这个问题之前，我们先来看一下一个例子：</p><pre class=" language-js"><code class="language-js">state <span class="token operator">=</span> <span class="token punctuation">{</span>    number<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//1</span><span class="token punctuation">}</span></code></pre><p>看完这个例子，也许很多小伙伴会下意识的以为 setState 是一个异步方法，但是其实 setState 并没有异步的说法，之所以会有一种异步方法的表现形式，归根结底还是因为 react 框架本身的性能机制所导致的。因为每次调用 setState 都会触发更新，异步操作是为了提高性能，将多个状态合并一起更新，减少 re-render 调用。</p><p>试想一下如果在组件中有以下这样一段代码执行：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> num<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>num <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>如果 setState 是一个同步执行的机制，那么这个组件会被重新渲染 100 次，这对性能是一个相当大的消耗。</p><p>显然，React 也是想到了这个问题，因此对 setState 做了一些特殊的优化：</p><pre><code>❝ React会将多个setState的调用合并为一个来执行，也就是说，当执行setState的时候，state中的数据并不会马上更新❞</code></pre><p>这也很好的印证了刚才提到的那个例子。</p><p>但是往往在实际的开发工作中，我们可能需要同步的获取到更新之后的数据，那么怎么获取呢？下面介绍几种常用的方法：</p><p><strong>回调函数</strong><br>setState 提供了一个回调函数供开发者使用，在回调函数中，我们可以实时的获取到更新之后的数据。还是以刚才的例子做示范：</p><pre class=" language-js"><code class="language-js">state <span class="token operator">=</span> <span class="token punctuation">{</span>    number<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>number<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//3</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>可以看见此时控制台打印的数据是最新的数据。这也完美的印证了我们的猜想是正确的。</p><p><strong>总结：</strong></p><pre><code>❝ setState本身并不是异步，只是因为react的性能优化机制体现为异步。在react的生命周期函数或者作用域下为异步，在原生的环境下为同步。❞</code></pre>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue中路由跳转传递参数的五种方式</title>
      <link href="2022/030419579.html"/>
      <url>2022/030419579.html</url>
      
        <content type="html"><![CDATA[<p>日常业务中，路由跳转的同时传递参数是比较常见的，vue 的跳转方式如下：</p><h3 id="1-第一种：-router-link-params"><a href="#1-第一种：-router-link-params" class="headerlink" title="1.第一种： router-link params"></a>1.第一种： router-link params</h3><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>router<span class="token operator">-</span>link tag<span class="token operator">=</span><span class="token string">"a"</span> <span class="token punctuation">:</span>to<span class="token operator">=</span><span class="token string">"{name:'测试页',params:{id:1}}"</span><span class="token operator">></span><span class="token function">点击跳转</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">></span><span class="token comment" spellcheck="true">//跳转后页面获取参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id</code></pre><h3 id="2-第二种：router-link-query"><a href="#2-第二种：router-link-query" class="headerlink" title="2.第二种：router-link query"></a>2.第二种：router-link query</h3><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>router<span class="token operator">-</span>link tag<span class="token operator">=</span><span class="token string">"a"</span> <span class="token punctuation">:</span>to<span class="token operator">=</span><span class="token string">"{path:'./test',query:{id:1}}"</span><span class="token operator">></span><span class="token function">点击跳转</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">></span><span class="token comment" spellcheck="true">//跳转后页面获取参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id</code></pre><h3 id="3-通过动态路由方式"><a href="#3-通过动态路由方式" class="headerlink" title="3.通过动态路由方式"></a>3.通过动态路由方式</h3><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//路由配置文件中 配置动态路由</span><span class="token punctuation">{</span>     path<span class="token punctuation">:</span> <span class="token string">'/detail/:id'</span><span class="token punctuation">,</span>     name<span class="token punctuation">:</span> <span class="token string">'Detail'</span><span class="token punctuation">,</span>     component<span class="token punctuation">:</span> Detail   <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//跳转时页面</span><span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/detail/'</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//跳转后页面获取参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id</code></pre><h3 id="4-params"><a href="#4-params" class="headerlink" title="4.params"></a>4.params</h3><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--html代码:--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>clickTo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  name<span class="token punctuation">:</span> <span class="token string">"测试页"</span><span class="token punctuation">,</span>  params<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//跳转后页面获取参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code></pre><h3 id="5-query"><a href="#5-query" class="headerlink" title="5.query"></a>5.query</h3><pre class=" language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!--html代码:--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>clickTo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  path<span class="token punctuation">:</span> <span class="token string">"/测试页"</span><span class="token punctuation">,</span>  query<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//跳转后页面获取参数</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">;</span></code></pre><h3 id="补充：注意事项"><a href="#补充：注意事项" class="headerlink" title="补充：注意事项"></a>补充：注意事项</h3><p>总结：</p><p>第 1，2 种，是通过<router-link>标签跳转，第 4，5 种是通过事件跳转页面。</router-link></p><p>第 1，4 种，是通过 name 命名路由的方式跳转传参，跳转后页面刷新，参数会丢失（需要传参跳转的时候，不建议使用）；</p><p>第 2，5 种，是通过 path 路由跳转，跳转后页面刷新，参数不会丢失，跟我们平时写的路径后面携带参数类似：/test?id=1 (推荐使用);</p><p>第 3 种，是动态路由传值跳转，跳转后页面刷新，参数不会丢失。动态路由一般用来传一个参数时居多(如详情页的 id), query、params 可以传递一个也可以传递多个参数 。</p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>详解为什么Vue中的v-if和v-for不建议一起用</title>
      <link href="2022/02229903.html"/>
      <url>2022/02229903.html</url>
      
        <content type="html"><![CDATA[<p>一、作用<br>v-if 指令用于条件性地渲染一块内容。这块内容只会在指令的表达式返回 true 值的时候被渲染</p><p>v-for 指令基于一个数组来渲染一个列表。v-for 指令需要使用 item in items 形式的特殊语法，其中 items 是源数据数组或者对象，而 item 则是被迭代的数组元素的别名</p><p>在 v-for 的时候，建议设置 key 值，并且保证每个 key 值是独一无二的，这便于 diff 算法进行优化</p><p>两者在用法上</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Modal v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isShow"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in items"</span> <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"item.id"</span><span class="token operator">></span>  <span class="token punctuation">{</span><span class="token punctuation">{</span> item<span class="token punctuation">.</span>label <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></code></pre><h2 id="2-注意事项"><a href="#2-注意事项" class="headerlink" title="2.注意事项"></a>2.注意事项</h2><p>永远不要把 v-if 和 v-for 同时用在同一个元素上，带来性能方面的浪费（每次渲染都会先循环再进行条件判断）</p><p>一般我们在两种常见的情况下会倾向于这样做：</p><p>为了过滤一个列表中的项目 (比如 v-for=”user in users” v-if=”user.isActive”)。在这种情形下，请将 users 替换为一个计算属性 (比如 activeUsers)，让其返回过滤后的列表。</p><p>如果避免出现这种情况，则在外层嵌套 template（页面渲染不生成 dom 节点），在这一层进行 v-if 判断，然后在内部进行 v-for 循环</p><p>错误写法</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>ul<span class="token operator">></span>  <span class="token operator">&lt;</span>li    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"user in activeUsers"</span>    <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"user.id"</span>  <span class="token operator">></span>    <span class="token punctuation">{</span><span class="token punctuation">{</span> user<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></code></pre><p>正确写法</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>ul v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"shouldShowUsers"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>li    v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"user in users"</span>    <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">"user.id"</span>  <span class="token operator">></span>    <span class="token punctuation">{</span><span class="token punctuation">{</span> user<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></code></pre><p><code>注意</code>，本文参考的原文链接来自 vue 官网：<a href="https://cn.vuejs.org/v2/style-guide/#%E9%81%BF%E5%85%8D-v-if-%E5%92%8C-v-for-%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7%E5%BF%85%E8%A6%81">https://cn.vuejs.org/v2/style-guide/#%E9%81%BF%E5%85%8D-v-if-%E5%92%8C-v-for-%E7%94%A8%E5%9C%A8%E4%B8%80%E8%B5%B7%E5%BF%85%E8%A6%81</a></p>]]></content>
      
      
      <categories>
          
          <category> vue 面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue 面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网页图片加载优化方法总结</title>
      <link href="2022/022247417.html"/>
      <url>2022/022247417.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-压缩图片"><a href="#1-压缩图片" class="headerlink" title="1.压缩图片"></a>1.压缩图片</h2><p>图片压缩是通过压缩减少图片的占用空间，如果您有大量的数码照，或是上传图片的网站有文件大小的限制，您就可以通过此软件来压缩图片大小，压缩图片文件大小，以达到减少大量图片占用磁盘空间，上传照片等效果</p><h2 id="2-图片懒加载"><a href="#2-图片懒加载" class="headerlink" title="2.图片懒加载"></a>2.图片懒加载</h2><p>图片懒加载是一种网页优化技术。图片作为一种网络资源，在被请求时也与普通静态资源一样，将占用网络资源，而一次性将整个页面的所有图片加载完，将大大增加页面的首屏加载时间。为了解决这种问题，通过前后端配合，使图片仅在浏览器当前视窗内出现时才加载该图片，达到减少首屏图片请求数的技术就被称为“图片懒加载”。<br>意义： 懒加载的主要目的是作为服务器前端的优化，减少请求数或延迟请求数。</p><p>实现方式：</p><p>1.第一种是纯粹的延迟加载，使用 setTimeOut 或 setInterval 进行加载延迟.</p><p>2.第二种是条件加载，符合某些条件，或触发了某些事件才开始异步下载。</p><p>3.第三种是可视区加载，即仅加载用户可以看到的区域，这个主要由监控滚动条来实现，一般会在距用户看到某图片前一定距离前开始加载，这样能保证用户拉下时正好能看到图片。</p><h2 id="3-使用-CDN-加速"><a href="#3-使用-CDN-加速" class="headerlink" title="3.使用 CDN 加速"></a>3.使用 CDN 加速</h2><p>CDN 的全称是 Content Delivery Network，即内容分发网络。CDN 是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN 的关键技术主要有内容存储和分发技术。</p><h2 id="4-使用-base64-编码代替图片"><a href="#4-使用-base64-编码代替图片" class="headerlink" title="4.使用 base64 编码代替图片"></a>4.使用 base64 编码代替图片</h2><p>原理：将图片转换为 base64 编码字符串 inline 到页面或 css 中<br>场景：适用于图片大小小于 2KB，页面上引用图片总数不多的情况</p><p>优势：减少 http 的请求次数，并可以放到后台数据库中，只传输字符串，有较多的构建工具可以直接实现<br>劣势：这种方法仅限于图片总数较少，而且图片大小小于 2KB 的情况。否则图片字符串会变得很长很长</p><p><code>注意</code>，本文参考的原文链接：<a href="https://blog.csdn.net/ywy502/article/details/90756219">https://blog.csdn.net/ywy502/article/details/90756219</a></p>]]></content>
      
      
      <categories>
          
          <category> 性能优化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 性能优化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>link和@import的区别有哪些</title>
      <link href="2022/022265068.html"/>
      <url>2022/022265068.html</url>
      
        <content type="html"><![CDATA[<h2 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h2><p>都属于外部引用 CSS 方式</p><h2 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h2><h4 id="1-写法不同"><a href="#1-写法不同" class="headerlink" title="1.写法不同"></a>1.写法不同</h4><pre class=" language-css"><code class="language-css">&lt;link rel=<span class="token string">"stylesheet"</span> rev=<span class="token string">"stylesheet"</span> href=<span class="token string">"CSS文件"</span> type=<span class="token string">"text/css"</span> media=<span class="token string">"all"</span> /></code></pre><pre class=" language-css"><code class="language-css">&lt;style type=<span class="token string">"text/css"</span> media=<span class="token string">"screen"</span>><span class="token atrule"><span class="token rule">@import</span> <span class="token url">url("CSS文件")</span><span class="token punctuation">;</span></span>&lt;/style></code></pre><h4 id="2-加载顺序区别"><a href="#2-加载顺序区别" class="headerlink" title="2.加载顺序区别"></a>2.加载顺序区别</h4><pre><code>A.link引用CSS时，在页面载入时同时加载；B.@import需要页面网页完全载入以后加载。</code></pre><h4 id="3-兼容不同"><a href="#3-兼容不同" class="headerlink" title="3.兼容不同"></a>3.兼容不同</h4><pre><code>link是XHTML标签，无兼容问题；@import是在CSS2.1提出的，低版本的浏览器不支持。</code></pre><h3 id="4、从属关系区别"><a href="#4、从属关系区别" class="headerlink" title="4、从属关系区别"></a>4、从属关系区别</h3><pre><code>link是XHTML标签，除了加载CSS外，还可以定义RSS等其他事务；@import是 CSS 提供的语法规则，只有导入样式表的作用；</code></pre><h3 id="5-DOM-可控性区别"><a href="#5-DOM-可控性区别" class="headerlink" title="5.DOM 可控性区别"></a>5.DOM 可控性区别</h3><pre><code>link支持使用Javascript控制DOM去改变样式；而@import不支持。</code></pre><h2 id="补充-1-写法最优方法"><a href="#补充-1-写法最优方法" class="headerlink" title="补充 1.写法最优方法"></a>补充 1.写法最优方法</h2><p>@import url(style.css) 和@import url(“style.css”)是最优的写法选择，兼容的浏览器最多。</p><p>从字节优化的角度来看@import url(style.css)最值得推荐。</p><h2 id="补充-2-link-与-import-区别与选择"><a href="#补充-2-link-与-import-区别与选择" class="headerlink" title="补充 2.link 与@import 区别与选择"></a>补充 2.link 与@import 区别与选择</h2><p>首页 link 和 import 语法结构不同，前者<code>&lt;link&gt;</code>是 html 标签，只能放入 html 源代码中使用，后者可看作为 css 样式，作用是引入 css 样式功能。import 在 html 使用时候需要<code>&lt;style type="text/css"&gt;</code>标签，同时可以直接“@import url(CSS 文件路径地址);”放如 css 文件或 css 代码里引入其它 css 文件。</p><p>本质上两者使用选择区别不大，但为了软件中编辑布局网页 html 代码，一般使用 link 较多，也推荐使用 link。</p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js继承的几种方式</title>
      <link href="2022/022218233.html"/>
      <url>2022/022218233.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-原型链方式"><a href="#1-原型链方式" class="headerlink" title="1.原型链方式"></a>1.原型链方式</h2><p>基本思想：利用原型让一个引用类型继承另外一个引用类型的属性和方法。</p><p>构造函数，原型，实例之间的关系：每个构造函数都有一个原型对象，原型对象包含一个指向构造函数的指针，而实例都包含一个指向原型对象的内部指针。</p><p>原型链实现继承例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Father<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getSuperValue <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>property <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//继承了Father</span>Son<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Son<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getSubValue <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>property<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span><span class="token function">getSuperValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><p>优点：</p><p>简单易于实现，父类的新增的实例与属性子类都能访问</p><p>缺点：</p><p>可以在子类中增加实例属性，如果要新增加原型属性和方法需要在 new 父类构造函数的后面</p><p>无法实现多继承</p><p>创建子类实例时，不能向父类构造函数中传参数</p><h2 id="2-借用构造函数（伪造对象、经典继承）"><a href="#2-借用构造函数（伪造对象、经典继承）" class="headerlink" title="2.借用构造函数（伪造对象、经典继承）"></a>2.借用构造函数（伪造对象、经典继承）</h2><p>基本思想：在子类型构造函数的内部调用超类构造函数，通过使用 call()和 apply()方法可以在新创建的对象上执行构造函数。</p><p>例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  Father<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//继承了Father</span><span class="token punctuation">}</span><span class="token keyword">var</span> instance1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"red","blue","green","black"</span><span class="token keyword">var</span> instance2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance2<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"red","blue","green"</span></code></pre><p>优点：</p><p>解决了子类构造函数向父类构造函数中传递参数</p><p>可以实现多继承（call 或者 apply 多个父类）</p><p>缺点：</p><p>方法都在构造函数中定义，无法复用</p><p>不能继承原型属性/方法，只能继承父类的实例属性和方法</p><h2 id="3-ES6-class"><a href="#3-ES6-class" class="headerlink" title="3.ES6 class"></a>3.ES6 class</h2><p>代码量少，易懂</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//class 相当于es5中构造函数</span><span class="token comment" spellcheck="true">//class中定义方法时，前后不能加function，全部定义在class的protopyte属性中</span><span class="token comment" spellcheck="true">//class中定义的所有方法是不可枚举的</span><span class="token comment" spellcheck="true">//class中只能定义方法，不能定义对象，变量等</span><span class="token comment" spellcheck="true">//class和方法内默认都是严格模式</span><span class="token comment" spellcheck="true">//es5中constructor为隐式属性</span><span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"wang"</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token string">"27"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> eat food`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//继承父类</span><span class="token keyword">class</span> <span class="token class-name">Woman</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"ren"</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token string">"27"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//继承父类属性</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//继承父类方法</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> wonmanObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Woman</span><span class="token punctuation">(</span><span class="token string">"xiaoxiami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>wonmanObj<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js检测数据类型的四种办法</title>
      <link href="2022/011725344.html"/>
      <url>2022/011725344.html</url>
      
        <content type="html"><![CDATA[<p>最近经常听到前端朋友在面试时，会被问到 js 检测数据类型的四种办法，为此我来总结一下，温故而知新。</p><h2 id="js-检测数据类型的四种办法"><a href="#js-检测数据类型的四种办法" class="headerlink" title="js 检测数据类型的四种办法"></a>js 检测数据类型的四种办法</h2><ol><li><p>typeof</p></li><li><p>instanceof</p></li><li><p>constructor</p></li><li><p>Object.prototype.toString.call()</p></li></ol><p>下面我来依次说明</p><p>先举几个例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">"字符串"</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">222</span><span class="token punctuation">;</span><span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"函数"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"22"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">var</span> h <span class="token operator">=</span> undefined<span class="token punctuation">;</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1.typeof"></a>1.typeof</h2><p>typeof：返回一个字符串,typeof 也是最常见的判断方法</p><pre class=" language-js"><code class="language-js"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> string<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> b<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> number<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> c<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> object<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> d<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> object<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> <span class="token keyword">function</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> f<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> <span class="token keyword">function</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> g<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> object<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> h<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> undefined<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> i<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> boolean<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> j<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> object</code></pre><p>从上面可以看出，typeof 对 Array，null 是不起作用的, typeof null 返回类型错误，返回 object，typeof Array 返回 object。</p><p>引用类型，除了 function 返回 function 类型外，其他均返回 object。</p><p><code>注意</code>:其中，null 有属于自己的数据类型 Null ， 引用类型中的 数组、日期、正则 也都有属于自己的具体类型，而 typeof 对于这些类型的处理，只返回了处于其原型链最顶端的 Object 类型，没有错，但不是我们想要的结果。</p><h2 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.instanceof"></a>2.instanceof</h2><p>instanceof:用于判断一个变量是否为某个类的实例.利用 instanceof 来判断 A 是否为 B 的实例，表达为 A instanceof B，返回一个布尔值。instanceof 的原理是通过检测对象的原型链上是否含有类型的原型。</p><p>还是以上面的例子来判断，暂且不考虑 null 和 undefined（这两个比较特殊），看看控制台输出什么</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><p>可以看到前三个都是以对象字面量创建的基本数据类型，但是却不是所属类的实例，这个就有点怪了。后面四个是引用数据类型，可以得到正确的结果。如果我们通过 new 关键字去创建基本数据类型，你会发现，这时就会输出 true,如下:</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Boolean</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><p>接下再来说说为什么 null 和 undefined 为什么比较特殊，实际上按理来说，null 的所属类就是 Null，undefined 就是 Undefined，但事实并非如此，由于浏览器压根不认识这 null 和 undefined，直接报错。在第一个例子你可能已经发现了，typeof null 的结果是 object，typeof undefined 的结果是 undefined</p><p><code>注意</code>:尤其是 null，其实这是 js 设计的一个败笔，早期准备更改 null 的类型为 null，由于当时已经有大量网站使用了 null，如果更改，将导致很多网站的逻辑出现漏洞问题，就没有更改过来，于是一直遗留到现在。作为学习者，我们只需要记住就好。</p><h2 id="3-constructor"><a href="#3-constructor" class="headerlink" title="3.constructor"></a>3.constructor</h2><p>constructor 是原型 prototype 的一个属性，当函数被定义时候，js 引擎会为函数添加原型 prototype，并且这个 prototype 中 constructor 属性指向函数引用， 因此重写 prototype 会丢失原来的 constructor。</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>constructor <span class="token operator">===</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span><span class="token comment" spellcheck="true">//console.log((null).constructor === Null)</span><span class="token comment" spellcheck="true">//console.log((undefined).constructor === Undefined)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Function<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><p><code>注意</code>:</p><p>1：null 和 undefined 无 constructor，这种方法判断不了。</p><p>2：还有，如果自定义对象，开发者重写 prototype 之后，原有的 constructor 会丢失，因此，为了规范开发，在重写对象原型时一般都需要重新给 constructor 赋值，以保证对象实例的类型不被篡改。</p><h2 id="4-Object-prototype-toString-call"><a href="#4-Object-prototype-toString-call" class="headerlink" title="4.Object.prototype.toString.call()"></a>4.Object.prototype.toString.call()</h2><p>toString()方法是 Object 原型上的方法，调用此方法，返回格式为[object,xxx]，xxx 即为判断的结果。对于 Object 对象可以直接调用 Object.prototype.toString()，对于其他数据类型，需要通过.call()来调用。</p><pre class=" language-js"><code class="language-js">Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object String]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Number]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Boolean]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[object Symbol]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Undefined]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Null]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Function]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Date]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Array]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object RegExp]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object Error]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [object HTMLDocument]</span>Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[object global] window 是全局对象 global 的引用</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人面试记录二</title>
      <link href="2021/121522883.html"/>
      <url>2021/121522883.html</url>
      
        <content type="html"><![CDATA[<h1 id="js-笔记总结"><a href="#js-笔记总结" class="headerlink" title="js 笔记总结"></a>js 笔记总结</h1><h2 id="盒子塌陷的原因？解决方式"><a href="#盒子塌陷的原因？解决方式" class="headerlink" title="盒子塌陷的原因？解决方式"></a>盒子塌陷的原因？解决方式</h2><pre><code>原因: 1. 浮动导致的塌陷,浮动会脱落标准流2. 嵌套的两个盒子,子盒子设置margin-top会导致父盒子一下下移解决方法:第一种情况 1 清除浮动;  2 给父盒子加高度;3 给父元素添加overflow:hidden第二种情况 1 给父元素加上边框; 2 给父元素添加overflow:hidden</code></pre><h2 id="不定宽高的-div-水平垂直居中"><a href="#不定宽高的-div-水平垂直居中" class="headerlink" title="不定宽高的 div 水平垂直居中"></a>不定宽高的 div 水平垂直居中</h2><pre><code>答: 1、使用定位和translate来实现        div{            position:absolute;            top: 50%;             left: 50%;             transform: translate(-50%, -50%);        }    2、使用flex来实现        div {           display: flex;           justify-content:center; //子元素水平居中           align-items:center; //子元素垂直居中         }    3、使用定位和margin来实现        #box {            width: 100px;            height: 100px;            position: relative;        }        #content {            width: 50px;            height: 50px;            position: absolute;            top: 0;            right: 0;            bottom: 0;            left: 0;            margin: auto;        }</code></pre><h2 id="css-写一个三角形"><a href="#css-写一个三角形" class="headerlink" title="css 写一个三角形"></a>css 写一个三角形</h2><pre><code>答: div {    width: 0px;      height: 0px;      border: 30px solid transparent;      border-left-color: rgb(233, 42, 191)    }   不设置宽高，设置边框中一个边框大小及颜色，其他三边框为透明色</code></pre><h2 id="css-选择器的优先级"><a href="#css-选择器的优先级" class="headerlink" title="css 选择器的优先级"></a>css 选择器的优先级</h2><pre><code>答: !important&gt;行内样式&gt;id选择器&gt;类/属性/伪类选择器&gt;伪元素/标签选择器&gt;通配符选择器*</code></pre><h2 id="px、em-和-rem-的区别"><a href="#px、em-和-rem-的区别" class="headerlink" title="px、em 和 rem 的区别"></a>px、em 和 rem 的区别</h2><pre><code>答: px 是固定单位,    em 是相对单位,相当于当前文字的大小,如果没有就找父元素    rem 也是相对单位,相对于html的fontsize的大小</code></pre><h2 id="rem-布局的原理"><a href="#rem-布局的原理" class="headerlink" title="rem 布局的原理"></a>rem 布局的原理</h2><pre><code>答:rem是css的相对单位，rem缩放是相对根元素字体大小.   rem布局的本质是等比缩放，一般是基于宽度。   rem会配合媒体查询（或js动态获取屏幕宽度）来一起使用，来实现屏幕的适配。</code></pre><h2 id="什么是重绘和重排"><a href="#什么是重绘和重排" class="headerlink" title="什么是重绘和重排"></a>什么是重绘和重排</h2><pre><code>答:    重排: 当DOM元素影响了元素的几何属性（例如宽和高），浏览器需要重新计算元素的几何属性，同样其它元素的几何属性也会和位置也会因此受到影响。浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树。这个过程称为“重排”。    重绘: 完成重排后，浏览器会重新绘制受影响的部分到屏幕上中，该过程称为“重绘”。    当我们改变DOM的大小，增加删除都会导致重排，当给DOM元素改变颜色的时候，会导致重绘，重排一定会重绘，重绘不会重排。重排会影响性能，所以我们尽快能的减少重排的操作</code></pre><h2 id="flex-常用的容器属性"><a href="#flex-常用的容器属性" class="headerlink" title="flex 常用的容器属性"></a>flex 常用的容器属性</h2><pre><code>答:1. flex-direction: 设置容器中的主轴方向2. flex-wrap: 项目在主轴方向上是否换行显示3. justify-content: 设置容器中的项目在主轴上的对齐方式4. align-items: 单行项目在侧轴上的排列方式5. align-content: 多行项目侧轴上的对齐方式6. flex-flow: 是flex-direction和flex-wrap的合写, 默认值为row nowrap</code></pre><h2 id="如何设置比-12px-更小的字体"><a href="#如何设置比-12px-更小的字体" class="headerlink" title="如何设置比 12px 更小的字体"></a>如何设置比 12px 更小的字体</h2><pre><code>  p {        font-size:12px;        -webkit-transform:scale(0.8);    }</code></pre><h2 id="H5-新增了那些特性"><a href="#H5-新增了那些特性" class="headerlink" title="H5 新增了那些特性"></a>H5 新增了那些特性</h2><pre><code>答:1. 语义化标签: header nav section article aside footer2. 多媒体标签: video audio3. 表单控件: number search email tel date file time  url4. 本地离线存储 localStorage 长期存储数据,改变浏览器数据不会丢失              sessionStorage 浏览器关闭数据会丢失5. 自定义属性 data-*6. 画布 Canvas7. 拖拽释放 (Drap and Drap) API ondrop8. 新的技术文本 webworker9. 地理位置 (Geolocation) API</code></pre><h2 id="C3-新增了那些特性"><a href="#C3-新增了那些特性" class="headerlink" title="C3 新增了那些特性"></a>C3 新增了那些特性</h2><pre><code>答:1. 圆角 border-radius2. 盒子模型 box-sizing3. 阴影 box-shadow 盒子阴影  text-shadow 文字阴影4. 过渡 transition5. 2D转换transform  translate(平移) scale(缩放)  skew(斜切) rotate(旋转) transform-origin 控制转换中心点6. 3D转换 perspective(透视距)  transform-style(3D控件效果)7. 渐变 linear-gradient radial-gradient8. 弹性布局 flex9. 媒体查询 @media screen and () {...}10. 边框图片 border-image11. 自定义动画 @keyframes    animation12. 颜色 新增RGBA HSLA模式13. 背景 background-size   background-origin   background-clip</code></pre><h2 id="js-的数据类型有哪些"><a href="#js-的数据类型有哪些" class="headerlink" title="js 的数据类型有哪些"></a>js 的数据类型有哪些</h2><pre><code>答: 简单数据类型: number string boolean undefined   null    复制数据类型: object  function  array</code></pre><h2 id="typeof-返回的数据类型"><a href="#typeof-返回的数据类型" class="headerlink" title="typeof 返回的数据类型"></a>typeof 返回的数据类型</h2><pre><code>答: number string boolean undefined  object  function   特殊情况：   typeof null --&gt;object   typeof array --&gt;object   typeof typeof 任何类型  --&gt;string</code></pre><h2 id="返回-false-的情况有哪些"><a href="#返回-false-的情况有哪些" class="headerlink" title="返回 false 的情况有哪些"></a>返回 false 的情况有哪些</h2><pre><code>答: 0  ""   null  false  NaN  undefined  不成立的表达式</code></pre><h2 id="对-this-的理解"><a href="#对-this-的理解" class="headerlink" title="对 this 的理解"></a>对 this 的理解</h2><pre><code>答: this是个关键字,它的指向和函数的调用方式有关1. 函数调用模式, this指向window2. 构造函数调用模式, this指向新创建的实例对象3. 方法调用模式, this指向调用方法的对象4. 上下文调用模式, call和apply方法中, this指向方法内的第一个参数  bind方法中, bind创建的新函数的this绑定为bind方法中新的函数5. 在事件处理函数中,this指向触发事件的当前元素6. 定时器中,this指向window7. 箭头函数中没有this指向问题,它的this和外层作用域的this保持一致8. 匿名函数中的this总是指向window</code></pre><h2 id="new-操作符做了什么"><a href="#new-操作符做了什么" class="headerlink" title="new 操作符做了什么"></a>new 操作符做了什么</h2><pre><code>答:  1. 创建一个新对象    2. 函数内部的this指向这个对象    3. 执行函数体    4. 自动返回这个函数</code></pre><h2 id="和-的区别"><a href="#和-的区别" class="headerlink" title="==和===的区别"></a>==和===的区别</h2><pre class=" language-js"><code class="language-js">答：<span class="token operator">==</span> 表示是相等，只比较内容   <span class="token operator">===</span> 表示是全等，不仅比较内容，也比较类型</code></pre><h2 id="null-和-undefined-的区别"><a href="#null-和-undefined-的区别" class="headerlink" title="null 和 undefined 的区别"></a>null 和 undefined 的区别</h2><pre class=" language-js"><code class="language-js">答：<span class="token keyword">null</span> 表示空值 没有获取到。<span class="token keyword">typeof</span> <span class="token keyword">null</span> 返回<span class="token string">"object"</span>   undefined 表示未定义，声明没有值。<span class="token keyword">typeof</span> undefined 返回<span class="token string">"undefined"</span></code></pre><h2 id="localStorage、sessionStorage-和-cookie-的区别"><a href="#localStorage、sessionStorage-和-cookie-的区别" class="headerlink" title="localStorage、sessionStorage 和 cookie 的区别"></a>localStorage、sessionStorage 和 cookie 的区别</h2><pre><code>答: 共同点: 都可以用来存储数据。    区别:    1. 请求不同:        cookie 数据始终在同源的http请求中携带（即使不需要），即cookie在浏览器和服务器间来回传递。        sessionStorage 和 localStorage不会自动把数据发给服务器，仅在本地保存。    2. 存储大小限制也不同:        cookie 数据不能超过4k，同时因为每次http请求都会携带cookie，所以cookie只适合保存很小的数据，如会话标识。        sessionStorage 和 localStorage虽然也有存储大小的限制，但比cookie大得多，sessionStorage和localStorage约5M 。    3. 数据有效期不同:         sessionStorage：仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持；         localStorage：始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；         cookie只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。</code></pre><h2 id="js-的运行机制是什么"><a href="#js-的运行机制是什么" class="headerlink" title="js 的运行机制是什么"></a>js 的运行机制是什么</h2><pre class=" language-js"><code class="language-js">答：js是单线程执行的，页面加载时，会自上而下执行主线程上的同步任务，当主线程代码执行完毕时，才开始执行在任务队列中的异步任务。具体如下    <span class="token number">1</span><span class="token punctuation">.</span>所有同步任务都在主线程上执行，形成一个执行栈。    <span class="token number">2</span><span class="token punctuation">.</span>主线程之外，还存在一个<span class="token string">"任务队列(eventloop队列或者消息队列)"</span>。只要异步任务有了运行结果，就在<span class="token string">"任务队列"</span>之中放置一个事件。    <span class="token number">3</span><span class="token punctuation">.</span>一旦<span class="token string">"执行栈"</span>中的所有同步任务执行完毕，系统就会读取<span class="token string">"任务队列"</span>，看看里面有哪些事件。哪些对应的异步任务，于是结束等待状态，进入执行栈，开始执行。    <span class="token number">4</span><span class="token punctuation">.</span>主线程不断重复上面的第三步。</code></pre><h2 id="怎么理解面向对象"><a href="#怎么理解面向对象" class="headerlink" title="怎么理解面向对象"></a>怎么理解面向对象</h2><pre class=" language-js"><code class="language-js">答：<span class="token number">1</span>、面向对象是一种软件开发的思想和面向过程是相对应的，就是把程序看作一个对象，将属性和方法封装其中，以提高代码的灵活性、复用性、可扩展性。  <span class="token number">2</span>、面向对象有三大特性：封装、继承、多态。       封装：把相关的信息（无论数据或方法）存储在对象中的能力       继承：由另一个类（或多个类）得来类的属性和方法的能力       多态：编写能以多种方法运行的函数或方法的能力   <span class="token number">3</span>、js中对象是一个无序的数据集合或者也可以说是属性和方法的集合，可以动态的添加属性可方法。   <span class="token number">4</span>、js是基于对象，但是也使用了嵌入了面向对象的思想，可以实现继承和封装，这样也可以提供代码的灵活性和复用性。</code></pre><h2 id="那些情况会得到伪数组"><a href="#那些情况会得到伪数组" class="headerlink" title="那些情况会得到伪数组"></a>那些情况会得到伪数组</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、参数 arguments，<span class="token number">2</span>、DOM 对象列表（比如通过 document<span class="token punctuation">.</span>getElementsByTags 得到的列表）、childNodes也是伪数组<span class="token number">3</span>、jQuery 对象（比如 <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span>）</code></pre><h2 id="let、const、var-的区别"><a href="#let、const、var-的区别" class="headerlink" title="let、const、var 的区别"></a>let、const、var 的区别</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、<span class="token keyword">var</span>声明变量存在提升（提升当前作用域最顶端），<span class="token keyword">let</span>和<span class="token keyword">const</span>是不存在变量提升的情况<span class="token number">2</span>、<span class="token keyword">var</span>没有块级作用，<span class="token keyword">let</span>和<span class="token keyword">const</span>存在块级作用域<span class="token number">3</span>、<span class="token keyword">var</span>允许重复声明，<span class="token keyword">let</span>和<span class="token keyword">const</span>在同一作用域不允许重复声明<span class="token number">4</span>、<span class="token keyword">var</span>和<span class="token keyword">let</span>声明变量可以修改，<span class="token keyword">const</span>是常量不能改变</code></pre><h2 id="怎么理解事件循环机制"><a href="#怎么理解事件循环机制" class="headerlink" title="怎么理解事件循环机制"></a>怎么理解事件循环机制</h2><pre class=" language-js"><code class="language-js">    <span class="token number">1</span>、JavaScript 是一门单线程语言<span class="token punctuation">.</span>单线程可能会出现阻塞的情况，所js分了同步任务和异步任务。    <span class="token number">2</span>、同步和异步任务分别进入不同的执行环境，同步的进入主线程，即主执行栈，异步的进入 Event Queue（事件队列） 。主线程内的任务执行完毕为空，会去 Event Queue 读取对应的任务，推入主线程执行。 上述过程的不断重复就是我们说的 Event Loop <span class="token punctuation">(</span>事件循环<span class="token punctuation">)</span>。</code></pre><h2 id="什么是作用域链"><a href="#什么是作用域链" class="headerlink" title="什么是作用域链"></a>什么是作用域链</h2><pre class=" language-js"><code class="language-js">    <span class="token number">1</span>、作用域：分全局作用域和局部作用域    <span class="token number">2</span>、在访问一个变量时，首先在当前作用域中找，如果找不到再到外层作用域中找，这样一层一层的查找，就形成了作用域链。</code></pre><h2 id="for-in-和-for-of-的区别"><a href="#for-in-和-for-of-的区别" class="headerlink" title="for in 和 for of 的区别"></a>for in 和 for of 的区别</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、<span class="token keyword">for</span>…<span class="token keyword">in</span>是遍历数组、对象的key下标<span class="token number">2</span>、<span class="token keyword">for</span>…<span class="token keyword">of</span>是遍历数组的value属性例如：<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"b"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token number">1</span>）<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//0 1</span>  <span class="token punctuation">}</span>  <span class="token number">2</span>）<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//a b</span>  <span class="token punctuation">}</span></code></pre><h2 id="值类型和引用类型的区别"><a href="#值类型和引用类型的区别" class="headerlink" title="值类型和引用类型的区别"></a>值类型和引用类型的区别</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、值类型    <span class="token number">1</span>）基本类型数据是值类型    <span class="token number">2</span>）保存与复制的是值本身    <span class="token number">3</span>）使用<span class="token keyword">typeof</span>检测数据的类型<span class="token number">2</span>、引用类型    <span class="token number">1</span>）保存与复制的是指向对象的一个指针    <span class="token number">2</span>）使用<span class="token keyword">instanceof</span>检测数据类型    <span class="token number">3</span>）使用 <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法构造出的对象是引用型</code></pre><h2 id="什么是深拷贝什么是浅拷贝"><a href="#什么是深拷贝什么是浅拷贝" class="headerlink" title="什么是深拷贝什么是浅拷贝"></a>什么是深拷贝什么是浅拷贝</h2><pre><code>答: 浅拷贝: 拷贝对象的一层属性,如果对象里面还有对象,拷贝的是地址, 两者之间修改会有影响,适用于对象里面属性的值是简单数据类型的.    深拷贝: 拷贝对象的多层属性,如果对象里面还有对象,会继续拷贝,使用递归去实现.</code></pre><h2 id="如何实现深拷贝和浅拷贝"><a href="#如何实现深拷贝和浅拷贝" class="headerlink" title="如何实现深拷贝和浅拷贝"></a>如何实现深拷贝和浅拷贝</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 浅拷贝<span class="token punctuation">:</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">"UI"</span><span class="token punctuation">,</span>  age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>  love<span class="token punctuation">:</span> <span class="token string">"eat"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    newObj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> newObj<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">getObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>深拷贝<span class="token punctuation">:</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">"前端"</span><span class="token punctuation">,</span>  age<span class="token punctuation">:</span> <span class="token number">26</span><span class="token punctuation">,</span>  love<span class="token punctuation">:</span> <span class="token punctuation">{</span>    friuts<span class="token punctuation">:</span> <span class="token string">"apple"</span><span class="token punctuation">,</span>    meat<span class="token punctuation">:</span> <span class="token string">"beef"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/* if (typeof obj[k] == 'object') {          newObj[k] = getObj(obj[k])        } else {          newObj[k] = obj[k]        } */</span>    newObj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"object"</span> <span class="token operator">?</span> <span class="token function">getObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> newObj<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token function">getObj</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="对闭包的理解？并能举出闭包的例子"><a href="#对闭包的理解？并能举出闭包的例子" class="headerlink" title="对闭包的理解？并能举出闭包的例子"></a>对闭包的理解？并能举出闭包的例子</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 闭包 <span class="token function">函数和声明该函数的词法环境的组合</span><span class="token punctuation">(</span>两个嵌套关系的函数<span class="token punctuation">,</span>内部函数可以访问外部函数定义的变量<span class="token punctuation">)</span>    闭包的优点：<span class="token number">1</span>、形成私有空间，避免全局变量的污染               <span class="token number">2</span>、持久化内存，保存数据    闭包的缺点：<span class="token number">1</span>、持久化内存，导致内存泄露    解决：<span class="token number">1</span>、尽快避免函数的嵌套，以及变量的引用          <span class="token number">2</span>、执行完的变量，可以赋值<span class="token keyword">null</span>，让垃圾回收机制，进行回收释放内存（当不在引用的变量，垃圾回收机制就会回收）例<span class="token punctuation">:</span> 点击li获取当前下标    <span class="token operator">&lt;</span>ul<span class="token operator">></span>      <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token number">111</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>      <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token number">222</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>      <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token number">333</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>      <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token number">444</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>      <span class="token operator">&lt;</span>li<span class="token operator">></span><span class="token number">555</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span>      <span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>          lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>      <span class="token punctuation">}</span></code></pre><h2 id="什么是原型和原型链"><a href="#什么是原型和原型链" class="headerlink" title="什么是原型和原型链"></a>什么是原型和原型链</h2><pre><code>答: 原型: 函数都有prototype属性,这个属性的值是个对象,称之为原型   原型链: 对象都有__proto__属性,这个属性指向它的原型对象,原型对象也是对象,也有__proto__属性,指向原型对象的原型对象,这样一层一层形成的链式结构称为原型链.</code></pre><h2 id="call、apply-和-bind-的区别"><a href="#call、apply-和-bind-的区别" class="headerlink" title="call、apply 和 bind 的区别"></a>call、apply 和 bind 的区别</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">.</span> call和apply方法都可以调用函数<span class="token punctuation">,</span>方法内的第一个参数可以修改<span class="token keyword">this</span>的指向    <span class="token number">2</span><span class="token punctuation">.</span> call方法可以有多个参数<span class="token punctuation">,</span>除了第一个参数<span class="token punctuation">,</span>其他参数作为实参传递给函数             apply方法最多有<span class="token number">2</span>个参数<span class="token punctuation">,</span>第二个参数是个数组或伪数组<span class="token punctuation">,</span>数组里面的每一项作为实参传递给函数    <span class="token number">3</span><span class="token punctuation">.</span> bind方法不能调用函数<span class="token punctuation">,</span>它会创建一个副本函数<span class="token punctuation">,</span>并且绑定新函数的<span class="token keyword">this</span>指向bind返回的新的函数</code></pre><h2 id="es6-es10-新增常用方法"><a href="#es6-es10-新增常用方法" class="headerlink" title="es6-es10 新增常用方法"></a>es6-es10 新增常用方法</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span>es6<span class="token punctuation">:</span><span class="token number">1</span>、<span class="token keyword">let</span>、<span class="token keyword">const</span><span class="token number">2</span>、解构赋值   <span class="token keyword">let</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token number">3</span>、箭头函数   <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token number">4</span>、字符串模板  <span class="token template-string"><span class="token string">``</span></span><span class="token number">5</span>、扩展运算符  <span class="token operator">...</span>arr<span class="token number">6</span>、数组方法：map、filter、some等等<span class="token number">7</span>、类：<span class="token keyword">class</span>关键字<span class="token number">8</span>、promise 主要用于异步计算<span class="token number">9</span>、函数参数默认值 <span class="token function">fn</span><span class="token punctuation">(</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token number">10</span>、对象属性简写 <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span><span class="token number">11</span>、模块化：<span class="token keyword">import</span><span class="token operator">--</span>引入、exprot <span class="token keyword">default</span><span class="token operator">--</span>导出es7<span class="token punctuation">:</span><span class="token number">1</span><span class="token function">、includes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法，用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回<span class="token boolean">true</span>，否则返回<span class="token boolean">false</span>。es8<span class="token punctuation">:</span><span class="token number">1</span>、<span class="token keyword">async</span><span class="token operator">/</span><span class="token keyword">await</span>es9：<span class="token number">1</span>、Promise<span class="token punctuation">.</span><span class="token keyword">finally</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 允许你指定最终的逻辑es10<span class="token punctuation">:</span><span class="token number">1</span><span class="token function">、数组Array的flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">和flatmap</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   flat<span class="token punctuation">:</span>方法最基本的作用就是数组降维      <span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// [1, 2, 3, 4]</span>        <span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        arr3<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5, 6]</span>        <span class="token comment" spellcheck="true">//使用 Infinity 作为深度，展开任意深度的嵌套数组</span>        arr3<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// [1, 2, 3, 4, 5, 6]</span>   flatmap<span class="token punctuation">:</span><span class="token function">方法首先使用映射函数映射</span><span class="token punctuation">(</span>遍历<span class="token punctuation">)</span>每个元素，然后将结果压缩成一个新数组</code></pre><h2 id="怎么理解函数的防抖和节流"><a href="#怎么理解函数的防抖和节流" class="headerlink" title="怎么理解函数的防抖和节流"></a>怎么理解函数的防抖和节流</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span><span class="token number">1</span>、定义：防抖<span class="token punctuation">:</span> 就是指触发事件后在n秒内函数只能执行一次，如果在n秒内又触发了事件，则会重新计算函数执行时间。     例如：设定<span class="token number">1000</span>毫秒执行，当你触发事件了，他会<span class="token number">1000</span>毫秒后执行，但是在还剩<span class="token number">500</span>毫秒的时候你又触发了事件，那就会重新开始<span class="token number">1000</span>毫秒之后再执行节流<span class="token punctuation">:</span> 就是指连续触发事件但是在设定的一段时间内中只执行一次函数。     例如：设定<span class="token number">1000</span>毫秒执行，那你在<span class="token number">1000</span>毫秒触发在多次，也只在<span class="token number">1000</span>毫秒后执行一次<span class="token number">2</span>、防抖和节流的实现：    <span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"ipt"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>      <span class="token keyword">var</span> timerId <span class="token operator">=</span> <span class="token keyword">null</span>      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.ipt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onkeyup <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 防抖</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>timerId <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span>        <span class="token punctuation">}</span>        timerId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是防抖'</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>      document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.ipt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onkeyup <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 节流</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>timerId <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span>        <span class="token punctuation">}</span>        timerId <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是节流'</span><span class="token punctuation">)</span>          timerId <span class="token operator">=</span> <span class="token keyword">null</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span></code></pre><h2 id="异步函数有哪些"><a href="#异步函数有哪些" class="headerlink" title="异步函数有哪些"></a>异步函数有哪些</h2><pre class=" language-js"><code class="language-js">JavaScript 中常见的异步函数有：定时器，事件和 ajax 等</code></pre><h2 id="伪数组有哪些"><a href="#伪数组有哪些" class="headerlink" title="伪数组有哪些"></a>伪数组有哪些</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、参数 arguments，<span class="token number">2</span>、DOM 对象列表（比如通过 document<span class="token punctuation">.</span>getElementsByTags 得到的列表）、childNodes也是伪数组<span class="token number">3</span>、jQuery 对象（比如 <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span>）</code></pre><h2 id="真数组和伪数组的区别"><a href="#真数组和伪数组的区别" class="headerlink" title="真数组和伪数组的区别"></a>真数组和伪数组的区别</h2><pre class=" language-js"><code class="language-js">伪数组：<span class="token number">1</span>、拥有length属性<span class="token number">2</span>、不具有数组的方法<span class="token number">3</span>、伪数组是一个Object，真数组是Array<span class="token number">4</span>、伪数组的长度不可变，真数组的长度是可变的</code></pre><h2 id="伪数组怎么转真数组"><a href="#伪数组怎么转真数组" class="headerlink" title="伪数组怎么转真数组"></a>伪数组怎么转真数组</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、<span class="token keyword">let</span> newArr <span class="token operator">=</span> Array<span class="token punctuation">.</span>protype<span class="token punctuation">.</span>slice<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>伪数组<span class="token punctuation">)</span><span class="token number">2</span>、<span class="token keyword">let</span> newArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>伪数组<span class="token punctuation">)</span><span class="token punctuation">,</span>ES6的新语法<span class="token number">3</span>、<span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>伪数组<span class="token punctuation">]</span>，使用扩展运算符<span class="token punctuation">,</span>也是ES6的语法</code></pre><h2 id="数组如何进行降维（扁平化）"><a href="#数组如何进行降维（扁平化）" class="headerlink" title="数组如何进行降维（扁平化）"></a>数组如何进行降维（扁平化）</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、利用Array<span class="token punctuation">.</span>some方法判断数组中是否还存在数组，es6展开运算符连接数组       <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token number">2</span>、使用数组的concat方法　   <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>     <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>     result <span class="token operator">=</span> Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>concat<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token number">3</span>、 使用数组的concat方法和扩展运算符    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token number">4</span>、es6中的flat函数也可以实现数组的扁平化    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'中'</span><span class="token punctuation">,</span><span class="token string">'文'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span> <span class="token number">Infinity</span> <span class="token punctuation">)</span>    注意：flat方法的infinity属性，可以实现多层数组的降维</code></pre><h1 id="ajax-笔记总结"><a href="#ajax-笔记总结" class="headerlink" title="ajax 笔记总结"></a>ajax 笔记总结</h1><h2 id="什么是事件流"><a href="#什么是事件流" class="headerlink" title="什么是事件流"></a>什么是事件流</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 事件流是指事件传播的顺序<span class="token punctuation">,</span> <span class="token punctuation">(</span>由事件捕获<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>目标事件<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> 事件冒泡<span class="token punctuation">;</span></code></pre><h2 id="如何阻止冒泡和默认行为"><a href="#如何阻止冒泡和默认行为" class="headerlink" title="如何阻止冒泡和默认行为"></a>如何阻止冒泡和默认行为</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 阻止冒泡和捕获  e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    阻止默认行为   e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token keyword">return</span> <span class="token boolean">false</span>    注意：addEventListener注册的事件，在高浏览器版本中，<span class="token keyword">return</span> <span class="token boolean">false</span>将没有效果，必须要用事件对象</code></pre><h2 id="原生注册事件的方式有哪些？区别是什么"><a href="#原生注册事件的方式有哪些？区别是什么" class="headerlink" title="原生注册事件的方式有哪些？区别是什么"></a>原生注册事件的方式有哪些？区别是什么</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 注册方式          <span class="token number">1</span><span class="token punctuation">.</span> on <span class="token operator">+</span> 事件名称          <span class="token number">2</span><span class="token punctuation">.</span> addEventListener        区别<span class="token punctuation">:</span>            <span class="token number">1</span><span class="token punctuation">.</span> 使用on注册事件<span class="token punctuation">,</span>同一个元素只能注册一个同类型事件<span class="token punctuation">,</span>否则会覆盖。            <span class="token number">2</span><span class="token punctuation">.</span> addEventListener可以注册同一事件多次<span class="token punctuation">,</span>不会被覆盖。</code></pre><h2 id="http-和-https-的区别"><a href="#http-和-https-的区别" class="headerlink" title="http 和 https 的区别"></a>http 和 https 的区别</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span>  <span class="token number">1</span><span class="token punctuation">.</span>https协议需要到CA申请证书，一般免费证书较少，因而需要一定费用。  <span class="token number">2</span><span class="token punctuation">.</span>http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl<span class="token operator">/</span>tls加密传输协议。  <span class="token number">3</span><span class="token punctuation">.</span>http和https使用的是完全不同的连接方式，用的端口也不一样，前者是<span class="token number">80</span>，后者是<span class="token number">443</span>。  <span class="token number">4</span><span class="token punctuation">.</span>http的连接很简单，是无状态的；HTTPS协议是由SSL<span class="token operator">/</span>TLS<span class="token operator">+</span>HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。</code></pre><h2 id="get-和-post-的区别"><a href="#get-和-post-的区别" class="headerlink" title="get 和 post 的区别"></a>get 和 post 的区别</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> <span class="token keyword">get</span>            <span class="token number">1</span><span class="token punctuation">.</span> 在url后面拼接参数<span class="token punctuation">,</span>只能以文本的形式传递数据            <span class="token number">2</span><span class="token punctuation">.</span> 传递的数据量小<span class="token punctuation">,</span>4KB左右            <span class="token number">3</span><span class="token punctuation">.</span> 安全性低<span class="token punctuation">,</span> 会将数据显示在地址栏            <span class="token number">4</span><span class="token punctuation">.</span> 速度快<span class="token punctuation">,</span>通常用于安全性要求不高的请求            <span class="token number">5</span><span class="token punctuation">.</span> 会缓存数据    post            <span class="token number">1</span><span class="token punctuation">.</span> 安全性比较高            <span class="token number">2</span><span class="token punctuation">.</span> 传递数据量大<span class="token punctuation">,</span>请求对数据长度没有要求            <span class="token number">3</span><span class="token punctuation">.</span> 请求不会被缓存<span class="token punctuation">,</span>也不会保留在浏览器历史记录里</code></pre><h2 id="项目中常遇到的状态码有哪些"><a href="#项目中常遇到的状态码有哪些" class="headerlink" title="项目中常遇到的状态码有哪些"></a>项目中常遇到的状态码有哪些</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> <span class="token number">200</span>  请求成功<span class="token punctuation">,</span>  <span class="token number">2</span>开头的异步表示请求成功        <span class="token number">304</span>  请求被允许<span class="token punctuation">,</span>但请求内容没有改变<span class="token punctuation">,</span> <span class="token number">3</span>开头的一般请求完成        <span class="token number">400</span>  请求格式错误<span class="token punctuation">,</span>  <span class="token number">4</span>开头的一般表示请求错误        <span class="token number">404</span>  <span class="token function">请求的资源</span><span class="token punctuation">(</span>网页<span class="token punctuation">)</span>不存在<span class="token punctuation">,</span>        <span class="token number">500</span>  内部服务器错误<span class="token punctuation">,</span>  <span class="token number">5</span>开头的一般都是指服务器错误</code></pre><h2 id="jsonp-的原理？以及优缺点"><a href="#jsonp-的原理？以及优缺点" class="headerlink" title="jsonp 的原理？以及优缺点"></a>jsonp 的原理？以及优缺点</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 原理<span class="token punctuation">:</span> 利用script标签的src属性具有天然可跨域的特性，由服务端返回一个预先定义好的Javascript函数的调用，并且将服务器数据以该函数参数的形式响应给浏览器<span class="token punctuation">.</span>        优点<span class="token punctuation">:</span> 完美解决在测试或者开发中获取不同域下的数据<span class="token punctuation">,</span>用户传递一个callback参数给服务端，然后服务端返回数据时会将这个callback参数作为函数名来包裹住JSON数据，这样客户端就可以随意定制自己的函数来自动处理返回数据了。        缺点：Jsonp只支持<span class="token keyword">get</span>请求而不支持post 请求<span class="token punctuation">,</span>也即是说如果想传给后台一个json 格式的数据<span class="token punctuation">,</span>此时问题就来了<span class="token punctuation">,</span> 浏览器会报一个http状态码<span class="token number">41</span>错误<span class="token punctuation">,</span>告诉你请求格式不正确<span class="token punctuation">.</span></code></pre><h2 id="Json-字符串和-json-对象怎么相互转换"><a href="#Json-字符串和-json-对象怎么相互转换" class="headerlink" title="Json 字符串和 json 对象怎么相互转换"></a>Json 字符串和 json 对象怎么相互转换</h2><pre><code>答: JSON对象转JSON字符串: json.stringify(对象)    JSON字符串转JSON对象: json.parse(字符串)</code></pre><h2 id="什么是同源策略？怎么解决跨域问题"><a href="#什么是同源策略？怎么解决跨域问题" class="headerlink" title="什么是同源策略？怎么解决跨域问题"></a>什么是同源策略？怎么解决跨域问题</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> 同源策略<span class="token punctuation">:</span> 同源策略是浏览器的一种安全策略<span class="token punctuation">,</span> 所谓同源是指域名、协议、端口完全相同，不同源则跨域。   解决跨域的方法<span class="token punctuation">:</span>            <span class="token number">1</span><span class="token punctuation">.</span> 通过jsonp跨域            <span class="token number">2</span><span class="token punctuation">.</span> 跨域资源共享（CORS  Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin<span class="token punctuation">:</span> http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>api<span class="token punctuation">.</span>bob<span class="token punctuation">.</span>com）            <span class="token number">3</span><span class="token punctuation">.</span> nginx代理跨域</code></pre><h2 id="怎么理解同步和异步"><a href="#怎么理解同步和异步" class="headerlink" title="怎么理解同步和异步"></a>怎么理解同步和异步</h2><pre><code>1、javascript是单线程。单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。如果前一个任务耗时很长，后一个任务就不得不一直等着。于是就有一个概念——任务队列。2、所有任务可以分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。同步任务指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；异步任务指的是，不进入主线程、而进入"任务队列"（task queue）的任务，只有等主线程任务执行完毕，"任务队列"开始通知主线程，请求执行任务，该任务才会进入主线程执行。</code></pre><h2 id="你对-WebSocket-了解哪些"><a href="#你对-WebSocket-了解哪些" class="headerlink" title="你对 WebSocket 了解哪些"></a>你对 WebSocket 了解哪些</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> WebSocket 是HTML5一种新的协议。它实现了浏览器与服务器全双工通信，能更好的节省服务器资源和带宽并达到实时通讯，它建立在TCP之上，同HTTP一样通过TCP来传输数据，但是它和HTTP最大不同是：    <span class="token number">1</span><span class="token punctuation">.</span> WebSocket是一种双向通信协议，在建立连接后，WebSocket服务器和Browser<span class="token operator">/</span>Client Agent都能主动的向对方发送或接收数据，就像Socket一样；    <span class="token number">2</span><span class="token punctuation">.</span> WebSocket需要类似TCP的客户端和服务器端通过握手连接连接成功后才能相互通信。</code></pre><h2 id="在地址栏输入网址，到数据返回的过程是什么？"><a href="#在地址栏输入网址，到数据返回的过程是什么？" class="headerlink" title="在地址栏输入网址，到数据返回的过程是什么？"></a>在地址栏输入网址，到数据返回的过程是什么？</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span>  <span class="token number">1</span><span class="token punctuation">.</span> 输入url地址后，首先进行DNS解析，将相应的域名解析为IP地址。     <span class="token number">2</span><span class="token punctuation">.</span> 根据IP地址去寻找相应的服务器。     <span class="token number">3</span><span class="token punctuation">.</span> 与服务器进行TCP的三次握手，建立连接。     <span class="token number">4</span><span class="token punctuation">.</span> 客户端发送请求，找到相应的资源库。     <span class="token number">5</span><span class="token punctuation">.</span> 客户端拿到数据，进行相应的渲染。</code></pre><h2 id="原生-ajax-请求的步骤"><a href="#原生-ajax-请求的步骤" class="headerlink" title="原生 ajax 请求的步骤"></a>原生 ajax 请求的步骤</h2><pre class=" language-js"><code class="language-js">答：<span class="token number">1</span><span class="token punctuation">.</span>创建异步对象 <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">2</span><span class="token punctuation">.</span>设置请求行  xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">3</span><span class="token punctuation">.</span>设置请求头  xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">get</span>请求没有请求头    post请求多一个关键头信息    Content<span class="token operator">-</span>type<span class="token punctuation">:</span> application<span class="token operator">/</span>x<span class="token operator">-</span>www<span class="token operator">-</span>form<span class="token operator">-</span>urlencoded    <span class="token number">4</span><span class="token punctuation">.</span>设置请求体  xhr<span class="token punctuation">.</span>send      <span class="token keyword">get</span>请求没有请求体<span class="token punctuation">,</span>参数为<span class="token keyword">null</span>    <span class="token number">5</span><span class="token punctuation">.</span>监视异步对象的状态变化   xhr<span class="token punctuation">.</span><span class="token function">onreadystatechange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><h2 id="怎么理解三次握手"><a href="#怎么理解三次握手" class="headerlink" title="怎么理解三次握手"></a>怎么理解三次握手</h2><pre class=" language-js"><code class="language-js">字段          含义URG       紧急指针是否有效。为<span class="token number">1</span>，表示某一位需要被优先处理ACK       确认号是否有效，一般置为<span class="token number">1</span>。PSH       提示接收端应用程序立即从TCP缓冲区把数据读走。RST       对方要求重新建立连接，复位。SYN       请求建立连接，并在其序列号的字段进行序列号的初始值设定。建立连接，设置为<span class="token number">1</span>FIN    希望断开连接。<span class="token number">1</span>、三次握手    第一次握手：建立连接时，客户端发送syn包到服务器，等待服务器确认。    第二次握手：服务器收到syn包，必须确认客户的SYN，同时自己也发送一个SYN包（syn<span class="token operator">=</span>y）到客户端    第三次握手：客户端收到服务器的SYN<span class="token operator">+</span>ACK包，向服务器发送确认包ACK，此包发送完毕，客户端和服务器进入（TCP连接成功）状态，完成三次握手   （通俗：主机<span class="token number">1</span>告诉主机<span class="token number">2</span>，我可以向你请求数据吗。主机<span class="token number">2</span>告诉主机<span class="token number">1</span>，可以请求数据。主机<span class="token number">1</span>告诉主机<span class="token number">2</span>，那我来请求数据了，请求完成，实现三次握手）</code></pre><h2 id="怎么理解四次挥手"><a href="#怎么理解四次挥手" class="headerlink" title="怎么理解四次挥手"></a>怎么理解四次挥手</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、四次挥手    第一次分手：主机<span class="token number">1</span>（可以使客户端，也可以是服务器端）向主机<span class="token number">2</span>发送一个FIN报文段；此时，主机<span class="token number">1</span>进入FIN_WAIT_1状态；这表示主机<span class="token number">1</span>没有数据要发送给主机<span class="token number">2</span>了。    第二次分手：主机<span class="token number">2</span>收到了主机<span class="token number">1</span>发送的FIN报文段，向主机<span class="token number">1</span>回一个ACK报文段，主机<span class="token number">1</span>进入FIN_WAIT_2状态；主机<span class="token number">2</span>告诉主机<span class="token number">1</span>，我“同意”你的关闭请求。    第三次分手：主机<span class="token number">2</span>向主机<span class="token number">1</span>发送FIN报文段，请求关闭连接，同时主机<span class="token number">2</span>进入LAST_ACK状态。    第四次分手：主机<span class="token number">1</span>收到主机<span class="token number">2</span>发送的FIN报文段，向主机<span class="token number">2</span>发送ACK报文段，然后主机<span class="token number">1</span>进入TIME_WAIT状态；主机<span class="token number">2</span>收到主机<span class="token number">1</span>的ACK报文段以后，就关闭连接；此时，主机<span class="token number">1</span>等待2MSL后依然没有收到回复，则证明Server端已正常关闭，那好，主机<span class="token number">1</span>也可以关闭连接了。    （通俗：主机<span class="token number">1</span>告诉主机<span class="token number">2</span>，我没有数据要发送了，希望断开连接。主机<span class="token number">2</span>接到请求后说，同意断开。主机<span class="token number">2</span>告诉主机<span class="token number">1</span>可以关闭连接了。主机<span class="token number">1</span>接到可以关闭的指令后，关闭连接，四次挥手完成）</code></pre><h1 id="vue-笔记总结"><a href="#vue-笔记总结" class="headerlink" title="vue 笔记总结"></a>vue 笔记总结</h1><h2 id="怎么理解-mvvm-这种设计模式"><a href="#怎么理解-mvvm-这种设计模式" class="headerlink" title="怎么理解 mvvm 这种设计模式"></a>怎么理解 mvvm 这种设计模式</h2><pre class=" language-js"><code class="language-js"> Model–View–ViewModel （MVVM） 是一个软件架构设计模式，是一种简化用户界面的事件驱动编程方式。MVVM    M Model 模型 指的是数据层    V View  视图 指的是用户页面    VM ViewModel 视图模型    视图模型是MVVM模式的核心，它是连接view和model的桥梁，MVVM实现了view和model的自动同步，当model的属性改变时，我们不用自己手动操作DOM元素，来改变view的显示，反之亦然，我们称之为数据的双向绑定。</code></pre><h2 id="v-if-和-v-show-的区别，使用场景区别"><a href="#v-if-和-v-show-的区别，使用场景区别" class="headerlink" title="v-if 和 v-show 的区别，使用场景区别"></a>v-if 和 v-show 的区别，使用场景区别</h2><pre class=" language-js"><code class="language-js"> v<span class="token operator">-</span><span class="token keyword">if</span>和v<span class="token operator">-</span>show看起来似乎差不多，当条件不成立时，其所对应的标签元素都不可见，但是这两个选项是有区别的<span class="token punctuation">:</span><span class="token number">1</span>、v<span class="token operator">-</span><span class="token keyword">if</span>在条件切换时，会对标签进行适当的创建和销毁，而v<span class="token operator">-</span>show则仅在初始化时加载一次，因此v<span class="token operator">-</span><span class="token keyword">if</span>的开销相对来说会比v<span class="token operator">-</span>show大。<span class="token number">2</span>、v<span class="token operator">-</span><span class="token keyword">if</span>是惰性的，只有当条件为真时才会真正渲染标签；如果初始条件不为真，则v<span class="token operator">-</span><span class="token keyword">if</span>不会去渲染标签。v<span class="token operator">-</span>show则无论初始条件是否成立，都会渲染标签，它仅仅做的只是简单的CSS（display）切换。<span class="token number">3</span>、 v<span class="token operator">-</span><span class="token keyword">if</span>适用于不需要频繁切换元素显示和隐藏的情况    v<span class="token operator">-</span>show适用于需要频繁切换元素的显示和隐藏的场景。</code></pre><h2 id="vue-事件修饰符和按键修饰符有哪些"><a href="#vue-事件修饰符和按键修饰符有哪些" class="headerlink" title="vue 事件修饰符和按键修饰符有哪些"></a>vue 事件修饰符和按键修饰符有哪些</h2><pre class=" language-js"><code class="language-js">事件修饰符：    <span class="token punctuation">.</span>prevent  阻止事件默认行为    <span class="token punctuation">.</span>stop     阻止事件冒泡    <span class="token punctuation">.</span>capture  设置事件捕获机制    <span class="token punctuation">.</span>self     只有点击元素自身才能触发事件    <span class="token punctuation">.</span>once     事件只触发一次 按键修饰符：    <span class="token punctuation">.</span>tab    <span class="token punctuation">.</span>enter    <span class="token punctuation">.</span>esc    <span class="token punctuation">.</span>space    <span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>捕获<span class="token string">"删除"</span>和<span class="token string">"空格"</span>键<span class="token punctuation">)</span>    <span class="token punctuation">.</span>up    <span class="token punctuation">.</span>down    <span class="token punctuation">.</span>left    <span class="token punctuation">.</span>right</code></pre><h2 id="v-model-修饰符有哪些"><a href="#v-model-修饰符有哪些" class="headerlink" title="v-model 修饰符有哪些"></a>v-model 修饰符有哪些</h2><pre class=" language-js"><code class="language-js"><span class="token punctuation">.</span>trim   去除首尾空格    <span class="token punctuation">.</span>lazy   只在输入框失去焦点或按回车键时更新内容，不是实时更新    <span class="token punctuation">.</span>number <span class="token function">将数据转换成number类型</span><span class="token punctuation">(</span>原本是字符串类型<span class="token punctuation">)</span></code></pre><h2 id="v-for-中为什么要加-key，原理是什么"><a href="#v-for-中为什么要加-key，原理是什么" class="headerlink" title="v-for 中为什么要加 key，原理是什么"></a>v-for 中为什么要加 key，原理是什么</h2><pre class=" language-js"><code class="language-js">作用：      <span class="token number">1</span><span class="token punctuation">.</span>key的作用主要是为了高效的更新虚拟DOM，提高渲染性能。      <span class="token number">2</span><span class="token punctuation">.</span>key属性可以避免数据混乱的情况出现。 原理：      <span class="token number">1</span><span class="token punctuation">.</span>vue实现了一套虚拟DOM，使我们可以不直接操作DOM元素只操作数据，就可以重新渲染页面，而隐藏在背后的原理是高效的Diff算法      <span class="token number">2</span><span class="token punctuation">.</span>当页面数据发生变化时，Diff算法只会比较同一层级的节点；      <span class="token number">3</span><span class="token punctuation">.</span>如果节点类型不同，直接干掉前面的节点，再创建并插入新的节点，不会再比较这个节点后面的子节点；        如果节点类型相同，则会重新设置该节点属性，从而实现节点更新      <span class="token number">4</span><span class="token punctuation">.</span>使用key给每个节点做一个唯一标识，Diff算法就可以正确失败此节点，<span class="token string">"就地更新"</span>找到正确的位置插入新的节点。</code></pre><h2 id="v-for-和-v-if-的优先级"><a href="#v-for-和-v-if-的优先级" class="headerlink" title="v-for 和 v-if 的优先级"></a>v-for 和 v-if 的优先级</h2><pre class=" language-js"><code class="language-js"> v<span class="token operator">-</span><span class="token keyword">for</span>优先级高于v<span class="token operator">-</span><span class="token keyword">if</span>    如果同时出现v<span class="token operator">-</span><span class="token keyword">for</span>和v<span class="token operator">-</span><span class="token keyword">if</span>，无论判断条件是否成立，都会执行一遍v<span class="token operator">-</span><span class="token keyword">for</span>循环，这样浪费性能，所以要尽可能的避免两者一起使用。</code></pre><h2 id="插槽（solt）"><a href="#插槽（solt）" class="headerlink" title="插槽（solt）"></a>插槽（solt）</h2><pre><code>1、什么是插槽    1.1 插槽（Slot）是Vue提出来的一个概念，插槽用于决定将所携带的内容，插入到指定的某个位置，从而使模板分块，具有模块化的特质和更大的重用性。    1.2 插槽显不显示、怎样显示是由父组件来控制的，而插槽在哪里显示就由子组件来进行控制2、插槽使用    2.1 默认插槽  在子组件中写入slot，slot所在的位置就是父组件要显示的内容    2.2 具名插槽  在子组件中定义了三个slot标签，其中有两个分别添加了name属性header和footer                 在父组件中使用template并写入对应的slot名字来指定该内容在子组件中现实的位置    2.3 作用域插槽  在子组件的slot标签上绑定需要的值    &lt;slot :data="user"&gt;&lt;/slot&gt;在父组件上使用slot-scope=“user”来接收子组件传过来的值</code></pre><h2 id="组件中的-data-为什么是函数-new-Vue-实例里，data-可以直接是一个对象"><a href="#组件中的-data-为什么是函数-new-Vue-实例里，data-可以直接是一个对象" class="headerlink" title="组件中的 data 为什么是函数,new Vue 实例里，data 可以直接是一个对象"></a>组件中的 data 为什么是函数,new Vue 实例里，data 可以直接是一个对象</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、组件是用来复用的，组件中的data写成一个函数<span class="token punctuation">,</span>数据以函数返回值形式定义<span class="token punctuation">,</span>函数有独立的作用域，这样每复用一次组件<span class="token punctuation">,</span>就会返回一份新的data<span class="token punctuation">,</span>类似于给每个组件实例创建一个私有的数据空间<span class="token punctuation">,</span>让各个组件实例维护各自的数据。<span class="token number">2</span>、而单纯的写成对象形式<span class="token punctuation">,</span>由于对象是引用类型，就使得所有组件实例共用了一份data<span class="token punctuation">,</span>就会造成一个变了全都会变的结果。<span class="token number">3</span>、因为<span class="token keyword">new</span> <span class="token class-name">vue</span>里面的代码是不存在复用的情况，所以可以写成对象形式</code></pre><h2 id="vue-中怎么给-data-动态添加数据，为什么要这样写"><a href="#vue-中怎么给-data-动态添加数据，为什么要这样写" class="headerlink" title="vue 中怎么给 data 动态添加数据，为什么要这样写"></a>vue 中怎么给 data 动态添加数据，为什么要这样写</h2><pre><code>答: 1.官方文档定义：如果在vue实例创建之后添加新的属性到实例上，她不会触发视图更新。    2.原因：受现代JavaScript的限制，vue不能检测到对象属性的添加或删除。由于vue会在初始化实例是对属性执行getter/setter转换过程（使用Object.defineProperty进行数据的劫持）。所以属性必须在data对象上存在才能让vue转换它，这样才能让它是响应的。    方法：1.this.$set(对象名，属性，值)或 Vue.set(对象名，属性，值)          2.Object.assign(target,source)添加多个属性          例如：            const target = {a:1, b:2}            const source = {b:4, d:5}            const returnedTarget = Object.assign(target,source)            console.log(returnedTarget); //{ a: 1, b: 4, c: 5 }</code></pre><h2 id="computed-和-watch-的区别是什么"><a href="#computed-和-watch-的区别是什么" class="headerlink" title="computed 和 watch 的区别是什么"></a>computed 和 watch 的区别是什么</h2><pre class=" language-js"><code class="language-js">计算属性computed：<span class="token number">1</span>、支持缓存，只有依赖数据发生改变，才会重新进行计算<span class="token number">2</span>、不支持异步，当computed内有异步操作时无效，无法监听数据的变化<span class="token number">3</span>、如果computed需要对数据修改，需要写<span class="token keyword">get</span>和<span class="token keyword">set</span>两个方法，当数据变化时，调用<span class="token keyword">set</span>方法。<span class="token number">4</span>、computed擅长处理的场景：一个数据受多个数据影响，例如购物车计算总价侦听属性watch：<span class="token number">1</span>、不支持缓存，数据变，直接会触发相应的操作；<span class="token number">2</span>、watch支持异步；监听的函数接收两个参数，第一个参数是最新的值；第二个参数是输入之前的值；<span class="token number">3</span>、immediate：组件加载立即触发回调函数执行<span class="token number">4</span>、deep<span class="token punctuation">:</span><span class="token boolean">true</span>的意思就是深入监听，任何修改obj里面任何一个属性都会触发这个监听器里的 handler方法来处理逻辑<span class="token number">5</span>、watch擅长处理的场景：一个数据影响多个数据，例如搜索框</code></pre><h2 id="组件化和模块化的区别"><a href="#组件化和模块化的区别" class="headerlink" title="组件化和模块化的区别"></a>组件化和模块化的区别</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、组件相当于库，把一些能在项目里或者不同类型项目中可复用的代码进行工具性的封装。<span class="token number">2</span>、模块相应于业务逻辑模块，把同一类型项目里的功能逻辑进行进行需求性的封装。</code></pre><h2 id="怎么理解-vue-中的虚拟-DOM"><a href="#怎么理解-vue-中的虚拟-DOM" class="headerlink" title="怎么理解 vue 中的虚拟 DOM"></a>怎么理解 vue 中的虚拟 DOM</h2><pre class=" language-js"><code class="language-js">原理：    用 JavaScript 对象模拟真实 DOM 树，对真实 DOM 进行抽象；diff 算法 — 比较两棵虚拟 DOM 树的差异；pach 算法 — 将两个虚拟 DOM 对象的差异应用到真正的 DOM 树。好处：    <span class="token number">1</span>、性能优化    <span class="token number">2</span>、无需手动操作DOM    <span class="token number">3</span>、可以跨平台，服务端渲染等</code></pre><h2 id="怎么理解-vue-的生命周期"><a href="#怎么理解-vue-的生命周期" class="headerlink" title="怎么理解 vue 的生命周期"></a>怎么理解 vue 的生命周期</h2><pre class=" language-js"><code class="language-js"> vue的生命周期：vue实例从创建到销毁的全过程，这个过程可以分为<span class="token number">3</span>个阶段    第一阶段：初始化阶段   创建vue实例<span class="token punctuation">,</span>准备数据<span class="token punctuation">,</span>准备模板<span class="token punctuation">,</span>渲染视图    第二阶段：数据更新阶段 当数据变化时，会进行新旧DOM的对比，对比出差异的部分，进行差异化更新。    第三阶段：实例销毁阶段 当vm<span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>被调用，vue实例就会被销毁，释放相关资源，此时再更新数据，视图不会再变化。</code></pre><h2 id="vue-钩子函数有哪些，有哪些使用的场景"><a href="#vue-钩子函数有哪些，有哪些使用的场景" class="headerlink" title="vue 钩子函数有哪些，有哪些使用的场景"></a>vue 钩子函数有哪些，有哪些使用的场景</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、各阶段包含钩子： beforeCreate  在data数据注入到vm实例之前，此时vm身上没有数据    created       在data数据注入到vm实例之前，此时vm身上有数据    beforeMount   生成的结构替换视图之前，此时DOM还没更新    mounted       生成的结构替换视图之前，此时DOM已经更新完成    beforeUpdate  数据变化了，dom更新之前    updated       数据变化了，dom更新之后        activated     被keep<span class="token operator">-</span>alive缓存的组件激活时调用    deactivated   被keep<span class="token operator">-</span>alive缓存的组件停用时调用    beforeDestroy 实例销毁，是否资源之前    destroyed     实例销毁，是否资源之后    这些钩子函数会在vue的生命周期的不同阶段，自动被vue调用<span class="token number">2</span>、常用的钩子函数使用场景：    beforeCreate  做loading的一些渲染    created       结束loading， 发送数据的请求，拿数据    mounted       可以对dom进行操作    updated       监视数据的更新    beforeDestroy 销毁非vue资源，防止内存泄漏，例如清除定时器    activated     当我们运用了组件缓存时，如果想每次切换都发送一次请求的话，需要把请求函数写在activated中，而写在created或mounted中其只会在首次加载该组件的时候起作用。</code></pre><h2 id="Vue-的父组件和子组件生命周期钩子函数执行顺序"><a href="#Vue-的父组件和子组件生命周期钩子函数执行顺序" class="headerlink" title="Vue 的父组件和子组件生命周期钩子函数执行顺序"></a>Vue 的父组件和子组件生命周期钩子函数执行顺序</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、Vue 的父组件和子组件生命周期钩子函数执行顺序可以归类为以下 <span class="token number">4</span> 部分：  <span class="token number">1</span>）加载渲染过程     父 beforeCreate <span class="token operator">-</span><span class="token operator">></span> 父 created <span class="token operator">-</span><span class="token operator">></span> 父 beforeMount <span class="token operator">-</span><span class="token operator">></span> 子 beforeCreate <span class="token operator">-</span><span class="token operator">></span> 子 created <span class="token operator">-</span><span class="token operator">></span> 子 beforeMount <span class="token operator">-</span><span class="token operator">></span> 子 mounted <span class="token operator">-</span><span class="token operator">></span> 父 mounted  <span class="token number">2</span>）子组件更新过程     父 beforeUpdate <span class="token operator">-</span><span class="token operator">></span> 子 beforeUpdate <span class="token operator">-</span><span class="token operator">></span> 子 updated <span class="token operator">-</span><span class="token operator">></span> 父 updated  <span class="token number">3</span>）父组件更新过程     父 beforeUpdate <span class="token operator">-</span><span class="token operator">></span> 父 updated  <span class="token number">4</span>）销毁过程  父 beforeDestroy <span class="token operator">-</span><span class="token operator">></span> 子 beforeDestroy <span class="token operator">-</span><span class="token operator">></span> 子 destroyed <span class="token operator">-</span><span class="token operator">></span> 父 destroyed</code></pre><h2 id="vue-组件传值的方式"><a href="#vue-组件传值的方式" class="headerlink" title="vue 组件传值的方式"></a>vue 组件传值的方式</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、父传子    通过props传递    父组件： <span class="token operator">&lt;</span>child <span class="token punctuation">:</span>list <span class="token operator">=</span> <span class="token string">'list'</span> <span class="token operator">/</span><span class="token operator">></span>    子组件<span class="token punctuation">:</span> props<span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>接收数据<span class="token punctuation">,</span>接受之后使用和data中定义数据使用方式一样<span class="token number">2</span>、子传父    <span class="token function">在父组件中给子组件绑定一个自定义的事件，子组件通过$emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>触发该事件并传值。    父组件： <span class="token operator">&lt;</span>child @receive <span class="token operator">=</span> <span class="token string">'getData'</span> <span class="token operator">/</span><span class="token operator">></span>            <span class="token function">getData</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>value就是接收的值<span class="token punctuation">}</span>    子组件<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'receive'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token number">3</span>、兄弟组件传值    通过中央通信 <span class="token keyword">let</span> bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    A组件：methods <span class="token punctuation">:</span><span class="token punctuation">{</span>            <span class="token function">sendData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                bus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'getData'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>              <span class="token punctuation">}</span> 发送    <span class="token function">B组件：created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span>‘getData’<span class="token punctuation">,</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>value就是接收的数据<span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span> 进行数据接收</code></pre><h2 id="nextTick-是什么？原理是什么？使用的场景"><a href="#nextTick-是什么？原理是什么？使用的场景" class="headerlink" title="$nextTick 是什么？原理是什么？使用的场景"></a>$nextTick 是什么？原理是什么？使用的场景</h2><pre class=" language-js"><code class="language-js">背景：    <span class="token number">1</span>、简单来说，Vue 在修改数据后，视图不会立刻更新，而是等同一事件循环中的所有数据变化完成之后，再统一进行视图更新。定义：    <span class="token number">2</span>、在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 <span class="token function">DOM。nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>，是将回调函数延迟在下一次dom更新数据后调用，简单的理解是：当数据更新了，在dom中渲染后，自动执行该函数。原理    <span class="token number">3</span>、vue用异步队列的方式来控制DOM更新和nextTick回调先后执行。    简单来说，nextTick是做了promise加上setTimeout的封装<span class="token punctuation">,</span>利用事件换行机制，来确保当nextTick出现时，都是在我们所有操作DOM更新之后的。场景：    <span class="token number">4.1</span> 点击获取元素宽度    <span class="token number">4.2</span> 使用swiper插件通过 ajax 请求图片后的滑动问题    <span class="token number">4.3</span> 点击按钮显示原本以 v<span class="token operator">-</span>show <span class="token operator">=</span> <span class="token boolean">false</span> 隐藏起来的输入框，并获取焦点</code></pre><h2 id="vue-是如何获取-DOM"><a href="#vue-是如何获取-DOM" class="headerlink" title="vue 是如何获取 DOM"></a>vue 是如何获取 DOM</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、先给标签设置一个ref值，再通过<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>domName获取，这个操作要在mounted阶段进行。<span class="token number">2</span>、例如：<span class="token operator">&lt;</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">const</span> dom <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>test <span class="token punctuation">}</span></code></pre><h2 id="v-on-可以监听多个方法吗"><a href="#v-on-可以监听多个方法吗" class="headerlink" title="v-on 可以监听多个方法吗"></a>v-on 可以监听多个方法吗</h2><pre class=" language-js"><code class="language-js">可以例如：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"{ input:onInput,focus:onFocus }"</span><span class="token operator">></span></code></pre><h2 id="谈谈你对-keep-alive-的了解"><a href="#谈谈你对-keep-alive-的了解" class="headerlink" title="谈谈你对 keep-alive 的了解"></a>谈谈你对 keep-alive 的了解</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、keep<span class="token operator">-</span>alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，避免重新渲染<span class="token number">2</span>、一般结合路由和动态组件一起使用，用于缓存组件<span class="token number">3</span>、对应两个钩子函数 activated 和 deactivated ，当组件被激活时，触发钩子函数 activated，当组件被移除时，触发钩子函数 deactivated4、提供 include 和 exclude 属性，两者都支持字符串或正则表达式， include 表示只有名称匹配的组件会被缓存，exclude 表示任何名称匹配的组件都不会被缓存 ，其中 exclude 的优先级比 include 高；例如：<span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive include<span class="token operator">=</span><span class="token string">"a"</span><span class="token operator">></span> <span class="token operator">&lt;</span>component<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> name 为 a 的组件将被缓存！ <span class="token operator">--</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">></span><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive exclude<span class="token operator">=</span><span class="token string">"a"</span><span class="token operator">></span> <span class="token operator">&lt;</span>component<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 除了 name 为 a 的组件都将被缓存！ <span class="token operator">--</span><span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">></span></code></pre><h2 id="谈谈你对-slot-的了解"><a href="#谈谈你对-slot-的了解" class="headerlink" title="谈谈你对 slot 的了解"></a>谈谈你对 slot 的了解</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、什么是插槽    <span class="token number">1.1</span> 插槽（Slot）是Vue提出来的一个概念，正如名字一样，插槽用于决定将所携带的内容，插入到指定的某个位置，从而使模板分块，具有模块化的特质和更大的重用性。    <span class="token number">1.2</span> 插槽显不显示、怎样显示是由父组件来控制的，而插槽在哪里显示就由子组件来进行控制    <span class="token number">2</span>、插槽使用    <span class="token number">2.1</span> 默认插槽  在子组件中写入slot，slot所在的位置就是父组件要显示的内容    <span class="token number">2.2</span> 具名插槽  在子组件中定义了三个slot标签，其中有两个分别添加了name属性header和footer                 在父组件中使用template并写入对应的slot名字来指定该内容在子组件中现实的位置    <span class="token number">2.3</span> 作用域插槽  在子组件的slot标签上绑定需要的值<span class="token operator">&lt;</span>slot <span class="token punctuation">:</span>data<span class="token operator">=</span><span class="token string">"user"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">></span>                  在父组件上使用slot<span class="token operator">-</span>scope<span class="token operator">=</span>“user”来接收子组件传过来的值</code></pre><h2 id="vue-中动态组件如何使用"><a href="#vue-中动态组件如何使用" class="headerlink" title="vue 中动态组件如何使用"></a>vue 中动态组件如何使用</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、在某个中使用 is 特性来切换不同的组件：    <span class="token operator">&lt;</span>component <span class="token punctuation">:</span>is<span class="token operator">=</span><span class="token string">"TabComponent"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">></span>   TabComponent<span class="token punctuation">:</span>已注册组件的名字</code></pre><h2 id="v-model-的原理是什么"><a href="#v-model-的原理是什么" class="headerlink" title="v-model 的原理是什么"></a>v-model 的原理是什么</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、v<span class="token operator">-</span>model主要提供了两个功能，view层输入值影响data的属性值，属性值发生改变会更新层的数值变化<span class="token punctuation">.</span><span class="token number">2</span>、v<span class="token operator">-</span>model指令的实现：    <span class="token number">3.1</span> v<span class="token operator">-</span>bind<span class="token punctuation">:</span>绑定响应式数据    <span class="token number">3.2</span> 触发input事件并传递数据 <span class="token punctuation">(</span>核心和重点<span class="token punctuation">)</span><span class="token number">3</span><span class="token function">、其底层原理就是</span><span class="token punctuation">(</span>双向数据绑定原理<span class="token punctuation">)</span>：    <span class="token number">3.1</span> 一方面modal层通过defineProperty来劫持每个属性，一旦监听到变化通过相关的页面元素更新。    <span class="token number">3.2</span> 另一方面通过编译模板文件，为控件的v<span class="token operator">-</span>model绑定input事件，从而页面输入能实时更新相关data属性值。</code></pre><h2 id="vue-响应式的原理"><a href="#vue-响应式的原理" class="headerlink" title="vue 响应式的原理"></a>vue 响应式的原理</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、原理：    Vue 的响应式原理是核心是通过 ES5 的 Object<span class="token punctuation">.</span>defindeProperty 进行数据劫持，然后利用 <span class="token keyword">get</span> 和 <span class="token keyword">set</span> 方法进行获取和设置，data 中声明的属性都被添加到了<span class="token keyword">get</span>和<span class="token keyword">set</span>中，当读取 data 中的数据时自动调用 <span class="token keyword">get</span> 方法，当修改 data 中的数据时，自动调用 <span class="token keyword">set</span> 方法，检测到数据的变化，会通知观察者 Wacher，观察者 Wacher自动触发重新render 当前组件（子组件不会重新渲染）<span class="token punctuation">,</span>生成新的虚拟 DOM 树，Vue 框架会遍历并对比新虚拟 DOM 树和旧虚拟 DOM 树中每个节点的差别，并记录下来，最后，加载操作，将所有记录的不同点，局部修改到真实 DOM 树上。<span class="token number">2</span>、底层代码实现：       <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>        name<span class="token punctuation">:</span> <span class="token string">"lis"</span><span class="token punctuation">,</span>        age<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>        sex<span class="token punctuation">:</span> <span class="token string">"男"</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//  vue2.0实现  使用Object.defineProperty进行数据劫持</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">let</span> temp <span class="token operator">=</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>            <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span> temp            <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>                temp <span class="token operator">=</span> value            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">// vue3.0实现 使用Proxy 进行数据的代理</span>    <span class="token keyword">let</span> newData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>        <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>            target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="vue2-0-和-vue3-0-响应式的区别"><a href="#vue2-0-和-vue3-0-响应式的区别" class="headerlink" title="vue2.0 和 vue3.0 响应式的区别"></a>vue2.0 和 vue3.0 响应式的区别</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、Object<span class="token punctuation">.</span>defineProperty  <span class="token number">1</span><span class="token punctuation">)</span> 用于监听对象的数据变化  <span class="token number">2</span><span class="token punctuation">)</span> <span class="token function">无法监听数组变化</span><span class="token punctuation">(</span>下标，长度<span class="token punctuation">)</span>  <span class="token number">3</span><span class="token punctuation">)</span> 只能劫持对象的自身属性，动态添加的劫持不到<span class="token number">2</span>、Proxy  <span class="token number">1</span><span class="token punctuation">)</span> proxy返回的是一个新对象， 可以通过操作返回的新的对象达到目的  <span class="token number">2</span>）可以监听到数组变化，也可以监听到动态添加的数据</code></pre><h2 id="router-和-route-的区别"><a href="#router-和-route-的区别" class="headerlink" title="router 和 route 的区别"></a>router 和 route 的区别</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、$router对象    <span class="token number">1</span>）$router对象是全局路由的实例，是router构造方法的实例    <span class="token number">2</span><span class="token function">）$router对象上的方法有：push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、go</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span>、$route对象    <span class="token number">1</span>）$route对象表示当前的路由信息，包含了当前 URL 解析得到的信息。包含当前的路径，参数，query对象等    <span class="token number">2</span>）$route对象上的属性有：path、params、query、hash等等</code></pre><h2 id="路由传参的方式和区别"><a href="#路由传参的方式和区别" class="headerlink" title="路由传参的方式和区别"></a>路由传参的方式和区别</h2><pre class=" language-js"><code class="language-js">答<span class="token punctuation">:</span> <span class="token number">1</span>、方式：params 和 query2、区别：<span class="token number">1</span>）params用的是name，传递的参数在地址栏不会显示，类似于post        <span class="token number">2</span>）query用的是path<span class="token punctuation">,</span>传递的参数会在地址栏显示出来，类似于<span class="token keyword">get</span>      <span class="token number">3</span>、举例说明：   <span class="token number">1</span>）params 传参    传： <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          name<span class="token punctuation">:</span> <span class="token string">'particulars'</span><span class="token punctuation">,</span>          params<span class="token punctuation">:</span> <span class="token punctuation">{</span>            id<span class="token punctuation">:</span> id          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>     接：<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id        <span class="token number">2</span>）query传参     传：<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          path<span class="token punctuation">:</span> <span class="token string">'/particulars'</span><span class="token punctuation">,</span>          query<span class="token punctuation">:</span> <span class="token punctuation">{</span>            id<span class="token punctuation">:</span> id          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>      接：<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id</code></pre><h2 id="Vue-模版编译原理知道吗，能简单说一下吗"><a href="#Vue-模版编译原理知道吗，能简单说一下吗" class="headerlink" title="Vue 模版编译原理知道吗，能简单说一下吗"></a>Vue 模版编译原理知道吗，能简单说一下吗</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token function">、简单说，Vue的编译过程就是将template转化为render函数的过程。2、首先解析模版，生成AST语法树</span><span class="token punctuation">(</span>一种用JavaScript对象的形式来描述整个模板<span class="token punctuation">)</span>。 <span class="token function">使用大量的正则表达式对模板进行解析，遇到标签、文本的时候都会执行对应的钩子进行相关处理。3、Vue的数据是响应式的，但其实模板中并不是所有的数据都是响应式的。有一些数据首次渲染后就不会再变化，对应的DOM也不会变化。那么优化过程就是深度遍历AST树，按照相关条件对树节点进行标记。这些被标记的节点</span><span class="token punctuation">(</span>静态节点<span class="token punctuation">)</span>我们就可以跳过对它们的比对，对运行时的模板起到很大的优化作用。<span class="token number">4</span>、编译的最后一步是将优化后的AST树转换为可执行的代码。</code></pre><h2 id="SSR-了解吗"><a href="#SSR-了解吗" class="headerlink" title="SSR 了解吗"></a>SSR 了解吗</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、SSR也就是服务端渲染，也就是将Vue在客户端把标签渲染成HTML的工作放在服务端完成，然后再把html直接返回给客户端。<span class="token number">2</span>、SSR有着更好的SEO、并且首屏加载速度更快等优点。不过它也有一些缺点，比如我们的开发条件会受到限制，服务器端渲染只支持beforeCreate和created两个钩子，当我们需要一些外部扩展库时需要特殊处理，服务端渲染应用程序也需要处于Node<span class="token punctuation">.</span>js的运行环境。还有就是服务器的压力比较大。</code></pre><h2 id="你都做过哪些-Vue-的性能优化"><a href="#你都做过哪些-Vue-的性能优化" class="headerlink" title="你都做过哪些 Vue 的性能优化"></a>你都做过哪些 Vue 的性能优化</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、v<span class="token operator">-</span><span class="token keyword">if</span>和v<span class="token operator">-</span><span class="token keyword">for</span>不能连用<span class="token number">2</span>、页面采用keep<span class="token operator">-</span>alive缓存组件<span class="token number">3</span>、合理使用v<span class="token operator">-</span><span class="token keyword">if</span>和v<span class="token operator">-</span>show4、key保证唯一<span class="token number">5</span>、使用路由懒加载、异步组件、组件封装<span class="token number">6</span>、防抖、节流<span class="token number">7</span>、第三方模块按需导入<span class="token number">8</span>、图片懒加载<span class="token number">9</span>、精灵图的使用<span class="token number">10</span>、代码压缩</code></pre><h2 id="Vue-router-路由有哪些模式"><a href="#Vue-router-路由有哪些模式" class="headerlink" title="Vue-router 路由有哪些模式"></a>Vue-router 路由有哪些模式</h2><pre class=" language-js"><code class="language-js">一般有两种模式：<span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">1</span>、hash 模式：后面的 hash 值的变化，浏览器既不会向服务器发出请求，浏览器也不会刷新，每次 hash 值的变化会触发 hashchange 事件。<span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span><span class="token number">2</span>、history 模式：利用了 HTML5 中新增的 <span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 <span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法。这两个方法应用于浏览器的历史记录栈，在当前已有的 back、forward、go 的基础之上，它们提供了对历史记录进行修改的功能。只是当它们执行修改时，虽然改变了当前的 URL，但浏览器不会立即向后端发送请求。</code></pre><h2 id="Vuex-是什么？有哪几种属性？"><a href="#Vuex-是什么？有哪几种属性？" class="headerlink" title="Vuex 是什么？有哪几种属性？"></a>Vuex 是什么？有哪几种属性？</h2><pre class=" language-js"><code class="language-js">  <span class="token number">1</span>、Vuex 是专为Vue设计的状态管理工具，采用集中式储存管理 Vue 中所有组件的状态。  <span class="token number">2</span>、属性  （<span class="token number">1</span>）state属性：基本数据  （<span class="token number">2</span>）getters属性：从 state 中派生出的数据  （<span class="token number">3</span>）mutation属性：更新 store 中数据的唯一途径，其接收一个以 state 为第一参数的回调函数  （<span class="token number">4</span>）action 属性：提交 mutation 以更改 state，其中可以包含异步操作，数据请求  （<span class="token number">5</span>）module 属性：用于将 store分割成不同的模块。</code></pre><h2 id="axios-封装请求拦截器和响应拦截器"><a href="#axios-封装请求拦截器和响应拦截器" class="headerlink" title="axios 封装请求拦截器和响应拦截器"></a>axios 封装请求拦截器和响应拦截器</h2><pre class=" language-js"><code class="language-js">interceptors：【ɪntərˈsɛptərz】<span class="token number">1</span>、项目中会在utils文件中，封装一个request<span class="token punctuation">.</span>js文件<span class="token number">2</span>、通过axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>配置baseURL，并得到一个request实例<span class="token number">3</span>、通过request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span>use来配置请求拦截<span class="token number">4</span>、通过request<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span>use来配置响应拦截</code></pre><h2 id="webpack-在项目中的常见配置"><a href="#webpack-在项目中的常见配置" class="headerlink" title="webpack 在项目中的常见配置"></a>webpack 在项目中的常见配置</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、 配置兼容编译ES6转成ES5    用babel来编译，npm i babel<span class="token operator">-</span>core babel<span class="token operator">-</span>loader babel<span class="token operator">-</span>preset<span class="token operator">-</span>env babel<span class="token operator">-</span>polyfill babel<span class="token operator">-</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span>runtime <span class="token operator">--</span>save<span class="token operator">-</span>dev<span class="token number">2</span>、配置跨域代理服务    用proxy进行代理，在devServer里面配置，proxy<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token string">'/api'</span><span class="token punctuation">:</span><span class="token punctuation">{</span>target<span class="token punctuation">:</span>代理的地址<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token number">3</span>、配置打包路径    publicPath<span class="token punctuation">:</span><span class="token string">'/'</span><span class="token number">4</span>、配置打包出去文件    outputDir<span class="token punctuation">:</span> <span class="token string">'dist'</span><span class="token number">5</span>、配置执行环境变量    启动的端口  <span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>port <span class="token operator">||</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_config_port <span class="token operator">||</span> <span class="token number">9528</span></code></pre><h2 id="vue-怎么实现强制刷新组件"><a href="#vue-怎么实现强制刷新组件" class="headerlink" title="vue 怎么实现强制刷新组件"></a>vue 怎么实现强制刷新组件</h2><pre class=" language-js"><code class="language-js">第一<span class="token punctuation">.</span>使用<span class="token keyword">this</span><span class="token punctuation">.</span>$forceUpdate强制重新渲染    <span class="token operator">&lt;</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"reload()"</span><span class="token operator">></span>刷新当前组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>        name<span class="token punctuation">:</span> <span class="token string">'comp'</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>第二<span class="token punctuation">.</span>使用v<span class="token operator">-</span><span class="token keyword">if</span>指令<span class="token operator">&lt;</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>comp v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"update"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>comp<span class="token operator">></span>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"reload()"</span><span class="token operator">></span>刷新comp组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">import</span> comp <span class="token keyword">from</span> <span class="token string">'@/views/comp.vue'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">'parentComp'</span><span class="token punctuation">,</span>    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>            update<span class="token punctuation">:</span> <span class="token boolean">true</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// 移除组件            this.update = false            // 在组件移除后，重新渲染组件            // this.$nextTick可实现在DOM 状态更新后，执行传入的方法。            this.$nextTick(() => {                this.update = true            })        }    }}&lt;/script></span></code></pre><h2 id="在使用计算属性的时-函数名和-data-数据源中的数据可以同名吗"><a href="#在使用计算属性的时-函数名和-data-数据源中的数据可以同名吗" class="headerlink" title="在使用计算属性的时,函数名和 data 数据源中的数据可以同名吗?"></a>在使用计算属性的时,函数名和 data 数据源中的数据可以同名吗?</h2><pre class=" language-js"><code class="language-js">不可以    在初始化vm的过程，因为不管是计算属性还是data还是props 都会被挂载在vm实例上，会把data覆盖了<span class="token punctuation">,</span>因此 这三个都不能同名</code></pre><h2 id="vue-中-data-的属性可以和-methods-中的方法同名吗"><a href="#vue-中-data-的属性可以和-methods-中的方法同名吗" class="headerlink" title="vue 中 data 的属性可以和 methods 中的方法同名吗?"></a>vue 中 data 的属性可以和 methods 中的方法同名吗?</h2><pre class=" language-js"><code class="language-js">不可以    vue源码中的 <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法会取出 methods 中的方法进行判断，如果有重复的就会报错</code></pre><h2 id="你知道-style-加-scoped-属性的用途和原理吗"><a href="#你知道-style-加-scoped-属性的用途和原理吗" class="headerlink" title="你知道 style 加 scoped 属性的用途和原理吗"></a>你知道 style 加 scoped 属性的用途和原理吗</h2><pre class=" language-js"><code class="language-js">用途：防止全局同名CSS污染原理：在标签加上v<span class="token operator">-</span>data<span class="token operator">-</span>something属性，再在选择器时加上对应<span class="token punctuation">[</span>v<span class="token operator">-</span>data<span class="token operator">-</span>something<span class="token punctuation">]</span>，即CSS带属性选择器，以此完成类似作用域的选择方式<span class="token punctuation">.</span>    scoped会在元素上添加唯一的属性（data<span class="token operator">-</span>v<span class="token operator">-</span>x形式），css编译后也会加上属性选择器，从而达到限制作用域的目的。</code></pre><h2 id="如何在子组件中访问父组件的实例"><a href="#如何在子组件中访问父组件的实例" class="headerlink" title="如何在子组件中访问父组件的实例"></a>如何在子组件中访问父组件的实例</h2><pre class=" language-js"><code class="language-js">Vue中子组件调用父组件的方法，这里有三种方法提供参考：    <span class="token number">1</span>：直接在子组件中通过<span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">.</span>event来调用父组件的方法    <span class="token number">2</span>：在子组件里用$emit向父组件触发一个事件，父组件监听这个事件    <span class="token number">3</span>：父组件把方法传入子组件中，在子组件里直接调用这个方法</code></pre><h2 id="watch-的属性用箭头函数定义结果会怎么样"><a href="#watch-的属性用箭头函数定义结果会怎么样" class="headerlink" title="watch 的属性用箭头函数定义结果会怎么样"></a>watch 的属性用箭头函数定义结果会怎么样</h2><pre class=" language-js"><code class="language-js">不应该使用箭头函数来定义 watch <span class="token punctuation">:</span>例如：    watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>      a<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//  这里不应该用箭头函数</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>。理由是箭头函数绑定了父级作用域的上下文，所以 <span class="token keyword">this</span> 将不会按照期望指向 Vue 实例，<span class="token keyword">this</span><span class="token punctuation">.</span>a 将是 undefined。注意：methods里面定义的方法也不要用箭头函数</code></pre><h2 id="怎么解决-vue-打包后静态资源图片失效的问题"><a href="#怎么解决-vue-打包后静态资源图片失效的问题" class="headerlink" title="怎么解决 vue 打包后静态资源图片失效的问题"></a>怎么解决 vue 打包后静态资源图片失效的问题</h2><pre class=" language-js"><code class="language-js">在vue<span class="token operator">-</span>cli 需要在根目录下建一个vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js 在里面配置publicPath即可默认值为<span class="token operator">/</span>，更改为<span class="token punctuation">.</span><span class="token operator">/</span>就好了</code></pre><h2 id="怎么解决-vue-动态设置-img-的-src-不生效的问题"><a href="#怎么解决-vue-动态设置-img-的-src-不生效的问题" class="headerlink" title="怎么解决 vue 动态设置 img 的 src 不生效的问题"></a>怎么解决 vue 动态设置 img 的 src 不生效的问题</h2><pre class=" language-js"><code class="language-js">因为动态添加src被当做静态资源处理了，没有进行编译，所以要加上require。<span class="token operator">&lt;</span>img <span class="token punctuation">:</span>src<span class="token operator">=</span><span class="token string">"require('@/assets/images/xxx.png')"</span> <span class="token operator">/</span><span class="token operator">></span></code></pre><h2 id="EventBus-注册在全局上时，路由切换时会重复触发事件，如何解决呢"><a href="#EventBus-注册在全局上时，路由切换时会重复触发事件，如何解决呢" class="headerlink" title="EventBus 注册在全局上时，路由切换时会重复触发事件，如何解决呢"></a>EventBus 注册在全局上时，路由切换时会重复触发事件，如何解决呢</h2><pre class=" language-js"><code class="language-js">原因：因为我们的事件是全局的，它并不会随着组件的销毁而自动注销，需要我们手动调用注销方法来注销。解决：我们可以在组件的 beforeDestroy <span class="token punctuation">,</span>或 destroy 生命周期中执行注销方法，手动注销事件</code></pre><h2 id="你认为-vue-的核心是什么"><a href="#你认为-vue-的核心是什么" class="headerlink" title="你认为 vue 的核心是什么"></a>你认为 vue 的核心是什么</h2><pre class=" language-js"><code class="language-js">组件化<span class="token punctuation">;</span>双向数据绑定<span class="token punctuation">;</span></code></pre><h2 id="在-vue-文件中-style-是必须的吗？那-script-是必须的吗"><a href="#在-vue-文件中-style-是必须的吗？那-script-是必须的吗" class="headerlink" title="在.vue 文件中 style 是必须的吗？那 script 是必须的吗"></a>在.vue 文件中 style 是必须的吗？那 script 是必须的吗</h2><pre class=" language-js"><code class="language-js">在<span class="token punctuation">.</span>vue 文件中，template是必须的，而script与style都不是必须的。都没有的话那就是一个静态网页</code></pre><h2 id="说说-vue-的优缺点"><a href="#说说-vue-的优缺点" class="headerlink" title="说说 vue 的优缺点"></a>说说 vue 的优缺点</h2><pre class=" language-js"><code class="language-js">优点：    <span class="token number">1</span><span class="token punctuation">.</span>数据驱动    <span class="token number">2</span><span class="token punctuation">.</span>组件化    <span class="token number">3</span><span class="token punctuation">.</span>轻量级    <span class="token number">4</span><span class="token punctuation">.</span><span class="token function">SPA</span><span class="token punctuation">(</span>单页面<span class="token punctuation">)</span>    <span class="token number">5</span><span class="token punctuation">.</span>版本<span class="token number">3.0</span>的界面化管理工具比较好使    <span class="token number">6</span><span class="token punctuation">.</span>vue易入门    <span class="token number">7</span><span class="token punctuation">.</span>中文社区强大，入门简单，提升也有很多的参考资料。缺点：    <span class="token number">1</span><span class="token punctuation">.</span>不支持IE8及以下浏览器    <span class="token number">2</span><span class="token punctuation">.</span>吃内存（每个组件都会实例化一个Vue实例，实例的属性和方法很多）    <span class="token number">3</span><span class="token punctuation">.</span>定义在data里面的对象，实例化时，都会递归的遍历转成响应式数据，然而有的响应式数据我们并不会用到，造成性能上的浪费</code></pre><h2 id="库和框架的区别"><a href="#库和框架的区别" class="headerlink" title="库和框架的区别"></a>库和框架的区别</h2><pre><code>答: 库 本质上是一个函数的集合，每一次调用函数，实现一个特定的功能，使用库的时候，把库当成工具使用，需要自己控制代码的执行逻辑。    框架 是一套完整的解决方案，使用框架的时候，框架实现了大部分的功能，我们只需要按照框架的规则书写代码即可，使用框架开发比库开发效率更高，更容易维护。</code></pre><h2 id="MVC-和-MVVM-的区别"><a href="#MVC-和-MVVM-的区别" class="headerlink" title="MVC 和 MVVM 的区别"></a>MVC 和 MVVM 的区别</h2><pre><code>答: MVVM    M Model 模型 指的是数据层    V View  视图 指的是用户页面    VM ViewModel 视图模型    视图模型是MVVM模式的核心，它是连接view和model的桥梁，MVVM实现了view和model的自动同步，当model的属性改变时，我们不用自己手动操作DOM元素，来改变view的显示，反之亦然，我们称之为数据的双向绑定。    MVC    M Model 模型 指的是数据层    V View  视图 指的是用户页面    C controller 控制器 指的是页面业务逻辑    view传送指令到controller，controller完成业务逻辑后，要求model改变状态，model将新的数据发送给view，用户得到反馈。所有通信都是单向的。</code></pre><h2 id="自己实现一个-v-model-的效果"><a href="#自己实现一个-v-model-的效果" class="headerlink" title="自己实现一个 v-model 的效果"></a>自己实现一个 v-model 的效果</h2><pre><code>答:    &lt;input type="text"&gt;    &lt;script&gt;     // vue2.0    let data = {      msg: 'hello vue'    }    let input = document.querySelector('input')    input.value = data.msg    input.addEventListener('input', function () {      data.msg = this.value    })    let temp = data.msg    Object.defineProperty(data, 'msg', {      get() {        return temp      },      set(value) {        input.value = value        return (temp = value)      }    })    // vue3.0    let data = {      msg: 'hello vue'    }    let input = document.querySelector('input')    input.value = data.msg    input.addEventListener('input', function () {      obj.msg = this.value    })    const obj = new Proxy(data, {      get(target, key) {        return target[key]      },      set(target, key, value) {        target[key] = value        input.value = value      }    })   &lt;/script&gt;</code></pre><h2 id="Object-defineProperty-和-proxy-的区别"><a href="#Object-defineProperty-和-proxy-的区别" class="headerlink" title="Object.defineProperty 和 proxy 的区别"></a>Object.defineProperty 和 proxy 的区别</h2><pre><code>1、Object.defineProperty  用于监听对象的数据变化缺点：    1）无法监听数组变化    2）只能劫持对象的属性,属性值也是对象那么需要深度遍历2、proxy  可以理解为 在被劫持的对象之前 加了一层拦截   proxy返回的是一个新对象， 可以通过操作返回的新的对象达到目的总结：当使用 defineProperty 时，我们修改原来的 obj 对象就可以触发拦截而使用 proxy，就必须修改代理对象，即 Proxy 的实例才可以触发拦截</code></pre><h2 id="vue-loader-是做什么的"><a href="#vue-loader-是做什么的" class="headerlink" title="vue-loader 是做什么的"></a>vue-loader 是做什么的</h2><pre><code>答: 概念：vue-loader是基于webpack的一个loader，解析和转换.vue文件。提取出其中的逻辑代码script，样式代码style，以及HTML模板template，再分别把他们交给对应的loader去处理。    用途：js可以写es6、style样式可以是less或scss等</code></pre><h2 id="vue-中怎么操作-dom"><a href="#vue-中怎么操作-dom" class="headerlink" title="vue 中怎么操作 dom"></a>vue 中怎么操作 dom</h2><pre><code>答: 要在mounted中使用，在执行mounted的时候，vue已经渲染了dom节点，可以获取dom节点。    方法：      1）在标签中添加ref="name"      2）在方法中用this.$refs.name拿到这个元素，</code></pre><h2 id="导航钩子有几种（导航守卫）具体怎么用的"><a href="#导航钩子有几种（导航守卫）具体怎么用的" class="headerlink" title="导航钩子有几种（导航守卫）具体怎么用的"></a>导航钩子有几种（导航守卫）具体怎么用的</h2><pre><code>答: 分类：    1、全局守卫： router.beforeEach    2、全局解析守卫： router.beforeResolve    3、全局后置钩子： router.afterEach    4、路由独享的守卫： beforeEnter    5、组件内的守卫： beforeRouteEnter、beforeRouteUpdate (2.2 新增)、beforeRouteLeave    使用：    1、全局守卫： router.beforeEach       const router = new VueRouter({ ... })          router.beforeEach((to, from, next) =&gt; {          // ...        })    2、全局解析守卫： router.beforeResolve       可以用 router.beforeResolve 注册一个全局守卫。这和 router.beforeEach 类似，区别是：在导航被确认之前，同时在所有组件内守卫和异步路由组件被解析之后，解析守卫就被调用。    3、全局后置钩子： router.afterEach       router.afterEach((to, from) =&gt; {          // ...        })    4、路由独享的守卫： beforeEnter       const router = new VueRouter({          routes: [            {              path: '/foo',              component: Foo,              beforeEnter: (to, from, next) =&gt; {                // ...              }            }          ]        })    5、组件内的守卫： beforeRouteEnter、beforeRouteUpdate (2.2 新增)、beforeRouteLeave       const Foo = {          template: `...`,          beforeRouteEnter (to, from, next) {            // 在渲染该组件的对应路由被 confirm 前调用            // 不能获取组件实例 `this`            // 因为当守卫执行前，组件实例还没被创建          },          beforeRouteUpdate (to, from, next) {            // 在当前路由改变，但是该组件被复用时调用            // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，            // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。            // 可以访问组件实例 `this`          },          beforeRouteLeave (to, from, next) {            // 导航离开该组件的对应路由时调用            // 可以访问组件实例 `this`          }        }</code></pre><h2 id="什么是-promise，特点是什么"><a href="#什么是-promise，特点是什么" class="headerlink" title="什么是 promise，特点是什么"></a>什么是 promise，特点是什么</h2><pre><code>    首先，它是一个对象，也就是说与其他JavaScript对象的用法，没有什么两样；其次，它起到代理作用（proxy），充当异步操作与回调函数之间的中介。它使得异步操作具备同步操作的效果，使得程序具备正常的同步运行的流程，回调函数不必再一层层嵌套。    简单说，它的思想是，每一个异步任务立刻返回一个Promise对象，由于是立刻返回，所以可以采用同步操作的流程。这个Promises对象有一个then方法，允许指定回调函数，在异步任务完成后调用。 特点：    1、Promise对象只有三种状态。        异步操作“未完成”（pending）        异步操作“已完成”（resolved，又称fulfilled）        异步操作“失败”（rejected）        异步操作成功，Promise对象传回一个值，状态变为resolved。        异步操作失败，Promise对象抛出一个错误，状态变为rejected。    2、promise的回调是同步的，then是异步的    3、可以链式调用</code></pre><h2 id="promise-的方法有哪些，能说明其作用"><a href="#promise-的方法有哪些，能说明其作用" class="headerlink" title="promise 的方法有哪些，能说明其作用"></a>promise 的方法有哪些，能说明其作用</h2><pre class=" language-js"><code class="language-js">原型上的方法：<span class="token number">1</span>、Promise<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span>）作用是为 Promise 实例添加状态改变时的回调函数。接受两个回调函数作为参数。第一个回调函数是Promise对象的状态变为resolved时调用，第二个回调函数是Promise对象的状态变为rejected时调用。其中，第二个函数是可选的，不一定要提供。    <span class="token number">2</span>）返回的是另一个Promise对象，后面还可以接着调用then方法。<span class="token number">2</span>、Promise<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span>）用于指定发生错误时的回调函数。    <span class="token number">2</span>）返回的也是一个 Promise 对象，因此还可以接着调用then方法<span class="token number">3</span>、Promise<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token keyword">finally</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span>）<span class="token keyword">finally</span>方法用于指定不管 Promise 对象最后状态如何，都会执行的回调函数。    <span class="token number">2</span>）<span class="token keyword">finally</span>方法的回调函数不接受任何参数，这意味着没有办法知道，前面的 Promise 状态到底是fulfilled还是rejected。自身API<span class="token punctuation">:</span><span class="token number">1</span>、Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span>）不带参数传递 — 返回一个新的状态为resolve的promise对象    <span class="token number">2</span>）参数是一个 Promise 实例— 返回 当前的promise实例<span class="token number">2</span>、Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span><span class="token punctuation">)</span>返回的是一个值    <span class="token number">2</span>）返回的值会传递到下一个then的resolve方法参数中<span class="token number">3</span>、Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span>）并行执行异步操作的能力    <span class="token number">2</span>）所有异步操作执行完后才执行回调<span class="token number">4</span>、Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token number">1</span>）那个结果返回来的快就是，那个结果，不管结果是成功还是失败</code></pre><h2 id="async-和-await-是干什么的"><a href="#async-和-await-是干什么的" class="headerlink" title="async 和 await 是干什么的"></a>async 和 await 是干什么的</h2><pre class=" language-js"><code class="language-js"> <span class="token keyword">async</span>和<span class="token keyword">await</span>可以说是异步终极解决方案了。<span class="token number">1</span>、<span class="token keyword">async</span> 用于申明一个 <span class="token keyword">function</span> 是异步的，而 <span class="token keyword">await</span> 用于等待一个异步方法执行完成。<span class="token number">2</span>、<span class="token keyword">await</span> 只能出现在 <span class="token keyword">async</span> 函数中。<span class="token number">3</span>、<span class="token keyword">async</span> 函数返回的是一个 Promise 对象，后面可以用then方法。缺点：因为<span class="token keyword">await</span>将异步代码改造成了同步代码，如果多个异步代码都使用了<span class="token keyword">await</span>会导致性能上的降低。</code></pre><h2 id="什么是宏任务和微任务，执行顺序是什么"><a href="#什么是宏任务和微任务，执行顺序是什么" class="headerlink" title="什么是宏任务和微任务，执行顺序是什么"></a>什么是宏任务和微任务，执行顺序是什么</h2><pre class=" language-js"><code class="language-js"><span class="token number">1</span>、宏任务一般是：包括整体代码script，setTimeout，setInterval。<span class="token number">2</span><span class="token function">、微任务：Promise</span><span class="token punctuation">(</span>then、<span class="token keyword">catch</span>、<span class="token keyword">finally</span><span class="token punctuation">)</span>，process<span class="token punctuation">.</span>nextTick（node<span class="token punctuation">.</span>js）。<span class="token number">3</span>、先执行主代码块，然后执行微任务，最后在执行宏任务（异步）</code></pre><h2 id="webpack-的作用是什么"><a href="#webpack-的作用是什么" class="headerlink" title="webpack 的作用是什么"></a>webpack 的作用是什么</h2><pre class=" language-js"><code class="language-js">webpack是一个打包器（bundler），它能将多个js文件打包成一个文件（其实不止能打包js文件，也能打包其他类型的文件，比如css文件，json文件等）</code></pre><h2 id="webpack-打包的流程是什么"><a href="#webpack-打包的流程是什么" class="headerlink" title="webpack 打包的流程是什么"></a>webpack 打包的流程是什么</h2><pre class=" language-js"><code class="language-js">Webpack首先会把配置参数和命令行的参数及默认参数合并，并初始化需要使用的插件和配置插件等执行环境所需要的参数；初始化完成后会调用Compiler的run来真正启动webpack编译构建过程，webpack的构建流程包括compile、make、build、seal、emit阶段，执行完这些阶段就完成了构建过程<span class="token punctuation">.</span><span class="token function">大概阶段：1、初始化参数</span><span class="token punctuation">(</span>加载插件和处理入口等<span class="token punctuation">)</span>        <span class="token number">2</span><span class="token function">、编译阶段</span><span class="token punctuation">(</span>读取文件<span class="token operator">-</span>编译模块<span class="token operator">-</span>分析模块依赖关系<span class="token punctuation">)</span>        <span class="token number">3</span><span class="token function">、文件输出</span><span class="token punctuation">(</span>渲染源码<span class="token operator">-</span>执行文件输出<span class="token operator">-</span>全部完成<span class="token punctuation">)</span></code></pre><h2 id="页面通信的方式有哪些"><a href="#页面通信的方式有哪些" class="headerlink" title="页面通信的方式有哪些"></a>页面通信的方式有哪些</h2><pre><code>1. 通过url拼接地址2. H5本地存储</code></pre><h2 id="如何清除浏览器的缓存"><a href="#如何清除浏览器的缓存" class="headerlink" title="如何清除浏览器的缓存"></a>如何清除浏览器的缓存</h2><pre><code>答: 当我们请求的地址相同的时候，浏览器为了提高性能，会把相同地址的数据进行缓存。如果服务端的数据发生改变，客户端也不会更新，那就需要清除缓存    解决：在url后面加时间戳    例如：https://www.baidu.com?time=New Date()</code></pre><h2 id="token-的作用是什么"><a href="#token-的作用是什么" class="headerlink" title="token 的作用是什么"></a>token 的作用是什么</h2><pre><code>答: token是服务端生成的“令牌”，来标识不同身份的    1. 防止表单重复提交    2.判断用户是否登录</code></pre><h2 id="列举-echarts-常用的配置项，说明含义"><a href="#列举-echarts-常用的配置项，说明含义" class="headerlink" title="列举 echarts 常用的配置项，说明含义"></a>列举 echarts 常用的配置项，说明含义</h2><pre><code>答:     图表标题 title        图例  legend        值域 dataRange        提示框 tooltip        区域缩放控制器 dataZoom        网格 grid        类目轴 categoryAxis        值型坐标轴默认参数 valueAxis        柱形图默认参数 bar        折线图默认参数 line        散点图默认参数 scatter        饼图默认参数 pie        默认标志图形类型列表 symbolList        可计算特性配置, 孤岛, 提示颜色 calculable</code></pre><h2 id="git-如何管理一个项目"><a href="#git-如何管理一个项目" class="headerlink" title="git 如何管理一个项目"></a>git 如何管理一个项目</h2><pre><code>答: 1、git init初始化git仓库（新项目才有这一步）    2、git clone将远程仓库的项目资料下载下来    3、git checkout -b dev (dev 为本地分支名）    4、git add .将工作区文件存在暂存区    4、git commit -m  ""从暂存区存到仓储区    5、git checkout master切到master分支    6、git merge dev 合并分支,合并后要将分支删除    7、使用git push将其上传到远程仓库    8、第二上班，先pull一下，更新最新代码</code></pre><h1 id="项目问题"><a href="#项目问题" class="headerlink" title="项目问题"></a>项目问题</h1><h2 id="token-问题"><a href="#token-问题" class="headerlink" title="token 问题"></a>token 问题</h2><pre><code>Vue项目中实现token验证大致思路如下：1、第一次登录的时候，前端调后端的登陆接口，发送用户名和密码2、后端收到请求，验证用户名和密码，验证成功，就给前端返回一个token3、前端拿到token，将token存储到localStorage/cookie 和vuex中，并跳转路由页面4、前端每次跳转路由，就判断 localStroage/cookie  中有无 token ，没有就跳转到登录页面，有则跳转到对应路由页面5、每次调后端接口，都要在请求头中加token</code></pre><h2 id="token-过期"><a href="#token-过期" class="headerlink" title="token 过期"></a>token 过期</h2><p><img src="https://img-blog.csdnimg.cn/20200615213736501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW9maXk=,size_16,color_FFFFFF,t_70"></p><h2 id="Lazyload-图片懒加载"><a href="#Lazyload-图片懒加载" class="headerlink" title="Lazyload 图片懒加载"></a>Lazyload 图片懒加载</h2><pre><code>先将img标签中的src链接设置为空，将真正的图片链接放在自定义属性（data-src），当js监听到图片元素进入到可视窗口的时候，将自定义属性中的地址存储到src中，达到懒加载的效果。如果滚动的大小和屏幕高度之和大于元素到顶部的距离，设置一个定时器，制造懒加载的延迟加载的效果，也就是说，当我们滑动滚动条，看见图片的时候，就让它加载出来</code></pre><h2 id="less-和-sass-区别"><a href="#less-和-sass-区别" class="headerlink" title="less 和 sass 区别"></a>less 和 sass 区别</h2><pre><code>定义变量的符号不同：less使用@，sass使用$，变量的作用域不同：less在全局定义就作用在全局，在代码块中定义就作用于整个代码块，而sass只作用于全局编译环境不同：less在开发者环境编译，sass在服务器环境下编译</code></pre><h2 id="响应式布局"><a href="#响应式布局" class="headerlink" title="响应式布局"></a>响应式布局</h2><pre><code>响应式布局指的是同一页面在不同屏幕尺寸下有不同的布局1.pc端响应式布局：是指屏幕大小缩放时样式发生相应改变。运用媒体查询@media来设置。2.移动端响应式布局：是指根据移动端不同设备实现页面正常显示的方案。运用以下三种方案布局：a. 百分比布局。b. flex布局。c. rem布局</code></pre><h2 id="visibility-opacity-和-display-none-的区别"><a href="#visibility-opacity-和-display-none-的区别" class="headerlink" title="visibility,opacity 和 display:none 的区别"></a>visibility,opacity 和 display:none 的区别</h2><pre><code> 1. display:none    该方式让元素隐藏时，隐藏的元素不占空间，隐藏后将改变html原有样式。 2. visibility:hidden    该方式让元素隐藏时，隐藏的元素还是占用原有位置，隐藏后不将改变html原有样式。但，如果该元素的子元素使用了visibility:visible的话，改子元素将不被隐藏。3. opacity:0     该方式让元素隐藏时，隐藏的元素还是占用原有位置，隐藏后不将改变html原有样式。但，隐藏的元素所对应的事件，仍然可以触发。</code></pre><h2 id="简单用-node-js-搭建本地服务器"><a href="#简单用-node-js-搭建本地服务器" class="headerlink" title="简单用 node.js 搭建本地服务器"></a>简单用 node.js 搭建本地服务器</h2><pre><code>安装框架之前先把NPM镜像改成淘宝镜像，在文件夹打开命令行窗口执行命令：npm config set registry https://registry.npm.taobao.org&nbsp;然后全局安装express命令安装工具&nbsp; 输入命令： npm install -g express-generator再安装express框架&nbsp; 输入命令： npm install -g express&nbsp;安装成功后就可以使用express框架构建项目了如输入命令： express myStudy -e 创建项目， 再cd 进入该目录，输入命令：npm install 安装组件 ，最后执行命令：npm start 启动项目</code></pre><h2 id="http-状态码"><a href="#http-状态码" class="headerlink" title="http 状态码"></a>http 状态码</h2><pre><code>2xx：成功  这类状态代码表明服务器成功地接受了客户端请求。201    已创建。203    非权威性信息。205    重置内容。3xx：重定向 客户端浏览器必须采取更多操作来实现请求。302    对象已移动。307    临时重定向。4xx：客户端错误 发生错误，客户端似乎有问题400    错误的请求。401    访问被拒绝。403    服务器拒绝请求404    服务器找不到请求的网页。5xx：服务器错误 服务器由于遇到错误而不能完成该请求。501    页眉值指定了未实现的配置。503    目前服务器无法使用，一般是因为服务器超载或停止维护。505    HTTP 版本不受支持。</code></pre><h2 id="前端加密的集中方法"><a href="#前端加密的集中方法" class="headerlink" title="前端加密的集中方法"></a>前端加密的集中方法</h2><pre><code>第一种：base64方法第二种：MD5加密方式 非对称加密  不能解密首先引入相关js,对要加密的内容直接加密，直接使用MD5方法对内容进行加密第三种加密RSA用公钥私钥加密解密先引入相关配置文件，前端在向后台发起登录请求之前，先请求后台获取公钥的方法，通过公钥对相关内容加密，接下来就是用加密后的内容请求后台。</code></pre><h2 id="双-token-如何让用户无感刷新权限"><a href="#双-token-如何让用户无感刷新权限" class="headerlink" title="双 token 如何让用户无感刷新权限"></a>双 token 如何让用户无感刷新权限</h2><pre><code>一般后台返回的会有两个token，一个登陆用的taoken，一个用来刷新的taoken，刷新用关灯token过期时间会设置的比较长，通过判断用户活跃度来刷新token，如果一直没登录，就直接让客户登录，如果是登录期间过期了就直接使用刷新taoken后台获取新的token</code></pre><h2 id="树形控件-使用"><a href="#树形控件-使用" class="headerlink" title="树形控件 使用"></a>树形控件 使用</h2><pre><code>引入el-tree 然后发送请求获得数据，如果后台给的数据不是直接可以用的，通过比较一级部门的id和二级部门的pid之类的利用递归来处理数据</code></pre><h2 id="Echarts-如何使用的？"><a href="#Echarts-如何使用的？" class="headerlink" title="Echarts 如何使用的？"></a>Echarts 如何使用的？</h2><pre><code>安装模块，页面上准备具有宽高的放置表的DOM容器，通过echarts.init生成一个实例并利用setOption生成简单图表</code></pre><h2 id="APP-中如何兼容-ios-系统和安卓系统（刘海屏和水滴屏如何适应）"><a href="#APP-中如何兼容-ios-系统和安卓系统（刘海屏和水滴屏如何适应）" class="headerlink" title="APP 中如何兼容 ios 系统和安卓系统（刘海屏和水滴屏如何适应）"></a>APP 中如何兼容 ios 系统和安卓系统（刘海屏和水滴屏如何适应）</h2><pre class=" language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">//CSS3新特性viewport-fit 属性</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width,initial-scale<span class="token punctuation">=</span>1.0,</span> <span class="token attr-name">minimum-scale</span><span class="token attr-value"><span class="token punctuation">=</span>1.0,</span> <span class="token attr-name">maximum-scale</span><span class="token attr-value"><span class="token punctuation">=</span>1.0,</span> <span class="token attr-name">user-scalable</span><span class="token attr-value"><span class="token punctuation">=</span>no,</span> <span class="token attr-name">viewport-fit</span><span class="token attr-value"><span class="token punctuation">=</span>cover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">// 竖屏底下的查询</span>    @media screen and <span class="token punctuation">(</span>orientation<span class="token punctuation">:</span> portrait<span class="token punctuation">)</span> <span class="token punctuation">{</span>        body <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">/* 防止页面被刘海遮住 */</span>            padding<span class="token operator">-</span>top<span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>top<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//以防万一写一个你本身适配其他手机的</span>            padding<span class="token operator">-</span>top<span class="token punctuation">:</span>0px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/* 横屏底下的查询 */</span>    @media screen and <span class="token punctuation">(</span>orientation<span class="token punctuation">:</span> landscape<span class="token punctuation">)</span> <span class="token punctuation">{</span>        body <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">/* IOS 11支持*/</span>            padding<span class="token operator">-</span>right<span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>            padding<span class="token operator">-</span>left<span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>            padding<span class="token operator">-</span>bottom<span class="token punctuation">:</span> <span class="token function">constant</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>bottom<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//为底下圆弧的高度 34px</span>            <span class="token comment" spellcheck="true">/*IOS 11.2版本版本支持*/</span>            padding<span class="token operator">-</span>right<span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>            padding<span class="token operator">-</span>left<span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>            padding<span class="token operator">-</span>bottom<span class="token punctuation">:</span> <span class="token function">env</span><span class="token punctuation">(</span>safe<span class="token operator">-</span>area<span class="token operator">-</span>inset<span class="token operator">-</span>bottom<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//以防万一写一个你本身适配其他手机的</span>            padding<span class="token operator">-</span>right<span class="token punctuation">:</span>0px<span class="token punctuation">;</span>            padding<span class="token operator">-</span>left<span class="token punctuation">:</span>0px<span class="token punctuation">;</span>            padding<span class="token operator">-</span>bottom<span class="token punctuation">:</span>0px<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//如果用header和footer请单独定义</span></code></pre><h2 id="什么情况下使用箭头函数，什么情况下必须用-function"><a href="#什么情况下使用箭头函数，什么情况下必须用-function" class="headerlink" title="什么情况下使用箭头函数，什么情况下必须用 function"></a>什么情况下使用箭头函数，什么情况下必须用 function</h2><pre><code>在事件处理程序 和作为构造函数时，不能使用箭头函数，箭头函数内没有arguments（实参列表），没有this指向，不需要这些的时候可以直接用箭头函数</code></pre><h2 id="小程序的分享功能如何实现"><a href="#小程序的分享功能如何实现" class="headerlink" title="小程序的分享功能如何实现"></a>小程序的分享功能如何实现</h2><pre class=" language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">//微信小程序分享功能的实现方法有两种：</span><span class="token comment" spellcheck="true">//第一种</span>在page<span class="token punctuation">.</span>js中实现onShareAppMessage，便可在小程序右上角选择分享该页面onShareAppMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span>  title<span class="token punctuation">:</span> <span class="token string">'弹出分享时显示的分享标题'</span><span class="token punctuation">,</span>  desc<span class="token punctuation">:</span> <span class="token string">'分享页面的内容'</span><span class="token punctuation">,</span>  path<span class="token punctuation">:</span> <span class="token string">'/page/user?id=123'</span> <span class="token comment" spellcheck="true">// 路径，传递参数到指定页面。</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//第二种</span><span class="token comment" spellcheck="true">//自定义按钮实现分享，在page中添加一个带有open-type='share'的button标签(&amp;lt;button open-type='share'&amp;gt;&amp;lt;\/button>)</span></code></pre><h2 id="如何配置路由"><a href="#如何配置路由" class="headerlink" title="如何配置路由"></a>如何配置路由</h2><pre><code>安装路由，导入路由，注册路由，创建路由规则，创建路由实例并挂载规则，挂载路由实例，并在页面中放置路由出口</code></pre><h2 id="APP-中-1px-的边框如何处理？"><a href="#APP-中-1px-的边框如何处理？" class="headerlink" title="APP 中 1px 的边框如何处理？"></a>APP 中 1px 的边框如何处理？</h2><pre><code>使用border-image实现；使用background-image实现；（优点：可以设置单条、多条表框。缺点：更换颜色和样式麻烦，某些设备上会模糊）使用box-shadow模拟边框（优点：代码少，兼容性好。缺点：边框有阴影，颜色变浅。）</code></pre><h2 id="webpack-如何进行打包的"><a href="#webpack-如何进行打包的" class="headerlink" title="webpack 如何进行打包的"></a>webpack 如何进行打包的</h2><pre class=" language-jsx"><code class="language-jsx"><span class="token number">1</span>、初始化环境yarn init<span class="token number">2</span>、安装依赖包yarn add webpack webpack<span class="token operator">-</span>cli <span class="token operator">-</span>D<span class="token number">3</span>、配置scriptscripts<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack"</span><span class="token punctuation">}</span><span class="token number">4</span>、新建目录src，建立导入导出文件<span class="token number">5</span>、运行打包命令yarn build</code></pre><h2 id="跨域的解决方案"><a href="#跨域的解决方案" class="headerlink" title="跨域的解决方案"></a>跨域的解决方案</h2><pre><code>jsonp（只支持get方式的请求）   反向代理（配置proxy节点）   cors</code></pre><h2 id="APP-如何同步-pc-端和移动端的数据"><a href="#APP-如何同步-pc-端和移动端的数据" class="headerlink" title="APP 如何同步 pc 端和移动端的数据"></a>APP 如何同步 pc 端和移动端的数据</h2><pre><code>1、利用import()异步引入组件实现按需引入2、使用CDN引入第三方依赖3、利用SplitChunks插件提取公共js代码和分割js代码</code></pre><h2 id="防抖和节流是什么？"><a href="#防抖和节流是什么？" class="headerlink" title="防抖和节流是什么？"></a>防抖和节流是什么？</h2><p>防抖，就是指触发事件后在 一定时间内只能执行一次，如果在这个时间内又触发了事件，则会重新计算函数执行时间。</p><p>节流，就是指连续触发事件但是在一定时间内最多只执行一次函数</p><pre class=" language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">//防抖一般用于input框</span><span class="token keyword">let</span>  timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token function">发送请求</span><span class="token punctuation">(</span>业务逻辑代码<span class="token punctuation">)</span><span class="token punctuation">}</span>，<span class="token number">1000</span><span class="token punctuation">)</span><span class="token number">1</span>、定义一个延时任务，在延迟任务之前再清除这个任务，那么只要在这个约定的时间内一直触发这个时间就会重新计算事件，直到我超出事件后没有再次触发该事件，那么就会发出请求<span class="token comment" spellcheck="true">//节流  timer  是定时器的id  是个数字  布尔值是true</span><span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token boolean">false</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    业务逻辑    重置timer<span class="token operator">=</span>fase<span class="token punctuation">}</span>，<span class="token number">50</span><span class="token punctuation">)</span>适合事件触发频率特别高的时候，可以减少代码的执行率</code></pre><h2 id="APP-的发布方式，发布工具"><a href="#APP-的发布方式，发布工具" class="headerlink" title="APP 的发布方式，发布工具"></a>APP 的发布方式，发布工具</h2><p>APICloud 可以同时生成一套 ios 和安卓的原生模块</p><h2 id="轮询技术？"><a href="#轮询技术？" class="headerlink" title="轮询技术？"></a>轮询技术？</h2><p>轮询是在特定的的时间间隔（如每 1 秒），由浏览器对服务器发出 HTTP request，然后由服务器返回最新的数据给客户端的浏览器，轮询最开始出现时为了解决服务端压力过大，当前端一次并发多个请求的时候，可以轮流依次给到不同的服务器（这三台服务器的数据和接口都是一样的）。</p><h2 id="项目打包后图片加载失败，怎么处理？"><a href="#项目打包后图片加载失败，怎么处理？" class="headerlink" title="项目打包后图片加载失败，怎么处理？"></a>项目打包后图片加载失败，怎么处理？</h2><p>检查下基地址，静态资源路径等，找出问题后重新打包。</p><h2 id="RBAC-是什么？"><a href="#RBAC-是什么？" class="headerlink" title="RBAC 是什么？"></a>RBAC 是什么？</h2><p>基于角色的权限控制，通过给不同的用户分配不同的权限，控制其访问的页面，当权限增加时，能访问的页面也对应的增加。</p><p>RBAC（Role-Based Access Control，基于角色的访问控制），就是用户通过角色与权限进行关联。简单地说，一个用户拥有若干角色，每一个角色拥有若干权限。这样，就形成“用户-角色-权限”的授权模型。在这种模型中，用户与角色之间，角色与权限之间一般都是多对多的关系。</p><h2 id="无感注册，无感刷新如何实现？"><a href="#无感注册，无感刷新如何实现？" class="headerlink" title="无感注册，无感刷新如何实现？"></a>无感注册，无感刷新如何实现？</h2><p>无感刷新一般后台返回的会有两个 token，一个登陆用的 token，一个用来刷新的 token，刷新用 token 过期时间会设置的比较长，通过判断用户活跃度来刷新 token，如果一直没登录，就直接让客户登录，如果是登录期间过期了就直接使用刷新 taoken 后台获取新的 token</p><h2 id="如何实现同一旗下的-app-登录其中一个，其他-app-也同时可以访问？"><a href="#如何实现同一旗下的-app-登录其中一个，其他-app-也同时可以访问？" class="headerlink" title="如何实现同一旗下的 app 登录其中一个，其他 app 也同时可以访问？"></a>如何实现同一旗下的 app 登录其中一个，其他 app 也同时可以访问？</h2><p>单点登录 SSO（Single Sign On），解决如何产生和存储的信任，再就是其他系统如何验证这个信任的有效性</p><p>第一种方式：以 Cookie 作为凭证媒介</p><p>最简单的单点登录实现方式，是使用 cookie 作为媒介，存放用户凭证。 用户登录父应用之后，应用返回一个加密的 cookie，当用户访问子应用的时候，携带上这个 cookie，授权应用解密 cookie 并进行校验，校验通过则登录当前用户。（不安全，不能解决跨域实现免登录）</p><p>第二种方式：通过页面重定向的方式</p><p>是通过父应用和子应用来回重定向中进行通信，实现信息的安全传递。 父应用提供一个 GET 方式的登录接口，用户通过子应用重定向连接的方式访问这个接口，如果用户还没有登录，则返回一个的登录页面，用户输入账号密码进行登录。如果用户已经登录了，则生成加密的 Token，并且重定向到子应用提供的验证 Token 的接口，通过解密和校验之后，子应用登录当前用户</p><p>第三种方式：使用独立登录系统</p><p>大型应用会把授权的逻辑与用户信息的相关逻辑独立成一个应用，称为用户中心。 用户中心不处理业务逻辑，只是处理用户信息的管理以及授权给第三方应用。第三方应用需要登录的时候，则把用户的登录请求转发给用户中心进行处理，处理完毕返回凭证，第三方应用验证凭证，通过后就登录用户。</p><h2 id="Echarts-如何联动两个表？"><a href="#Echarts-如何联动两个表？" class="headerlink" title="Echarts 如何联动两个表？"></a>Echarts 如何联动两个表？</h2><p>图表实现联动的关键代码 echarts.connect([myChart1, myChart2])</p><h2 id="响应式和自适应的区别"><a href="#响应式和自适应的区别" class="headerlink" title="响应式和自适应的区别"></a>响应式和自适应的区别</h2><p>1.自适应布局通过检测视口分辨率，来判断当前访问的设备，响应式布局针对不同客户端在客户端做代码处理。</p><p>2.自适应要开发多套界面，响应式只要开发一套界面。</p><p>3.自适应适配是在一定范围，响应式布局是一套页面全部适应。</p><h2 id="电商网站如何实现订单的唯一性？"><a href="#电商网站如何实现订单的唯一性？" class="headerlink" title="电商网站如何实现订单的唯一性？"></a>电商网站如何实现订单的唯一性？</h2><p>可以使用一个唯一的流水号 ID，用来标识是不是同一个请求或者交易，先将这个 ID 保存到一个流水表里面，并且流水表中将这个 ID 设置为<code>UNIQUE KEY</code>,如果插入出现冲突了，则说明这个创建订单的请求已经处理过了，直接返回之前的操作结果。</p><p>（幂等性）：用在接口上就可以理解为：同一个接口，多次发出同一个请求，必须保证操作只执行一次。 调用接口发生异常并且重复尝试时，总是会造成系统所无法承受的损失，所以必须阻止这种现象的发生。 比如下面这些情况，如果没有实现接口幂等性会有很严重的后果： 支付接口，重复支付会导致多次扣钱 订单接口，同一个订单可能会多次创建</p><h2 id="A-和-B-两个非父子组件，A-中-input-框里的值如何传给-B？"><a href="#A-和-B-两个非父子组件，A-中-input-框里的值如何传给-B？" class="headerlink" title="A 和 B 两个非父子组件，A 中 input 框里的值如何传给 B？"></a>A 和 B 两个非父子组件，A 中 input 框里的值如何传给 B？</h2><p>EventBus 建立一个 js 文件，只做事件发布和监听，A 和 B 组件都需要导入这个 js 文件，A 组件通过$emit发布一个事件，并携带input框的值，B组件通过$on 订阅事件，并接收参数。</p><p>或者直接存到 vuex 中</p><h2 id="过滤器怎么写？"><a href="#过滤器怎么写？" class="headerlink" title="过滤器怎么写？"></a>过滤器怎么写？</h2><p>全局的：</p><pre class=" language-jsx"><code class="language-jsx">Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">"capitalize"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>  value <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 参数一 过滤器名字  参数二  函数，value 是使用这个过滤器的dom元素  参数二的函数必须有一个返回值</span></code></pre><p>局部过滤器：</p><pre class=" language-jsx"><code class="language-jsx">filters<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token function">formatDate</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>str<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token function">moment</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><h2 id="自定义指令？"><a href="#自定义指令？" class="headerlink" title="自定义指令？"></a>自定义指令？</h2><p>全局：</p><pre class=" language-jsx"><code class="language-jsx">Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">"focus"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 当被绑定的元素插入到 DOM 中时……</span>  inserted<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>el<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 使用这个指令的元素元素</span>    el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>局部指令：</p><pre class=" language-jsx"><code class="language-jsx">directives<span class="token punctuation">:</span> <span class="token punctuation">{</span>  color<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 指令的定义</span>    inserted<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>el，binding<span class="token punctuation">)</span> <span class="token punctuation">{</span>      el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color<span class="token operator">=</span>binding<span class="token punctuation">.</span>value    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="手机端如何调出键盘？"><a href="#手机端如何调出键盘？" class="headerlink" title="手机端如何调出键盘？"></a>手机端如何调出键盘？</h2><p>在 Android 上，只要不是用户触发的事件都无法触发。一个 label，两个 input，既然隐藏了搜索组件的 input1。新建另一个隐藏的 input2。点击 label–&gt;input2 聚焦–&gt;键盘起–&gt;input1.focus()</p><p>ios 上，touchstart 事件时，直接 focus 到 input 上。</p><pre class=" language-jsx"><code class="language-jsx">btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>isIos<span class="token punctuation">)</span><span class="token punctuation">{</span>      evt<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      evt<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//必须阻止默认行为，也不能冒泡，而且click事件是不行的。click有延迟，用户触摸屏幕，无法及时的focus。preventDefault和stopPropagation也是为了防止焦点到其他的元素上。</span></code></pre><h2 id="vuex-里-modules-使用场景"><a href="#vuex-里-modules-使用场景" class="headerlink" title="vuex 里 modules 使用场景"></a>vuex 里 modules 使用场景</h2><p>在项目开发过程中，随着项目逐渐增大，数据关联复杂度逐渐加大， 多人协同开发，人员变动等。 我们会遇到 vuex 数据更新时，执行某个 action 导致同名/未预测到的关联数据发生了变化。</p><pre><code>  vue 基本思想之一便是数据驱动， vuex 更是专门的数据状态关联库。 导致数据错误结果可想而知......  使用vuex module 命名空间概念则可以很好的解决这个问题！！！</code></pre><h2 id="vuex-流程"><a href="#vuex-流程" class="headerlink" title="vuex 流程"></a>vuex 流程</h2><pre><code>对vuex的简单理解每一个 Vuex 应用的核心就是 store，里面又包括:（1）state（数据）：用来存放数据源，就是公共状态;（2）getters（数据加工）：有的时候需要对数据源进行加工，返回需要的数据；（3）actions（事件）：要执行的操作，可以进行同步或者异步事件（4）mutations（执行）：操作结束之后，actions通过commit更新state数据源（5）modules：使用单一状态树，致使应用的全部状态集中到一个很大的对象，所以把每个模块的局部状态分装使每一个模块拥有本身的 state、mutation、action、getters、甚至是嵌套子模块；vuex的工作流程就是：（1）通过dispatch去提交一个actions，（2）actions接收到这个事件之后，在actions中可以执行一些异步|同步操作，根据不同的情况去分发给不同的mutations，（3）actions通过commit去触发mutations，（4）mutations去更新state数据，state更新之后，就会通知vue进行渲染1.在vue组件里面，通过dispatch来触发actions提交修改数据的操作。2.然后再通过actions的commit来触发mutations来修改数据。3.mutations接收到commit的请求，就会自动通过Mutate来修改state（数据中心里面的数据状态）里面的数据。4.最后由store触发每一个调用它的组件的更新</code></pre><h2 id="Vuex-的严格模式是什么"><a href="#Vuex-的严格模式是什么" class="headerlink" title="Vuex 的严格模式是什么"></a>Vuex 的严格模式是什么</h2><pre><code>在严格模式下，无论何时发生了状态变更且不是由 mutation函数引起的，将会抛出错误。这能保证所有的状态变更都能被调试工具跟踪到。在Vuex.Store 构造器选项中开启,如下const store = new Vuex.Store({    strict:true,})</code></pre><h2 id="vue-router-命名视图"><a href="#vue-router-命名视图" class="headerlink" title="vue-router 命名视图"></a>vue-router 命名视图</h2><pre><code>有时候想同时（同级）展示多个视图，而不是嵌套展示，例如创建一个布局，有 sidebar（侧导航） 和 main（主内容） 两个视图，这个时候命名视图就派上用场了。你可以在界面中拥有多个单独命名的视图，而不是只有一个单独的出口。如果 router-view 没有设置名字，那么默认为 default。</code></pre><h2 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h2><pre><code>一、双层循环（暴力方法）二、indexOf和includes三、排序去重四、filter五、键值对（key-value）六、ES6(set 和 map)set方法var arr = [1, 2, 1, '1', '2'];function unique(array) {    return [...new Set(array)];}console.log(unique(arr)); // [ 1, 2, '1', '2' ]map方法function unique (arr) {    const newMap = new Map()    return arr.filter((a) =&gt; !newMap.has(a) &amp;&amp; newMap.set(a, 1));}</code></pre><h2 id="事件冒泡和事件委托"><a href="#事件冒泡和事件委托" class="headerlink" title="事件冒泡和事件委托"></a>事件冒泡和事件委托</h2><pre><code>js中事件冒泡我们知道，子元素身上的事件会冒泡到父元素身上。事件代理就是，把原本需要绑定在子元素的响应事件（click、keydown......）委托给父元素，让父元素担当事件监听的职务。事件委托的优点：1.可以大量节省内存占用，减少事件注册，比如在ul上代理所有li的click事件就非常棒2.可以实现当新增子对象时无需再次对其绑定（动态绑定事件）</code></pre><h2 id="flex-布局是什么，有哪些属性？flex：1-是什么意思？"><a href="#flex-布局是什么，有哪些属性？flex：1-是什么意思？" class="headerlink" title="flex 布局是什么，有哪些属性？flex：1 是什么意思？"></a>flex 布局是什么，有哪些属性？flex：1 是什么意思？</h2><pre><code>- 是什么  Flex 是 Flexible Box 的缩写，意为"弹性布局"，用来为盒状模型提供最大的灵活性。  任何一个容器都可以指定为 Flex 布局。  行内元素也可以使用 Flex 布局。  Webkit 内核的浏览器，必须加上-webkit 前缀。  注意，设为 Flex 布局以后，子元素的 float、clear 和 vertical-align 属性将失效。- Flex 的属性以下 6 个属性设置在容器上。- flex-directionflex-direction 属性决定主轴的方向（即项目的排列方向）。.box {flex-direction: row | row-reverse | column | column-reverse;}row（默认值）：主轴为水平方向，起点在左端。row-reverse：主轴为水平方向，起点在右端。column：主轴为垂直方向，起点在上沿,自上而下。column-reverse：主轴为垂直方向，起点在下沿,自下而上。- flex-wrap默认情况下，项目都排在一条线（又称"轴线"）上。flex-wrap 属性定义，如果一条轴线排不下，应该如何换行。.box{flex-wrap: nowrap | wrap | wrap-reverse;}nowrap（默认）：不换行,宽度自动压缩。wrap：换行，第一行在上方。wrap-reverse：换行，第一行在下方。- flex-flowflex-flow 属性是 flex-direction 属性和 flex-wrap 属性的简写形式，默认值为 row nowrap。.box {flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;}.box{flex-flow:row||nowrap;}- justify-contentjustify-content 属性定义了项目在主轴上(即横向)的对齐方式。flex-start（默认值）：左对齐flex-end：右对齐center： 居中space-between：两端对齐，组件之间的间隔都相等。space-around：距边界两侧的间隔相等，元素之间的间隔比项目与边框的间隔大一倍。- align-itemsalign-items 属性定义项目在交叉轴上(即纵向,垂直)如何对齐。.box {align-items: flex-start | flex-end | center | baseline | stretch;}flex-start：交叉轴的起点(顶部)对齐。flex-end：交叉轴的终点(底部)对齐。center：交叉轴的中点(中间)对齐。baseline: 项目的第一行文字的基线(即根据内容对齐,不再根据容器)对齐。stretch（默认值）：如果项目未设置高度或设为 auto，将占满整个容器的高度。- align-contentalign-items 属性定义项目在交叉轴上(即纵向,垂直)如何对齐。.box {align-items: flex-start | flex-end | center | baseline | stretch;}flex-start：交叉轴的起点(顶部)对齐。flex-end：交叉轴的终点(底部)对齐。center：交叉轴的中点(中间)对齐。baseline: 项目的第一行文字的基线(即根据内容对齐,不再根据容器)对齐。stretch（默认值）：如果项目未设置高度或设为 auto，将占满整个容器的高度。- flex：1 是什么意思？flex：1即为flex-grow：1，经常用作自适应布局，将父容器的display：flex，侧边栏大小固定后，将内容区flex：1，内容区则会自动放大占满剩余空间。</code></pre><h2 id="position-有哪些属性？"><a href="#position-有哪些属性？" class="headerlink" title="position 有哪些属性？"></a>position 有哪些属性？</h2><pre><code>(1)、static可以认为静态的，默认元素都是静态的定位，对象遵循常规流。此时4个定位偏移属性不会被应用，也就是使用left，right，bottom，top将不会生效。(2)、relative相对定位，对象遵循常规流，并且参照自身在常规流中的位置通过top，right，bottom，left这4个定位偏移属性进行偏移时不会影响常规流中的任何元素。(3)、absolutea、绝对定位，对象脱离常规流，此时偏移属性参照的是离自身最近的定位祖先元素，如果没有定位的祖先元素，则一直回溯到body元素。盒子的偏移位置不影响常规流中的任何元素，其margin不与其他任何margin折叠。b、元素定位参考的是离自身最近的定位祖先元素，要满足两个条件，第一个是自己的祖先元素，可以是父元素也可以是父元素的父元素，一直找，如果没有则选择body为对照对象。第二个条件是要求祖先元素必须定位，通俗说就是position的属性值为非static都行。(4)、fixed固定定位，与absolute一致，但偏移定位是以窗口为参考。当出现滚动条时，对象不会随着滚动。(5)、center与absolute一致，但偏移定位是以定位祖先元素的中心点为参考。盒子在其包含容器垂直水平居中。（CSS3）(6)、page与absolute一致。元素在分页媒体或者区域块内，元素的包含块始终是初始包含块，否则取决于每个absolute模式。（CSS3）(7)、sticky对象在常态时遵循常规流。它就像是relative和fixed的合体，当在屏幕中时按常规流排版，当卷动到屏幕外时则表现如fixed。</code></pre><h2 id="页面布局，左右固定中间自适应怎么实现？"><a href="#页面布局，左右固定中间自适应怎么实现？" class="headerlink" title="页面布局，左右固定中间自适应怎么实现？"></a>页面布局，左右固定中间自适应怎么实现？</h2><pre><code>1.使用自身浮动法：自身浮动法的原理就是对左右分别使用float:left和float:right，float使左右两个元素脱离文档流，中间元素正常在正常文档流中。对中间文档流使用margin指定左右外边距进行定位。该布局法的不足是三个元素的顺序，middle一定要放在最后，middle占据文档流位置，所以一定要放在最后，左右两个元素位置没有关系。当浏览器窗口很小的时候，右边元素会被挤到下一行。2.使用绝对定位法：绝对定位法原理是将左右两边使用absolute定位，因为绝对定位使其脱离文档流，后面的middle会自然流动到他们上面，然后使用margin属性，留出左右元素的宽度，既可以使中间元素自适应屏幕宽度。该法布局的好处，三个div顺序可以任意改变。但是因为是绝对定位，如果页面上还有其他内容，top的值需要小心处理。3.使用flex布局：设置一个父div，添加样式display：flex。中间div设置flex-grow：1，（等同代码中设置flex：1。flex是grow、shrink、basis的简写）但是盒模型默认紧紧挨着，可以使用margin控制外边距。middle一定在中间，否则需要order属性来调整。通过项目属性flex-grow设置middle的放大比例，将空余的空间用middle来填充，使三个项目排满一整行；默认为0，也就是对剩余空间不做处理。通过项目属性flex-basis 设置left和right的固定宽度。</code></pre><h2 id="不定宽高的-div-水平垂直居中-1"><a href="#不定宽高的-div-水平垂直居中-1" class="headerlink" title="不定宽高的 div 水平垂直居中?"></a>不定宽高的 div 水平垂直居中?</h2><pre><code>方法一：CSS3（实现简单，缺点是兼容性不好）display: flex;justify-content:center; //子元素水平居中align-items:center; //子元素垂直居中方法二：运用margin:auto进行垂直居中margin的值设置为auto，可以让我们对剩余空间进行分配！我们知道，块级元素设置为margin:0 auto；可以左右居中显示！那有没有办法让margin设置为margin:auto之后，上下左右都居中呢？上下左右都居中，就可以实现我们的垂直居中了！答案是有的，只要我们让上下有足够的空间，就可以让margin的auto来分配上下空间。我们可以利用定位的方式，让margin上下左右都有足够的空间！那么就可以用margin:auto来实现垂直居中了！</code></pre><h2 id="key-值有什么作用？不加-key-会有什么影响？会在哪个生命周期会用到-key？"><a href="#key-值有什么作用？不加-key-会有什么影响？会在哪个生命周期会用到-key？" class="headerlink" title="key 值有什么作用？不加 key 会有什么影响？会在哪个生命周期会用到 key？"></a>key 值有什么作用？不加 key 会有什么影响？会在哪个生命周期会用到 key？</h2><pre><code>作用：key属性能够提升性能(主要作用于数据更新时)。不加 key 会有什么影响:可能会导致数据渲染错乱会在哪个生命周期会用到 key:beforeUpdate</code></pre><h2 id="vue-八大生命周期钩子函数"><a href="#vue-八大生命周期钩子函数" class="headerlink" title="vue 八大生命周期钩子函数"></a>vue 八大生命周期钩子函数</h2><pre><code>beforeCreate:    vue实例初始化之前调用(vue实例中的el，data，data中的message都为undefined)created: vue实例初始化之后调用(  el还是undefined，而数据已经与data中的属性进行绑定（放在data中属性当值发生改变的同时，视图也会发生变化），在这里可以在渲染前倒数第二次更改数据的机会，不会触发其他的钩子函数，一般可以在这里做初始数据的获取)beforeMount:    挂载到DOM树之前调用(载入前（完成了data和el数据初始化），但是页面中的内容还是vue中的占位符，data中的message信息没有被挂在到Bom节点中，在这里可以在渲染前最后一次更改数据的机会，不会触发其他的钩子函数，一般可以在这里做初始数据的获取)mounted:    挂载到DOM树之后调用(载入后html已经渲染(ajax请求可以放在这个函数中)，把vue实例中的data里的message挂载到BOM节点中去)beforeUpdate:    数据更新之前调用 (更新前状态（view层的数据变化前，不是data中的数据改变前），重新渲染之前触发，然后vue的虚拟dom机制会重新构建虚拟dom与上一次的虚拟dom树利用diff算法进行对比之后重新渲染)updated:数据更新之后调用 (数据已经更改完成，dom也重新render完成)beforeDestroy:    vue实例销毁之前调用(销毁前执行（$destroy方法被调用的时候就会执行）,一般在这里善后:清除计时器、清除非指令绑定的事件等等…’)destroyed:vue实例销毁之后调用(销毁后 （Dom元素存在，只是不再受vue控制）,卸载watcher，事件监听，子组件)- 生命周期总结beforecreate : 可以在这加个loading事件created ：在这结束loading，还做一些初始数据的获取，实现函数自执行mounted ： 在这发起后端请求，拿回数据，配合路由钩子做一些事情beforeDestroy： 你确认删除XX吗？destroyed ：当前组件已被删除，清空相关内容</code></pre><h2 id="vue-v-model-实现原理？"><a href="#vue-v-model-实现原理？" class="headerlink" title="vue v-model 实现原理？"></a>vue v-model 实现原理？</h2><pre><code>实现原理：1、v-bind绑定响应数据2、触发input事件并传递数据</code></pre><h2 id="vue-created-到-beforeMount-的过程"><a href="#vue-created-到-beforeMount-的过程" class="headerlink" title="vue created 到 beforeMount 的过程?"></a>vue created 到 beforeMount 的过程?</h2><pre><code>首先会判断vue实例中有没有el选项，如果有的话则进行下面的编译，但是如果没有el选项，则停止生命周期，直到vue实例上调用vm.$mount(el)。如果有el，再判断是否有template参数，如果有，则把其当作模板编译成render函数，如果没有，则把外部的html作为模板编译。template中的模板优先级高于outer HTML模板。在vue对象中还有一个render函数，它是以createElement作为参数，然后做渲染操作，而且我们可以直接嵌入JSX.综合排名优先级：render函数选项 &gt; template选项 &gt; outer HTML.</code></pre><h2 id="vue-父子组件加载顺序？组件通信有哪些？"><a href="#vue-父子组件加载顺序？组件通信有哪些？" class="headerlink" title="vue 父子组件加载顺序？组件通信有哪些？"></a>vue 父子组件加载顺序？组件通信有哪些？</h2><pre><code>- vue 父子组件加载顺序首先加载父组件     ： beforeCreate ，created ，beforeMount， mounted，beforeUpdate（四次）然后是  子组件1    ： beforeCreate ，created ，beforeMount ，然后是  子组件2    ： beforeCreate ，created ，beforeMount ，然后是  子组件1    ： mounted，然后是  子组件2    ： mounted，然后是  父组件      ： updated （四次 ），最后 父组件 再次  加载一次 beforeUpdate，updated- 组件间通信的分类组件间通信的分类可以分成以下父子组件之间的通信兄弟组件之间的通信祖孙与后代组件之间的通信非关系组件间之间的通信- 组件间通信的方案整理vue中8种常规的通信方案通过 props 传递通过 $emit 触发自定义事件使用 refEventBus$parent 或 $rootattrs 与 listenersProvide 与 InjectVuex</code></pre><h2 id="Git-提交代码错误怎么撤回？怎么合并冲突？"><a href="#Git-提交代码错误怎么撤回？怎么合并冲突？" class="headerlink" title="Git 提交代码错误怎么撤回？怎么合并冲突？"></a>Git 提交代码错误怎么撤回？怎么合并冲突？</h2><pre><code>- Git 提交代码错误怎么撤回1.输入git log 查看所有提交的版本,找出对应的版本号码2.回退到指定版本git reset --hard 版本号码3. 推送代码git push origin master -f- 合并冲突1.先通过开发工具找出冲突2.解决冲突3. 推送代码</code></pre><h2 id="vue-v-if-和-v-show-区别？"><a href="#vue-v-if-和-v-show-区别？" class="headerlink" title="vue v-if 和 v-show 区别？"></a>vue v-if 和 v-show 区别？</h2><pre><code>- v-if 和 v-show 区别1.共同点v-if 和 v-show 都可以动态地显示隐藏DOM元素2. 区别（1）手段不同：v-if 是动态的向DOM树内添加或者删除DOM元素；v-show 是通过设置DOM元素的display样式属性控制显隐；（2）性能消耗不同：v-if 有更高的切换消耗；v-show 有更高的初始渲染消耗；（3）使用场景不同：v-if 适合运营条件不大可能改变；v-show 适合频繁切换。</code></pre><h2 id="webpack-执行顺序打包流程，从哪里收集参数？依赖关系怎么走？"><a href="#webpack-执行顺序打包流程，从哪里收集参数？依赖关系怎么走？" class="headerlink" title="webpack 执行顺序打包流程，从哪里收集参数？依赖关系怎么走？"></a>webpack 执行顺序打包流程，从哪里收集参数？依赖关系怎么走？</h2><h2 id="promise-有哪些方法？"><a href="#promise-有哪些方法？" class="headerlink" title="promise 有哪些方法？"></a>promise 有哪些方法？</h2><h2 id="宏任务和微任务有哪些？异步操作和同步操作有哪些？"><a href="#宏任务和微任务有哪些？异步操作和同步操作有哪些？" class="headerlink" title="宏任务和微任务有哪些？异步操作和同步操作有哪些？"></a>宏任务和微任务有哪些？异步操作和同步操作有哪些？</h2><pre><code>(macro)task，可以理解是每次执行栈执行的代码就是一个宏任务（包括每次从事件队列中获取一个事件回调并放到执行栈中执行）。- 宏任务包含script(整体代码)setTimeoutsetIntervalI/OUI交互事件postMessageMessageChannelsetImmediate(Node.js 环境)微任务microtask,可以理解是在当前 task 执行结束后立即执行的任务。也就是说，在当前task任务后，下一个task之前，在渲染之前。所以它的响应速度相比setTimeout（setTimeout是task）会更快，因为无需等渲染。也就是说，在某一个macrotask执行完后，就会将在它执行期间产生的所有microtask都执行完毕（在渲染前）。微任务包含：Promise.thenObject.observeMutaionObserverprocess.nextTick(Node.js 环境)</code></pre><h2 id="四分之一圆用-css-怎么实现？"><a href="#四分之一圆用-css-怎么实现？" class="headerlink" title="四分之一圆用 css 怎么实现？"></a>四分之一圆用 css 怎么实现？</h2><pre><code>保持宽高和圆角值相同   div {      width: 100px;      height: 100px;      background-color: pink;      border-radius: 100px 0 0 0;      /*四个值分别对应 左上、右上、右下、左下 */    }</code></pre><h2 id="computed-和-watch-的区别是什么-1"><a href="#computed-和-watch-的区别是什么-1" class="headerlink" title="computed 和 watch 的区别是什么?"></a>computed 和 watch 的区别是什么?</h2><pre><code>计算属性computed :1. 支持缓存，只有依赖数据发生改变，才会重新进行计算2. 不支持异步，当computed内有异步操作时无效，无法监听数据的变化3.computed 属性值会默认走缓存，计算属性是基于它们的响应式依赖进行缓存的，也就是基于data中声明过或者父组件传递的props中的数据通过计算得到的值4. 如果一个属性是由其他属性计算而来的，这个属性依赖其他属性，是一个多对一或者一对一，一般用computed5.如果computed属性属性值是函数，那么默认会走get方法；函数的返回值就是属性的属性值；在computed中的，属性都有一个get和一个set方法，当数据变化时，调用set方法。侦听属性watch：1. 不支持缓存，数据变，直接会触发相应的操作；2.watch支持异步；3.监听的函数接收两个参数，第一个参数是最新的值；第二个参数是输入之前的值；4. 当一个属性发生变化时，需要执行对应的操作；一对多；5. 监听数据必须是data中声明过或者父组件传递过来的props中的数据，当数据变化时，触发其他操作，函数有两个参数，　　immediate：组件加载立即触发回调函数执行，　　deep: 深度监听，为了发现对象内部值的变化，复杂类型的数据时使用，例如数组中的对象内容的改变，注意监听数组的变动不需要这么做。注意：deep无法监听到数组的变动和对象的新增，参考vue数组变异,只有以响应式的方式触发才会被监听到。</code></pre><h2 id="判断数据类型的方法有哪些？"><a href="#判断数据类型的方法有哪些？" class="headerlink" title="判断数据类型的方法有哪些？"></a>判断数据类型的方法有哪些？</h2><pre><code>1.typeofconsole.log(    typeof 123, //"number"    typeof 'dsfsf', //"string"    typeof false, //"boolean"    typeof [1,2,3], //"object"    typeof {a:1,b:2,c:3}, //"object"    typeof function(){console.log('aaa');}, //"function"    typeof undefined, //"undefined"    typeof null, //"object"    typeof new Date(), //"object"    typeof /^[a-zA-Z]{5,20}$/, //"object"    typeof new Error() //"object");Array，Object，null，Date，RegExp，Error这几个类型都被typeof判断为object，所以如果想要判断这几种类型，就不能使用typeof了。Number，String，Boolean，Function，undefined，如果想判断这几种类型，那就可以使用typeof。2. instanceofinstanceof运算符需要指定一个构造函数，或者说指定一个特定的类型，它用来判断这个构造函数的原型是否在给定对象的原型链上。console.log(    123 instanceof Number, //false    'dsfsf' instanceof String, //false    false instanceof Boolean, //false    [1,2,3] instanceof Array, //true    {a:1,b:2,c:3} instanceof Object, //true    function(){console.log('aaa');} instanceof Function, //true    undefined instanceof Object, //false    null instanceof Object, //false    new Date() instanceof Date, //true    /^[a-zA-Z]{5,20}$/ instanceof RegExp, //true    new Error() instanceof Error //true)3.constructorconstructor是prototype对象上的属性，指向构造函数。根据实例对象寻找属性的顺序，若实例对象上没有实例属性或方法时，就去原型链上寻找，因此，实例对象也是能使用constructor属性的。</code></pre><p>typeof 判断类型返回什么？</p><h2 id="less-和-sass-区别？"><a href="#less-和-sass-区别？" class="headerlink" title="less 和 sass 区别？"></a>less 和 sass 区别？</h2><pre><code>一、概念1、Less：是一种动态样式语言. 对CSS赋予了动态语言的特性，如变量、继承、运算、函数。Less 既可以在客户端上运行 (支持IE 6+, Webkit, Firefox)，也可在服务端运行。2、Sass：是一种动态样式语言，Sass语法属于缩排语法，比css比多出好些功能(如变量、嵌套、运算,混入(Mixin)、继承、颜色处理，函数等)，更容易阅读。二、less和sass的相同之处Less和Sass在语法上有些共性，比如下面这些：1、混入(Mixins)——class中的class；2、参数混入——可以传递参数的class，就像函数一样；3、嵌套规则——Class中嵌套class，从而减少重复的代码；4、运算——CSS中用上数学；5、颜色功能——可以编辑颜色；6、名字空间(namespace)——分组样式，从而可以被调用；7、作用域——局部修改样式；8、JavaScript 赋值——在CSS中使用JavaScript表达式赋值。三、less和sass的区别Less和Sass的主要不同就是他们的实现方式。Less是基于JavaScript，是在客户端处理的。Sass是基于Ruby的，是在服务器端处理的。关于变量在Less和Sass中的唯一区别就是Less用@，Sass用$。</code></pre><h2 id="闭包？"><a href="#闭包？" class="headerlink" title="闭包？"></a>闭包？</h2><pre><code>闭包函数：声明在一个函数中的函数，叫做闭包函数。闭包：内部函数总是可以访问其所在的外部函数中声明的参数和变量，即使在其外部函数被返回（寿命终结）了之后。2、特点  让外部访问函数内部变量成为可能；  局部变量会常驻在内存中；  可以避免使用全局变量，防止全局变量污染； 过度使用 会造成内存泄漏（有一块内存空间被长期占用，而不被释放）</code></pre><h2 id="var，let-和-const-区别？"><a href="#var，let-和-const-区别？" class="headerlink" title="var，let 和 const 区别？"></a>var，let 和 const 区别？</h2><pre><code>一、var声明的变量会挂载在window上，而let和const声明的变量不会二、var声明变量存在变量提升，let和const不存在变量提升三、let和const声明形成块作用域四、同一作用域下let和const不能声明同名变量，而var可以五、暂存死区六、const　　1、一旦声明必须赋值,不能使用null占位。　　2、声明后不能再修改　　3、如果声明的是复合类型数据，可以修改其属性</code></pre><h2 id="vue2-和-vue3-区别？"><a href="#vue2-和-vue3-区别？" class="headerlink" title="vue2 和 vue3 区别？"></a>vue2 和 vue3 区别？</h2><pre><code>1. 数据双向绑定方面vue2 的双向数据绑定是利用ES5 的一个 API ，Object.definePropert()对数据进行劫持 结合 发布订阅模式的方式来实现的。vue3 中使用了 es6 的 ProxyAPI 对数据代理，通过 reactive() 函数给每一个对象都包一层 Proxy，通过 Proxy 监听属性的变化，从而实现对数据的监控。2. Vue 3 的 Template 支持多个根标签，Vue 2 不支持3. slot具名插槽的使用vue2中的用法:父组件使用slot=插槽名vue3中子组件用法不变，父组件需要使用v-slot:插槽名</code></pre><h2 id="Echarts-？"><a href="#Echarts-？" class="headerlink" title="Echarts ？"></a>Echarts ？</h2><pre><code>Echarts:ECharts 是一个使用 JavaScript 实现的开源可视化库，涵盖各行业图表，满足各种需求。</code></pre><h2 id="数组去重？"><a href="#数组去重？" class="headerlink" title="数组去重？"></a>数组去重？</h2><pre><code>一、利用ES6 Set去重（ES6中最常用）function unique (arr) {  return Array.from(new Set(arr))}var arr = [1,1,'true','true',true,true,15,15,false,false, undefined,undefined, null,null, NaN, NaN,'NaN', 0, 0, 'a', 'a',{},{}];console.log(unique(arr))&nbsp;//[1, "true", true, 15, false, undefined, null, NaN, "NaN", 0, "a", {}, {}]二、[...new Set(arr)][...new Set(arr)]//代码就是这么少----（其实，严格来说并不算是一种，相对于第一种方法来说只是简化了代码）</code></pre><h2 id="数组方法和遍历方法？"><a href="#数组方法和遍历方法？" class="headerlink" title="数组方法和遍历方法？"></a>数组方法和遍历方法？</h2><pre><code>数组遍历方法1.for循环2.foreach循环3. map循环4.forof遍历5.filter遍历6.every遍历7.some遍历8.reduce求和数组方法1 arr.push()：从后面添加元素，返回值为添加完后的数组的长度2 arr.pop()：从后面删除元素，只能是一个，返回值是删除的元素3 arr.shift()：从前面删除元素，只能删除一个 返回值是删除的元素4 arr.unshift()：从前面添加元素, 返回值是添加完后的数组的长度5 arr.splice(i,n)：删除从i(索引值)开始之后的那个元素。返回值是删除的元素6 arr.concat()：连接两个数组 返回值为连接后的新数组7 str.split()：将字符串转化为数组8 arr.sort()：将数组进行排序,返回值是排好的数组，默认是按照最左边的数字进行排序，不是按照数字大小排序的。9 arr.reverse()：将数组反转,返回值是反转后的数组10 arr.slice(start,end)：切去索引值start到索引值end的数组，不包含end索引的值，返回值是切出来的数组</code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人面试记录一</title>
      <link href="2021/121015458.html"/>
      <url>2021/121015458.html</url>
      
        <content type="html"><![CDATA[<h2 id="简介篇"><a href="#简介篇" class="headerlink" title="简介篇"></a>简介篇</h2><p>自我简介:<br>面试官您好，我叫 xx，来自于 xx，目前在 it 行业已有 4 年经验，其中后端经验 1 年，前端经验 3 年，在项目中担任项目组长一职，&nbsp; 其职责主要有 2，其一是承担项目的开发任务，按计划分配小组任务目标，其次就是培养新人达到胜任工作水平；在此期间主要主导过 4 个项目，分别是星福生活管理平台兼星福生活 H5 开发，每车 U 货司机货主端 app 及管理平台，wms 仓库管理系统，及叽喳智慧社区,并带领团队参与过小程序的开发，看了一下贵公司这边的技术选型，很符合我这边的技术发展方向，希望能够得到这次工作机会，谢谢。</p><h2 id="一、Es6-新特性"><a href="#一、Es6-新特性" class="headerlink" title="一、Es6 新特性"></a>一、Es6 新特性</h2><ul><li><p>1.let:块级作用域</p></li><li><p>2.const:常量</p></li><li><p>3，箭头函数</p></li><li><p>4.模板字符串</p></li></ul><h2 id="二、-promise-作用"><a href="#二、-promise-作用" class="headerlink" title="二、 promise 作用"></a>二、 promise 作用</h2><p>promise：解决回调地狱问题，可用于异步处理（then, catch）</p><h2 id="三、-常见数组方法"><a href="#三、-常见数组方法" class="headerlink" title="三、 常见数组方法"></a>三、 常见数组方法</h2><p>for in ,for of ,forEach,map,filter,find 等等</p><h2 id="四、-什么是闭包，闭包的负面影响"><a href="#四、-什么是闭包，闭包的负面影响" class="headerlink" title="四、 什么是闭包，闭包的负面影响"></a>四、 什么是闭包，闭包的负面影响</h2><p>闭包：内部函数能够访问到外部函数的局部变量，优点其一，存在私有化空间，避免了全局变量的污染，其二，持久化内存，缺点就是由于闭包会持久化内存，闭包过度使用，会造成内存泄漏</p><h2 id="五、-什么是跨域？什么是不跨域？"><a href="#五、-什么是跨域？什么是不跨域？" class="headerlink" title="五、 什么是跨域？什么是不跨域？"></a>五、 什么是跨域？什么是不跨域？</h2><p>一句话：同一个 ip、同一个网络协议、同一个端口，三者都满足就是同一个域，否则就是跨域问题了。而为什么开发者最初不直接定为一切可跨域的呢？默认的为什么都是不可跨域呢？这就涉及到了同源策略，为了系统的安全，由 Netscape 提出一个著名的安全策略。现在所有支持 JavaScript 的浏览器都会使用这个策略。</p><p>所谓同源是，域名，协议，端口相同。当我们在浏览器中打开百度和谷歌两个网站时，百度浏览器在执行一个脚本的</p><p>时候会检查这个脚本属于哪个页面的，即检查是否同源，只有和百度同源的脚本才会被执行，如果没有同源策略，那</p><p>随便的向百度中注入一个 js 脚本，弹个恶意广告，通过 js 窃取信息，这就很不安全了</p><h2 id="六、-跨域解决方法"><a href="#六、-跨域解决方法" class="headerlink" title="六、 跨域解决方法"></a>六、 跨域解决方法</h2><ul><li><p>使用 jsonp:用于实现跨域问题</p></li><li><p>代理</p></li><li><p>cors</p></li></ul><h2 id="七、get-和-post-区别"><a href="#七、get-和-post-区别" class="headerlink" title="七、get 和 post 区别"></a>七、get 和 post 区别</h2><p>（1）、安全性不同：get 安全性低，数据会出现 url 中，post 的所有操作对用户来说都是不可见的。</p><p>（2）、编码方式不同:，get 只能对 url 编码，而 post 支持多种编码方式</p><p>（3）、传输大小不同：Get 传送的数据量较小，这主要是因为受 URL 长度限制；Post 传送的数据量较大，一般被默认为不受限制。</p><p>（4）、执行效率不同：Get 执行效率却比 Post 方法好。Get 是 form 提交的默认方法。</p><h2 id="八、网页性能优化方案"><a href="#八、网页性能优化方案" class="headerlink" title="八、网页性能优化方案"></a>八、网页性能优化方案</h2><p>（1）代码优化</p><ul><li><p>a:js 代码模块化，公共方法提取</p></li><li><p>b:script 标签尽可能写在 body 下面</p></li></ul><p>（2）：http 请求优化</p><p>尽可能减少 http 重复请求次数</p><h2 id="九、什么是-Typescript"><a href="#九、什么是-Typescript" class="headerlink" title="九、什么是 Typescript"></a>九、什么是 Typescript</h2><p>Typescript 是 JavaScript 的超集， 是一种面向对象编程语言,强类型语言，你可以明确知道数据的类型。代码可读性极强</p><h2 id="十、react-介绍"><a href="#十、react-介绍" class="headerlink" title="十、react 介绍"></a>十、react 介绍</h2><ul><li><p>是什么：是构建用户界面的 js 库<br>优点：组件化编码，声明式开发，虚拟 Dom 及优秀的 diff 算法</p></li><li><p>jsx:类似 xml 的 js 扩展语法，是原始创建虚拟 Dom 的语法糖</p></li><li><p>key 作用;主要是判断两个节点是否相同，相同就复用，不同就删除创建新节点</p></li></ul><h2 id="十一、React-生命周期的三个大阶段"><a href="#十一、React-生命周期的三个大阶段" class="headerlink" title="十一、React 生命周期的三个大阶段"></a>十一、React 生命周期的三个大阶段</h2><ul><li><p>1.Mounting: 挂载阶段。(已插入真实 DOM)</p></li><li><p>2.Updation: 更新阶段。(正在被重新渲染)</p></li><li><p>3.Unmounting: 销毁阶段(已移出真实 DOM)</p></li></ul><h2 id="十一、React-生命周期新旧生命周期-补充"><a href="#十一、React-生命周期新旧生命周期-补充" class="headerlink" title="十一、React 生命周期新旧生命周期(补充)"></a>十一、React 生命周期新旧生命周期(补充)</h2><h4 id="旧："><a href="#旧：" class="headerlink" title="旧："></a>旧：</h4><ol><li>初始化阶段: 由 ReactDOM.render()触发—初次渲染</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">.</span>    <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">3</span><span class="token punctuation">.</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">4</span><span class="token punctuation">.</span>    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span><span class="token operator">==</span><span class="token operator">></span> 常用一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息</code></pre><ol start="2"><li>更新阶段: 由组件内部 this.setSate()或父组件 render 触发</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span> <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token comment" spellcheck="true">//子组件将要接收新的props的钩子</span><span class="token number">2</span><span class="token punctuation">.</span>    <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//控制组件更新的“阀门”</span><span class="token number">3</span><span class="token punctuation">.</span>    <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">4</span><span class="token punctuation">.</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span><span class="token operator">==</span><span class="token operator">></span> 必须使用的一个<span class="token number">5</span><span class="token punctuation">.</span>    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ol start="3"><li>卸载组件: 由 ReactDOM.unmountComponentAtNode()触发</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">===</span><span class="token operator">==</span><span class="token operator">></span> 常用一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息</code></pre><h4 id="新："><a href="#新：" class="headerlink" title="新："></a>新：</h4><ol><li>初始化阶段: 由 ReactDOM.render()触发—初次渲染</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">.</span>    <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">3</span><span class="token punctuation">.</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">4</span><span class="token punctuation">.</span>    <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span><span class="token operator">==</span><span class="token operator">></span> 常用一般在这个钩子中做一些初始化的事，例如：开启定时器、发送网络请求、订阅消息</code></pre><ol start="2"><li>更新阶段: 由组件内部 this.setSate()或父组件重新 render 触发</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">.</span>    <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">3</span><span class="token punctuation">.</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">4</span><span class="token punctuation">.</span>    <span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">5</span><span class="token punctuation">.</span>    <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ol start="3"><li>卸载组件: 由 ReactDOM.unmountComponentAtNode()触发</li></ol><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">===</span><span class="token operator">==</span><span class="token operator">></span> 常用一般在这个钩子中做一些收尾的事，例如：关闭定时器、取消订阅消息</code></pre><h3 id="新的和旧的生命周期来看，去除了-3-个带-will-的钩子，添加了两个钩子"><a href="#新的和旧的生命周期来看，去除了-3-个带-will-的钩子，添加了两个钩子" class="headerlink" title="新的和旧的生命周期来看，去除了 3 个带 will 的钩子，添加了两个钩子"></a>新的和旧的生命周期来看，去除了 3 个带 will 的钩子，添加了两个钩子</h3><p>去除了 3 个钩子为</p><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">.</span>    <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">3</span><span class="token punctuation">.</span>    <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>添加的两个钩子为</p><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>    <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//若state的值在任何时候都取决于props，那么可以使用getDerivedStateFromProps</span><span class="token number">2</span><span class="token punctuation">.</span>    <span class="token function">cgetSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//在更新之前获取快照</span></code></pre><h2 id="十二、React-常用钩子"><a href="#十二、React-常用钩子" class="headerlink" title="十二、React 常用钩子"></a>十二、React 常用钩子</h2><ul><li><p>数据接收 实现继承 super(props) :constructor</p></li><li><p>渲染组件 和 html 标签：render</p></li><li><p>组件将要挂载时触发的函数：componentWillMount</p></li><li><p>组件挂载完成时触发的函数：componentDidMount</p></li><li><p>是否要更新数据时触发的函数（检测组件内的变化 可以用作页面性能的优化(默认值为 true)）：shouldComponentUpdate</p></li></ul><h2 id="十三、redux"><a href="#十三、redux" class="headerlink" title="十三、redux"></a>十三、redux</h2><ul><li><p>是什么：redux 是一个专门用于状态管理的 js 库（本质就是一个 js 库）</p></li><li><p>作用：集中式状态管理，在 react 中用于多个组件共享状态</p></li><li><p>三个核心：action (动作对象) ，store,<br>reducer</p></li><li><p>流程（白话）：比如要开发一个计算器功能，那么我就定义一个 Count 组件，然后我现在需求要加 2，那么我就把这个需求交给动作对象 action,随后动作对象 action 分发 dispatch,dispatch 就是一个普通对象，包含两个属性，一个 type,一个 data.type 用于标识你要做的事情（这里是“加”），data 是数据属性（这里是“2”），得到这个对象后，随后传递给 store,这个时候 store 需要一个 api 创建，也就是 creatStore(),创建好 store 后，立马传递给 reducer,reducer 是一个纯函数，接受两个参数，一个是之前的状态值，一个是动作对象，reducer 加工后返回一个新的状态值给 store,Count 通过另一个 api,getState()来拿到此时存在 store 的新的状态值</p></li></ul><p>角色理解：Count 就相当于（客人），客人吃饭点菜找 action(服务员)，服务员将客人点菜信息给 store（前台）,前台将点菜信息立马给 reducer（后厨），后厨把加工好的菜给前台，前台报编号，客人来取菜</p><h2 id="十四、hooks-是什么？"><a href="#十四、hooks-是什么？" class="headerlink" title="十四、hooks 是什么？"></a>十四、hooks 是什么？</h2><p>简单介绍下什么是 hooks，hooks 产生的背景？hooks 的优点？<br>hooks 是针对在使用 react 时存在以下问题而产生的：</p><p>组件之间复用状态逻辑很难，在 hooks 之前，实现组件复用，一般采用高阶组件和 Render Props，它们本质是将复用逻辑提升到父组件中，很容易产生很多包装组件，带来嵌套地域。<br>组件逻辑变得越来越复杂，尤其是生命周期函数中常常包含一些不相关的逻辑，完全不相关的代码却在同一个方法中组合在一起。如此很容易产生 bug，并且导致逻辑不一致。<br>复杂的 class 组件，使用 class 组件，需要理解 JavaScript 中 this 的工作方式，不能忘记绑定事件处理器等操作，代码复杂且冗余。除此之外，class 组件也会让一些 react 优化措施失效。<br>针对上面提到的问题，react 团队研发了 hooks，它主要有两方面作用：</p><p>用于在函数组件中引入状态管理和生命周期方法<br>取代高阶组件和 render props 来实现抽象和可重用性<br>优点也很明显：</p><p>避免在被广泛使用的函数组件在后期迭代过程中，需要承担一些副作用，而必须重构成类组件，它帮助函数组件引入状态管理和生命周期方法。<br>Hooks 出现之后，我们将复用逻辑提取到组件顶层，而不是强行提升到父组件中。这样就能够避免 HOC 和 Render Props 带来的「嵌套地域」<br>避免上面陈述的 class 组件带来的那些问题</p><h2 id="十五、介绍下常用的-hooks？"><a href="#十五、介绍下常用的-hooks？" class="headerlink" title="十五、介绍下常用的 hooks？"></a>十五、介绍下常用的 hooks？</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// 我们实现一个简易版的useState</span><span class="token keyword">let</span> memoizedStates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 多个useState 时需要使用数组来存</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialState<span class="token punctuation">)</span> <span class="token punctuation">{</span>  memoizedStates<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> memoizedStates<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">||</span> initialState<span class="token punctuation">;</span>  <span class="token keyword">let</span> currentIndex <span class="token operator">=</span> index<span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function">setState</span><span class="token punctuation">(</span>newState<span class="token punctuation">)</span> <span class="token punctuation">{</span>    memoizedStates<span class="token punctuation">[</span>currentIndex<span class="token punctuation">]</span> <span class="token operator">=</span> newState<span class="token punctuation">;</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span>memoizedStates<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> setState<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><p>useState()，状态钩子。为函数组建提供内部状态</p></li><li><p>useContext()，共享钩子。该钩子的作用是，在组件之间共享状态。 可以解决 react 逐层通过 Porps 传递数据，它接受 React.</p></li><li><p>createContext()的返回结果作为参数，使用 useContext 将不再需要 Provider 和 Consumer。</p></li><li><p>useReducer()，Action 钩子。useReducer() 提供了状态管理，其基本原理是通过用户在页面中发起 action, 从而通过 reducer 方法来改变 state, 从而实现页面和状态的通信。使用很像 redux</p></li><li><p>useEffect()，副作用钩子。它接收两个参数， 第一个是进行的异步操作， 第二个是数组，用来给出 Effect 的依赖项</p></li><li><p>useRef()，获取组件的实例；渲染周期之间共享数据的存储(state 不能存储跨渲染周期的数据，因为 state 的保存会触发组件重渲染）<br>useRef 传入一个参数 initValue，并创建一个对象{ current: initValue }给函数组件使用，在整个生命周期中该对象保持不变。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react受控组件和非受控组件</title>
      <link href="2021/12081233.html"/>
      <url>2021/12081233.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、受控组件"><a href="#一、受控组件" class="headerlink" title="一、受控组件"></a>一、受控组件</h2><p>在 HTML 中，表单元素的标签</p><p><code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code>、<code>&lt;select&gt;</code>等的值改变通常是根据用户输入进行更新。而在 React 中，可变状态（mutable state）通常保存在组件的 state 属性中，并且只能通过使用 setState()来更新，以这种由 React 控制的输入表单元素而改变其值的方式，称为受控组件。</p><ul><li>比如，给表单元素 input 绑定一个 onChange 事件，当 input 状态发生变化时就会触发 onChange 事件，从而更新组件的 state。</li></ul><p>下面就举一个 input 输入框的例子来进一步了解下：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Fragment <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Demohooks</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>  state <span class="token operator">=</span> <span class="token punctuation">{</span>    ChangeValue<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  onChangeInput <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      ChangeValue<span class="token punctuation">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>Fragment<span class="token operator">></span>        <span class="token operator">&lt;</span>h1<span class="token operator">></span>受控组件<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>        用户名：        <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>ChangeValue<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onChangeInput<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>Fragment<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><ul><li><p>每当输入框的输入内容发生变化时，都会被写入到组件的 state 中，这种 组件在 React 中被理解为受控组件。</p></li><li><p>受控组件的值，始终是由 React 的 state 驱动的。</p></li><li><p>这种组件的数据是由 React 组件进行管理的，所以在大多数情况下，官方推荐使用受控组件。</p></li></ul><p>接下来让我们去了解下受控组件更新 state 的简要流程：</p><p>ChangeValue 开始是空字符串’’，当键入 1，并 handleNameChange 获取 1 和调用 setState。然后，该输入被重新呈现为具有的值 1。<br>当键入 2，handleNameChange 获取 12 并设置该状态的值。现在再次重新渲染输入 value=”12”。<br>这也意味着表单组件可以立即响应输入更改;</p><p>可见效果：</p><p>当注释 this.setState({ChangeValue: e.target.value}); 这行代码，文本框再次输入时，页面不会重新渲染，所产生效果即是文本框输入不了值，即文本框值的改变受到 setState()方法的控制，在未执行时，不重新渲染组件。</p><h2 id="二、非受控组件"><a href="#二、非受控组件" class="headerlink" title="二、非受控组件"></a>二、非受控组件</h2><p>在官网的简述为：要编写一个非受控组件，而不是为每个状态更新都编写数据处理函数，你可以使用 ref 来从 DOM 节点中获取表单数据。<br>因为非受控组件将真实数据储存在 DOM 节点中，所以在使用非受控组件时，有时候反而更容易同时集成 React 和非 React 代码。如果你不介意代码美观性，并且希望快速编写代码，使用非受控组件往往可以减少你的代码量。否则，你应该使用受控组件。</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>1_非受控组件<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>        <span class="token comment" spellcheck="true">//创建组件</span>        <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>            handleSubmit <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//阻止表单提交</span>                <span class="token keyword">const</span> <span class="token punctuation">{</span>username<span class="token punctuation">,</span>password<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`你输入的用户名是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>username<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,你输入的密码是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>password<span class="token punctuation">.</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">return</span><span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>                        用户名：<span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token punctuation">{</span>c <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> c<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">/</span><span class="token operator">></span>                        密码：<span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token punctuation">{</span>c <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> c<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token string">"password"</span> name<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">/</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>button<span class="token operator">></span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//渲染组件</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Login<span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><ul><li><p>输入框输入的值，存储在了 DOM 节点中</p></li><li><p>然后通过 ref 来获取该 DOM 节点取值</p></li><li><p>现用现取</p></li></ul><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>非受控组件： 页面中所有输入类的 DOM 如果是现用现取的称为非受控组件，</p><p>受控组件：通过 setState 将输入的值维护到了 state 中，需要时再从 state 中取出，这里的数据就受到了 state 的控制，称为受控组件。</p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS防抖和节流</title>
      <link href="2021/120712612.html"/>
      <url>2021/120712612.html</url>
      
        <content type="html"><![CDATA[<p>防抖和节流是一个面试过程中被面频率非常高的，为此来总结一下，加强对防抖和节流的认识。</p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E4%BD%9C%E7%94%A8">防抖和节流作用</a></li><li><a href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E5%8C%BA%E5%88%AB">防抖和节流区别</a></li><li><a href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF">防抖和节流适用场景</a></li><li><a href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E7%9A%84%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0">防抖和节流的代码实现</a></li><li><a href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81%E7%9A%84%E7%94%9F%E6%B4%BB%E5%9C%BA%E6%99%AF%E7%90%86%E8%A7%A3">防抖和节流的生活场景理解</a></li><li><a href="#%E6%B1%87%E6%80%BB">汇总</a></li></ul><h2 id="防抖和节流作用"><a href="#防抖和节流作用" class="headerlink" title="防抖和节流作用"></a>防抖和节流作用</h2><ul><li>防抖和节流的作用都是防止用户频繁操作事件函数多次调用。它们都是用来提升前端性能，减轻浏览器压力。</li></ul><h2 id="防抖和节流区别"><a href="#防抖和节流区别" class="headerlink" title="防抖和节流区别"></a>防抖和节流区别</h2><p><strong>防抖重在重置清零，节流重在开关锁</strong></p><ul><li><p>防抖：高频事件触发，n 秒内函数只能执行一次，如果在 n 秒内这个事件再次被触发的话，那么会重新计算时间（代码实现重在清零 clearTimeout。）</p></li><li><p>节流：高频事件触发，但在 n 秒内只会执行一次，所以节流会稀释函数的执行频率（代码实现重在开锁关锁 timer=timeout; timer=null）</p></li></ul><h2 id="防抖和节流适用场景"><a href="#防抖和节流适用场景" class="headerlink" title="防抖和节流适用场景"></a>防抖和节流适用场景</h2><ul><li>防抖适用场景：</li></ul><ol><li>登录、发短信等按钮避免用户点击太快，以致于发送了多次请求，需要防抖。</li><li>调整浏览器窗口大小时，resize 次数过于频繁，造成计算过多，此时需要一次到位，就用到了防抖。</li><li>文本编辑器实时保存，当无任何更改操作一秒后进行保存。</li></ol><ul><li>节流适用场景：</li></ul><ol><li><p>scroll 事件，每隔一秒计算一次位置信息等</p></li><li><p>浏览器播放事件，每个一秒计算一次进度信息等</p></li><li><p>input 框实时搜索并发送请求展示下拉列表，每隔一秒发送一次请求 (也可做防抖)</p></li></ol><h2 id="防抖和节流的代码实现"><a href="#防抖和节流的代码实现" class="headerlink" title="防抖和节流的代码实现"></a>防抖和节流的代码实现</h2><ol><li>防抖代码实现</li></ol><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ol start="2"><li>节流代码实现</li></ol><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> timer<span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token function">f</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>      timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="防抖和节流的生活场景理解"><a href="#防抖和节流的生活场景理解" class="headerlink" title="防抖和节流的生活场景理解"></a>防抖和节流的生活场景理解</h2><ol><li>防抖生活场景理解</li></ol><p>场景 1. 做电梯，电梯会等没人进来了，再等一会，才关闭；</p><p>场景 2. input 输入框，输入内容搜索，在停下输入过一会后，才发起请求获取匹配的数据；</p><p>场景 3. 玩游戏读条，只有读条结束才可以输出，如果读条被打断，要重新读条</p><ol start="2"><li>节流生活场景理解</li></ol><p>场景 1. 看电影，每秒有 24 帧，意思是每 1 秒的动画，播放了 24 张连续的图片；</p><p>场景 2. 滚动条加载更多，监听滚动条位置时，设置每 1s 监听一次，而不是无限次监听；</p><p>场景 3. 节流相当于玩游戏某技能的 cd，cd 时间未到不会执行</p><h2 id="汇总"><a href="#汇总" class="headerlink" title="汇总"></a>汇总</h2><p>函数防抖的时候,每次调用事件都是在正常执行暂停后一段时间</p><p>函数节流的时候,则是每隔一定的时间间隔就触发一次</p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue常见面试题</title>
      <link href="2021/101215001.html"/>
      <url>2021/101215001.html</url>
      
        <content type="html"><![CDATA[<h2 id="vue-的优点"><a href="#vue-的优点" class="headerlink" title="vue 的优点"></a>vue 的优点</h2><ol><li>轻量级框架，只关心视图层</li><li>组件化编码</li><li>简单易学，国人开发（尤雨溪），中文文档</li><li>双向数据绑定，保留了 angular 的特点，在数据操作方面更为简单；</li><li>虚拟 dom,不在使用原生的 dom 操作节点，极大解放 dom 操作</li></ol><h2 id="父组件向子组件传递事件？"><a href="#父组件向子组件传递事件？" class="headerlink" title="父组件向子组件传递事件？"></a>父组件向子组件传递事件？</h2><ul><li>通过 props</li></ul><h2 id="子组件像父组件传递事件？"><a href="#子组件像父组件传递事件？" class="headerlink" title="子组件像父组件传递事件？"></a>子组件像父组件传递事件？</h2><p>通过$emit（）方法</p><h3 id="例如：子组件"><a href="#例如：子组件" class="headerlink" title="例如：子组件"></a>例如：子组件</h3><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"train-city"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>h3<span class="token operator">></span>父组件传给子组件的toCity<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">{</span>sendData<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">></span>    <span class="token operator">&lt;</span>br<span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">'select(`上海`)'</span><span class="token operator">></span>点击此处将‘上海’发射给父组件<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'trainCity'</span><span class="token punctuation">,</span>    props<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'sendData'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 用来接收父组件传给子组件的数据</span>    methods<span class="token punctuation">:</span><span class="token punctuation">{</span>      <span class="token function">select</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>          cityname<span class="token punctuation">:</span> val        <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'showCityName'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//select事件触发后，自动触发showCityName事件</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h3 id="例如：父组件"><a href="#例如：父组件" class="headerlink" title="例如：父组件"></a>例如：父组件</h3><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"train-city"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>train<span class="token operator">-</span>city @showCityName<span class="token operator">=</span><span class="token string">"updateCity"</span> <span class="token punctuation">:</span>sendData<span class="token operator">=</span><span class="token string">"toCity"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>train<span class="token operator">-</span>city<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span><span class="token string">'index'</span><span class="token punctuation">,</span>    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>TrainCity<span class="token punctuation">}</span><span class="token punctuation">,</span>    data <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">{</span>        toCity<span class="token punctuation">:</span><span class="token string">"北京"</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    methods<span class="token punctuation">:</span><span class="token punctuation">{</span>      <span class="token function">updateCity</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//触发子组件城市选择-选择城市的事件</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>toCity <span class="token operator">=</span> data<span class="token punctuation">.</span>cityname<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//改变了父组件的值</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'toCity:'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>toCity<span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h2 id="为什么使用-key"><a href="#为什么使用-key" class="headerlink" title="为什么使用 key?"></a>为什么使用 key?</h2><ul><li>使用 key 一般用来给每个节点做一个唯一标识，Diff 算法就可以正确的识别此节点。<br>作用主要是比较两个节点是否相同，相同就复用，不相同就删除并创建新的节点，目的是为了高效的更新虚拟 DOM。</li></ul><h2 id="v-show-和-v-if-指令的共同点和不同点？"><a href="#v-show-和-v-if-指令的共同点和不同点？" class="headerlink" title="v-show 和 v-if 指令的共同点和不同点？"></a>v-show 和 v-if 指令的共同点和不同点？</h2><ul><li><p>相同点：v-show 和 v-if 都能控制元素的显示和隐藏</p></li><li><p>不同点：v-show 和 v-if 控制元素的显示和隐藏的本质方法不同，v-show 是通过 css 中的 display 设置为 none 来控制显示隐藏，只编译一次；v-if 是动态的向 DOM 树内添加或者删除 DOM 元素，频繁使用 v-if，会比较消耗性能。</p><p><strong>总结</strong>：如果要频繁切换某节点，使用 v-show(切换开销比较小，初始开销较大)。如果不需要频繁切换某节点使用 v-if（初始渲染开销较小，切换开销比较大）。</p></li></ul><h2 id="scoped-的作用？"><a href="#scoped-的作用？" class="headerlink" title="scoped 的作用？"></a>scoped 的作用？</h2><ul><li>确保样式只针对当前组件，让 CSS 只在当前组件中起作用。</li></ul><h2 id="vue-中-ref-的作用及使用方法"><a href="#vue-中-ref-的作用及使用方法" class="headerlink" title="vue 中 ref 的作用及使用方法"></a>vue 中 ref 的作用及使用方法</h2><ul><li>作用：获取本页面的 dom 元素</li><li>用法：this.$refs.domName</li></ul><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token string">"testDom"</span><span class="token operator">></span><span class="token number">111</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"isClick"</span><span class="token operator">></span>点击获取dom节点<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>      <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        el<span class="token punctuation">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>        data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>          <span class="token function">isClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>testDom<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//&lt;div >111&lt;/div></span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre><h2 id="说出几种-vue-当中的指令和它的用法"><a href="#说出几种-vue-当中的指令和它的用法" class="headerlink" title="说出几种 vue 当中的指令和它的用法"></a>说出几种 vue 当中的指令和它的用法</h2><ul><li><p>v-modle:双向数据绑定</p></li><li><p>v-html:用于输出 html，它与 v-text 区别在于 v-text 输出的是纯文本，浏览器不会对其再进行 html 解析，但 v-html 会将其当 html 标签解析后输出。可能会导致 xss 攻击。一定要在可信的内容上使用 v-html，表单提交慎用）</p></li><li><p>v-text:用于操作纯文本，它会替代显示对应的数据对象上的值。当绑定的数据对象上的值发生改变，插值处的内容也会随之更新。v-text 支持逻辑运算。</p></li><li><p>v-on:主要用于事件绑定</p></li><li><p>v-bind:主要用于属性绑定，比方你的 class 属性，style 属性，value 属性，href 属性等等，只要是属性，就可以用 v-bind 指令进行绑定</p></li><li><p>v-model 通常用于表单组件的绑定，例如 input，select 等。它与 v-text 的区别在于它实现的表单组件的双向绑定，如果用于表单控件以外标签是没有用的。v-model 用于表单数据的双向绑定，其实它就是一个语法糖，这个背后就做了两个操作：<br>（1）v-bind 绑定一个 value 属性；<br>（2）v-on 指令给当前元素绑定 input 事件。</p></li><li><p>v-once: 只绑定一次。</p></li></ul><h2 id="vue-loader-是什么？使用它的用途有哪些？"><a href="#vue-loader-是什么？使用它的用途有哪些？" class="headerlink" title="vue-loader 是什么？使用它的用途有哪些？"></a>vue-loader 是什么？使用它的用途有哪些？</h2><p>答：vue 文件的一个加载器，将 template/js/style 转换成 js 模块。<br>用途：js 可以写 es6、style 样式可以 scss 或 less、template 可以加 jade 等</p><h2 id="vue-组件中-data-为什么必须是一个函数？-作用：使每个组件实例数据互不影响-🇺"><a href="#vue-组件中-data-为什么必须是一个函数？-作用：使每个组件实例数据互不影响-🇺" class="headerlink" title="vue 组件中 data 为什么必须是一个函数？(作用：使每个组件实例数据互不影响 🇺)"></a>vue 组件中 data 为什么必须是一个函数？(作用：使每个组件实例数据互不影响 🇺)</h2><ul><li>因为 JavaScript 的特性所导致，在 component 中，data 必须以函数的形式存在，不可以是对象。<br>　　组建中的 data 写成一个函数，数据以函数返回值的形式定义，这样每次复用组件的时候，都会返回一份新的 data，相当于每个组件实例都有自己私有的数据空间，它们只负责各自维护的数据，不会造成混乱。而单纯的写成对象形式，就是所有的组件实例共用了一个 data，这样改一个全都改了。</li></ul><h2 id="Vue-中双向数据绑定是如何实现的？"><a href="#Vue-中双向数据绑定是如何实现的？" class="headerlink" title="Vue 中双向数据绑定是如何实现的？"></a>Vue 中双向数据绑定是如何实现的？</h2><ul><li>vue 双向数据绑定是通过 数据劫持 结合 发布订阅模式的方式来实现的， 也就是说数据和视图同步，数据发生变化，视图跟着变化，视图变化，数据也随之发生改变；<br>核心：关于 VUE 双向数据绑定，其核心是 Object.defineProperty()方法。</li></ul><h2 id="v-if-和-v-for-的优先级"><a href="#v-if-和-v-for-的优先级" class="headerlink" title="v-if 和 v-for 的优先级"></a>v-if 和 v-for 的优先级</h2><ul><li>当 v-if 与 v-for 一起使用时，v-for 具有比 v-if 更高的优先级，这意味着 v-if 将分别重复运行于每个 v-for 循环中。所以，不推荐 v-if 和 v-for 同时使用。<br>如果 v-if 和 v-for 一起用的话，vue 中会自动提示 v-if 应该放到外层去。</li></ul><h2 id="static-和-assets-的区别"><a href="#static-和-assets-的区别" class="headerlink" title="static 和 assets 的区别"></a>static 和 assets 的区别</h2><ul><li><p>相同点：assets 和 static 两个都是用于存放静态资源文件。</p></li><li><p>不同点：放在 static 中的文件不会进行构建编译处理，也就不会压缩体积，在打包时效率会更高，但体积更大在服务器中就会占据更大的空间；放在 assets 中的文件会进行压缩体积、代码格式化，压缩后会放置在 static 中一同上传服务器。</p></li><li><p>总结：因此建议样式文件放在 assets 中进行打包，引入的第三方文件放到 static 中，因为引入的文件已经做过打包处理。</p></li></ul><h2 id="单页面应用（SPA）首屏加载慢如何解决"><a href="#单页面应用（SPA）首屏加载慢如何解决" class="headerlink" title="单页面应用（SPA）首屏加载慢如何解决"></a>单页面应用（SPA）首屏加载慢如何解决</h2><ul><li>安装动态懒加载所需插件；使用 CDN 资源。</li></ul><h2 id="Vue-router-跳转和-location-href-有什么区别"><a href="#Vue-router-跳转和-location-href-有什么区别" class="headerlink" title="Vue-router 跳转和 location.href 有什么区别"></a>Vue-router 跳转和 location.href 有什么区别</h2><ul><li>使用 location.href=’/url’来跳转，简单方便，但是刷新了页面；<br>使用 history.pushState(‘/url’)，无刷新页面，静态跳转；<br>引进 router，然后使用 router.push(‘/url’)来跳转，使用了 diff 算法，实现了按需加载，减少了 dom 的消耗。<br>其实使用 router 跳转和使用 history.pushState()没什么差别的，因为 vue-router 就是用了 history.pushState()，尤其是在 history 模式下。</li></ul><h2 id="vue-路由传递参数-params-和-query-的区别"><a href="#vue-路由传递参数-params-和-query-的区别" class="headerlink" title="vue 路由传递参数,params 和 query 的区别"></a>vue 路由传递参数,params 和 query 的区别</h2><p>答：用法：query 要用 path 来引入，params 要用 name 来引入，接收参数都是类似的，分别是 this.$route.query.name和this.$route.params.name。<br>url 地址显示：query 更加类似于我们 ajax 中 get 传参，params 则类似于 post，说的再简单一点，前者在浏览器地址栏中显示参数，后者则不显示<br>注意点：query 刷新不会丢失 query 里面的数据<br>params 刷新 会 丢失 params 里面的数据。</p><h2 id="vue-常用的-UI-组件库"><a href="#vue-常用的-UI-组件库" class="headerlink" title="vue 常用的 UI 组件库"></a>vue 常用的 UI 组件库</h2><ul><li>移动端：Mint UI，VUX</li><li>客户端：element</li></ul><h2 id="watch-和-computed-区别-及二者使用场景"><a href="#watch-和-computed-区别-及二者使用场景" class="headerlink" title="watch 和 computed 区别 及二者使用场景"></a>watch 和 computed 区别 及二者使用场景</h2><ul><li>1、区别：<br>watch 中的函数是不需要调用的<br>computed 内部的函数调用的时候不需要加()</li></ul><p>watch 属性监听 监听属性的变化<br>computed:计算属性通过属性计算而得来的属性</p><p>watch 需要在数据变化时执行异步或开销较大的操作时使用<br>对于任何复杂逻辑或一个数据属性在它所依赖的属性发生变化时，也要发生变化，这种情况下，我们最好使用计算属性 computed。</p><p>computed 属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算。主要当作属性来使用；</p><p>computed 中的函数必须用 return 返回最终的结果</p><p>当 computed 中的函数所依赖的属性如果没有发生改变的时候，那么调用当前函数的时候结果会从缓存中读取</p><p>watch 一个对象，键是需要观察的表达式，值是对应回调函数。主要用来监听某些特定数据的变化，从而进行某些具体的业务逻辑操作；</p><ul><li>2、使用场景：<br>computed 　　　　<br>　　　　当一个属性受多个属性影响的时候就需要用到 computed<br>　　　　最典型的例子： 购物车商品结算的时候<br>watch<br>　　　　当一条数据影响多条数据的时候就需要用 watch<br>　　　　搜索数据</li></ul><h2 id="单页面应用和多页面应用区别及优缺点"><a href="#单页面应用和多页面应用区别及优缺点" class="headerlink" title="单页面应用和多页面应用区别及优缺点"></a>单页面应用和多页面应用区别及优缺点</h2><p>单页面应用（SPA），通俗一点说就是指只有一个主页面的应用，浏览器一开始要加载所有必须的 html, js, css。所有的页面内容都包含在这个所谓的主页面中。但在写的时候，还是会分开写（页面片段），然后在交互的时候由路由程序动态载入，单页面的页面跳转，仅刷新局部资源。多应用于 pc 端。<br>多页面（MPA），就是指一个应用中有多个页面，页面跳转时是整页刷新</p><h5 id="单页面的优点："><a href="#单页面的优点：" class="headerlink" title="单页面的优点："></a>单页面的优点：</h5><p>1，用户体验好，快，内容的改变不需要重新加载整个页面，基于这一点 spa 对服务器压力较小</p><p>2，前后端分离</p><p>3，页面效果会比较炫酷（比如切换页面内容时的专场动画）</p><h5 id="单页面缺点："><a href="#单页面缺点：" class="headerlink" title="单页面缺点："></a>单页面缺点：</h5><p>1，不利于 seo</p><p>2，导航不可用，如果一定要导航需要自行实现前进、后退。（由于是单页面不能用浏览器的前进后退功能，所以需要自己建立堆栈管理）</p><p>3，初次加载时耗时多</p><p>4，页面复杂度提高很多</p><h2 id="简述-vue-每个周期具体适合哪些场景"><a href="#简述-vue-每个周期具体适合哪些场景" class="headerlink" title="简述 vue 每个周期具体适合哪些场景"></a>简述 vue 每个周期具体适合哪些场景</h2><p>vue 总共有十一个生命周期函数，8 个常见的和后来加的 3 个不太常用的。</p><p>beforeCreate</p><p>created</p><p>beforeMount</p><p>mounted</p><p>beforeUpdate</p><p>updated</p><p>beforeDestroy</p><p>destroyed</p><p>后三个不常用</p><p>activated</p><p>deactivated</p><p>errorCaptured</p><p>其中 8 个生命周期，分别在阶段创建前/后，载入前/后，更新前/后，销毁前/后。</p><ul><li>beforeCreate：在 new 一个 vue 实例后，只有一些默认的生命周期钩子和默认事件，其他的东西都还没创建。在 beforeCreate 生命周期执行的时候，data 和 methods 中的数据都还没有初始化。不能在这个阶段使用 data 中的数据和 methods 中的方法,因为数据代理还未开始（vue 实例的挂载元素$el 和数据对象 data 都为 undefined，还未初始化）</li><li>create：data 和 methods 都已经被初始化好了，如果要调用 methods 中的方法，或者操作 data 中的数据，最早可以在这个阶段中操作（vue 实例的数据对象 data 有了，$el 还没有。）</li><li>beforeMount：执行到这个钩子的时候，在内存中已经编译好了模板了，但是还没有挂载到页面中，此时，页面还是旧的（vue 实例的$el 和 data 都初始化了，但还是挂载之前为虚拟的 dom 节点，data.message 还未替换）</li><li>mounted：执行到这个钩子的时候，就表示 Vue 实例已经初始化完成了。此时组件脱离了创建阶段，进入到了运行阶段。 一般在这个生命周期中开启定时器，发送网络请求，订阅消息，绑定自定义事件等初始化操作（vue 实例挂载完成，data.message 成功渲染。）</li><li>beforeUpdate： 当执行这个钩子时，数据是新的，但页面中的显示的数据还是旧的，data 中的数据是更新后的， 页面还没有和最新的数据保持同步</li><li>updated：页面显示的数据和 data 中的数据已经保持同步了，都是最新的</li><li>beforeDestory：Vue 实例从运行阶段进入到了销毁阶段，这个时候上所有的 data 和 methods ， 指令， 过滤器 ……都是处于可用状态。还没有真正被销毁</li><li>destroyed： 这个时候上所有的 data 和 methods ， 指令， 过滤器 ……都是处于不可用状态。组件已经被销毁了。</li></ul><h2 id="created-和-mounted-的区别"><a href="#created-和-mounted-的区别" class="headerlink" title="created 和 mounted 的区别"></a>created 和 mounted 的区别</h2><p>created:在模板渲染成 html 前调用，即通常初始化某些属性值，然后再渲染成视图。<br>mounted:在模板渲染成 html 后调用，通常是初始化页面完成后，再对 html 的 dom 节点进行一些需要的操作。</p><h2 id="mvvm-框架是什么？"><a href="#mvvm-框架是什么？" class="headerlink" title="mvvm 框架是什么？"></a>mvvm 框架是什么？</h2><p>MVVM 是一种设计思想，它是 Model-View-ViewModel 的缩写。它也是 MVC 的增强版。</p><ul><li>Model 是代表数据模型，也可以在 Model 中定义数据修改和操作的业务逻辑。</li><li>View 是代表 UI 组件，它负责将数据模型转化成 UI 展现出来。</li><li>ViewModel(视图模型) 是一个同步 View 和 Model 的对象。</li></ul><p>vue 是实现了双向数据绑定的 mvvm 框架，当视图改变更新模型层，当模型层改变更新视图层。在 vue 中，使用了双向绑定技术，就是 View 的变化能实时让 Model 发生变化，而 Model 的变化也能实时更新到 View。</p><h2 id="vue-router-是什么-它有哪些组件"><a href="#vue-router-是什么-它有哪些组件" class="headerlink" title="vue-router 是什么?它有哪些组件"></a>vue-router 是什么?它有哪些组件</h2><p>vue-router 用来写路由一个插件。router-link、router-view</p><h2 id="active-class-是哪个组件的属性？"><a href="#active-class-是哪个组件的属性？" class="headerlink" title="active-class 是哪个组件的属性？"></a>active-class 是哪个组件的属性？</h2><p>答：vue-router 模块的 router-link 组件。children 数组来定义子路由</p><h2 id="route-和-router-的区别"><a href="#route-和-router-的区别" class="headerlink" title="route 和 $router 的区别"></a>route 和 $router 的区别</h2><p>$router是VueRouter的实例，在script标签中想要导航到不同的URL,使用$router.push 方法。返回上一个历史 history 用$router.to(-1)<br>$route 为当前 router 跳转对象。里面可以获取当前路由的 name,path,query,parmas 等。</p><h2 id="vuex-是什么？怎么使用？哪种功能场景使用它？"><a href="#vuex-是什么？怎么使用？哪种功能场景使用它？" class="headerlink" title="vuex 是什么？怎么使用？哪种功能场景使用它？"></a>vuex 是什么？怎么使用？哪种功能场景使用它？</h2><p>答：vue 框架中状态管理。在 main.js 引入 store，注入。<br>新建了一个目录 store.js，….. export 。<br>场景有：单页应用中，组件之间的状态。音乐播放、登录状态、加入购物车</p>]]></content>
      
      
      <categories>
          
          <category> 前端面试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端面试 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>好的网站收藏</title>
      <link href="2021/09186783.html"/>
      <url>2021/09186783.html</url>
      
        <content type="html"><![CDATA[<h2 id="css-类"><a href="#css-类" class="headerlink" title="css 类"></a>css 类</h2><ul><li>1.纯 css 实现的一套页面元素、组件集：<a href="https://csslayout.iol/">https://csslayout.iol</a></li><li>2.CodePen：<a href="https://codepen.io/prathkum">https://codepen.io/prathkum</a></li><li>3.玻璃磨砂效果：https:/lglassgenerator.netlify.app</li><li>4.布条背景图生成器：<a href="http://stripesgenerator.coml/">http://stripesgenerator.coml</a></li><li>5.30 秒代码： <a href="https://www.30secondsofcode.org/csslp1">https://www.30secondsofcode.org/csslp1</a></li></ul><h2 id="js-代码片段"><a href="#js-代码片段" class="headerlink" title="js 代码片段"></a>js 代码片段</h2><ul><li><ol><li><a href="http://www.30secondsofcode.org/">www.30secondsofcode.org</a> （30 seconds of code）</li></ol></li><li><ol start="2"><li>1loc.dev （Favorite JavaScript Utilities</li></ol></li><li><ol start="3"><li><a href="https://juejin.cn/post/7025771605422768159">https://juejin.cn/post/7025771605422768159</a></li></ol></li><li><ol start="4"><li><a href="https://juejin.cn/post/7039142750503534599">https://juejin.cn/post/7039142750503534599</a></li></ol></li></ul><h2 id="网址大杂烩"><a href="#网址大杂烩" class="headerlink" title="网址大杂烩"></a>网址大杂烩</h2><ul><li><ol><li><a href="https://cxy521.com/index.html">https://cxy521.com/index.html</a></li></ol></li></ul><h2 id="面试网址集合"><a href="#面试网址集合" class="headerlink" title="面试网址集合"></a>面试网址集合</h2><ul><li><ol><li><a href="https://juejin.cn/post/6844904019165446158">https://juejin.cn/post/6844904019165446158</a></li></ol></li><li><ol start="2"><li><a href="https://vue3js.cn/interview/">https://vue3js.cn/interview/</a> vue 相关</li></ol></li><li><ol start="3"><li><a href="https://juejin.cn/post/7073869980411887652#heading-38">https://juejin.cn/post/7073869980411887652#heading-38</a> vue 相关</li></ol></li><li><ol start="4"><li><a href="https://juejin.cn/post/6936913689115099143">https://juejin.cn/post/6936913689115099143</a> css 相关</li></ol></li><li><ol start="5"><li><a href="https://fe.padding.me/#/">https://fe.padding.me/#/</a></li></ol></li><li><ol start="6"><li><a href="https://github.com/CavsZhouyou/Front-End-Interview-Notebook">https://github.com/CavsZhouyou/Front-End-Interview-Notebook</a></li></ol></li><li><ol start="7"><li><a href="https://lgwebdream.github.io/FE-Interview/">https://lgwebdream.github.io/FE-Interview/</a> 每日一题</li></ol></li></ul><h2 id="视频类"><a href="#视频类" class="headerlink" title="视频类"></a>视频类</h2><ul><li>1.预告片世界：<a href="https://www.yugaopian.cn/">https://www.yugaopian.cn/</a></li><li>2.33 台词：<a href="http://33.agilestudio.cn/">http://33.agilestudio.cn/</a></li><li>3.MixKit：<a href="https://mixkit.co/free-stock-video/">https://mixkit.co/free-stock-video/</a></li><li>4.Pexel：<a href="https://www.pexels.com/zh-cn/video/">https://www.pexels.com/zh-cn/video/</a></li><li>5.Videezy：<a href="https://www.videezy.com/">https://www.videezy.com/</a></li><li>6.VJShi：<a href="https://www.vjshi.com/">https://www.vjshi.com/</a></li></ul><h2 id="PPT-模板类"><a href="#PPT-模板类" class="headerlink" title="PPT 模板类"></a>PPT 模板类</h2><ul><li>1.51PPT 模板：<a href="http://www.51pptmoban.com/">http://www.51pptmoban.com/</a></li><li>2.优品 PPT：<a href="https://www.ypppt.com/">https://www.ypppt.com/</a></li><li>3.第一 PPT：<a href="http://www.1ppt.com/">http://www.1ppt.com/</a></li><li>4.叮当设计：<a href="https://www.dingdangsheji.com/">https://www.dingdangsheji.com/</a></li><li>5.PPT 超级市场：<a href="http://ppt.sotary.com/web/wxapp/index.html">http://ppt.sotary.com/web/wxapp/index.html</a></li></ul><h2 id="静态图片"><a href="#静态图片" class="headerlink" title="静态图片"></a>静态图片</h2><ul><li>1.PH：<a href="https://pxhere.com/">https://pxhere.com/</a></li><li>2.CC0 图片网：<a href="https://cc0.cn/">https://cc0.cn/</a></li><li>3.Foodiesfeed：<a href="https://www.foodiesfeed.com/">https://www.foodiesfeed.com/</a></li><li>4.Unplash：<a href="https://unsplash.com/">https://unsplash.com/</a></li><li>5.Pixabay：<a href="https://pixabay.com/">https://pixabay.com/</a></li></ul><h2 id="动态图"><a href="#动态图" class="headerlink" title="动态图"></a>动态图</h2><ul><li>1.Giphy：<a href="https://giphy.com/">https://giphy.com/</a></li><li>2.GfyCat：<a href="https://gfycat.com/">https://gfycat.com/</a></li><li>3.Tenor：<a href="https://tenor.com/">https://tenor.com/</a></li><li>4.GIF ABYSS：<a href="https://gifs.alphacoders.com/">https://gifs.alphacoders.com/</a></li><li>5.动图宇宙：<a href="https://biaoqingsoso.com/">https://biaoqingsoso.com/</a></li><li>6.Soogif：<a href="https://www.soogif.com/">https://www.soogif.com/</a></li><li>7.闪萌：<a href="http://www.weshineapp.com/">http://www.weshineapp.com/</a></li></ul><h2 id="壁纸类"><a href="#壁纸类" class="headerlink" title="壁纸类"></a>壁纸类</h2><ul><li>1.WallHaven：<a href="https://wallhaven.cc/">https://wallhaven.cc/</a></li><li>2.10Wallpaper：<a href="https://www.10wallpaper.com/">https://www.10wallpaper.com/</a></li><li>3.alphacoders：<a href="https://wall.alphacoders.com/?lang=Chinese">https://wall.alphacoders.com/?lang=Chinese</a></li><li>4.极简壁纸：<a href="https://bz.zzzmh.cn/index">https://bz.zzzmh.cn/index</a></li><li>5.3G 壁纸：<a href="https://www.3gbizhi.com/">https://www.3gbizhi.com/</a></li><li>6.必应壁纸：<a href="https://bing.ioliu.cn/">https://bing.ioliu.cn/</a></li></ul><h2 id="图标类"><a href="#图标类" class="headerlink" title="图标类"></a>图标类</h2><ul><li>1.阿里巴巴矢量图库：<a href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></li><li>2.Ikonate：<a href="https://ikonate.com/">https://ikonate.com/</a></li><li>3.iconstore：<a href="https://iconstore.co/">https://iconstore.co/</a></li><li>4.icoon：<a href="https://icooon-mono.com/">https://icooon-mono.com/</a></li><li>5.iconfinder：<a href="https://www.iconfinder.com/">https://www.iconfinder.com/</a></li></ul><h2 id="PSD-模板"><a href="#PSD-模板" class="headerlink" title="PSD 模板"></a>PSD 模板</h2><ul><li>1.素材中国：<a href="http://www.sccnn.com/">http://www.sccnn.com/</a></li><li>2.站长素材：<a href="https://sc.chinaz.com/psd/">https://sc.chinaz.com/psd/</a></li><li>3.365PSD：<a href="https://cn.365psd.com/free-psd">https://cn.365psd.com/free-psd</a></li><li>4.freepik：<a href="https://www.freepik.com/psd">https://www.freepik.com/psd</a></li><li>5.freebiesbug： <a href="https://freebiesbug.com/">https://freebiesbug.com/</a></li></ul><h2 id="音频类"><a href="#音频类" class="headerlink" title="音频类"></a>音频类</h2><ul><li>1.Mixkit：<a href="https://mixkit.co/free-stock-music/">https://mixkit.co/free-stock-music/</a></li><li>2.爱给网：<a href="https://www.aigei.com/">https://www.aigei.com/</a></li><li>3.淘声网：<a href="https://www.tosound.com/">https://www.tosound.com/</a></li><li>4.耳聆：<a href="https://www.ear0.com/">https://www.ear0.com/</a></li></ul><h2 id="学习网站"><a href="#学习网站" class="headerlink" title="学习网站"></a>学习网站</h2><ul><li>1.我要自学网，<a href="https://www.51zxw.net/">https://www.51zxw.net/</a></li><li>2.学堂在线，<a href="https://next.xuetangx.com/">https://next.xuetangx.com/</a></li><li>3.doyoudo, <a href="https://m.doyoudo.com/path/12">https://m.doyoudo.com/path/12</a></li><li>4.多邻国，<a href="https://www.duolingo.cn/">https://www.duolingo.cn/</a></li><li>5.迅捷画图(工具网站),<a href="https://www.liuchengtu.com/">https://www.liuchengtu.com/</a></li></ul><h2 id="未分类网站"><a href="#未分类网站" class="headerlink" title="未分类网站"></a>未分类网站</h2><ul><li><p>1.视频片头动画模板 <a href="https://panzoid.com/">https://panzoid.com/</a></p></li><li><p>2.在线抠图 <a href="https://www.remove.bg/">https://www.remove.bg/</a></p></li><li><p>3.字体下载 <a href="https://www.zitijia.com/">https://www.zitijia.com/</a></p></li><li><ol start="4"><li>p 站 （二次元插画网站） <a href="https://www.pixiv.net/">https://www.pixiv.net/</a></li></ol></li><li><p>5.论文下载 <a href="https://www.cn-ki.net/">https://www.cn-ki.net/</a></p></li><li><p>6.文档格式在线转换 <a href="https://smallpdf.com/">https://smallpdf.com/</a></p></li><li><p>7.录屏投屏 <a href="http://web.airdroid.com/">http://web.airdroid.com/</a></p></li><li><p>8.各大网站热榜 <a href="https://tophub.today/">https://tophub.today/</a></p></li><li><p>9.超清图片壁纸 <a href="https://www.pexels.com/">https://www.pexels.com/</a></p></li><li><p>10.找网站的网站 <a href="http://www.addog.vip/">http://www.addog.vip/</a></p></li><li><p>11.视频片头动画制作 https：//panzoid.com</p></li><li><p>12.在线抠图网站 https：//<a href="http://www.remove.bg/">www.remove.bg/</a></p></li><li><p>13.免费下载字体 https：//<a href="http://www.zitijia.com/">www.zitijia.com/</a></p></li><li><p>14.二次元插画 P 站 https：<a href="http://www.pixiv.net/">www.pixiv.net/</a></p></li><li><p>15.论文搜索免费下载 IDATA https：//<a href="http://www.cn-ki.net/">www.cn-ki.net/</a></p></li><li><p>16.文档格式在线转换（SmaLLPDF) <a href="https://smallpdf.com/">https://smaLLpdf.com/</a></p></li><li><p>17.文件传输、远程控制、直播录屏 <a href="https://web.airdroid.com/">https://web.airdroid.com/</a></p></li><li><p>18.今日热榜 各大网站榜单资讯—一站式推送 <a href="https://tophub.today/">https://tophub.today/</a></p></li><li><p>19.超清图片壁纸网站 pexels <a href="https://www.pexels.com/">https://www.pexels.com/</a></p></li><li><p>20.极品干货、打遍天下无敌手网站 <a href="https://www.addog.vip/">https://www.addog.vip/</a></p></li><li><p>21、在线公开课导航：<a href="http://coursegraph.com/navigation/">http://coursegraph.com/navigation/</a></p></li><li><p>22、全国图书馆参考咨询联盟：<a href="http://www.ucdrs.superlib.net/">http://www.ucdrs.superlib.net/</a></p></li><li><p>23、笔记本打印网站：mygraphpaper.com/</p></li><li><p>24、迅捷 pdf 转换器：app.xunjiepdf.com/</p></li><li><p>25、随机网站：sharkle.com/</p></li><li><p>26、极光绘画：weavesilk.com/</p></li><li><p>27、数字函数绘画：desmos.com/</p></li><li><p>28、千亿像素看中国：bigpixel.cn/</p></li><li><p>29、在线名字生成器：qmsjmfb.com/</p></li><li><p>30、二次元捏脸：picrew.me/</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 网站收藏 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 网站收藏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js数学及数组常见方法</title>
      <link href="2021/091812614.html"/>
      <url>2021/091812614.html</url>
      
        <content type="html"><![CDATA[<h2 id="js-数学相关常见方法"><a href="#js-数学相关常见方法" class="headerlink" title="js 数学相关常见方法"></a>js 数学相关常见方法</h2><h3 id="1-Math-max-Math-max-返回返回一组数中的最大值。"><a href="#1-Math-max-Math-max-返回返回一组数中的最大值。" class="headerlink" title="1.Math.max:Math.max()返回返回一组数中的最大值。"></a>1.Math.max:Math.max()返回返回一组数中的最大值。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> numb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span>numb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-1</span></code></pre><h3 id="2-Math-min-Math-min-返回返回一组数中的最小值。"><a href="#2-Math-min-Math-min-返回返回一组数中的最小值。" class="headerlink" title="2.Math.min:Math.min()返回返回一组数中的最小值。"></a>2.Math.min:Math.min()返回返回一组数中的最小值。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> numb <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>numb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//2</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-3</span></code></pre><h3 id="3-Math-pow-Math-pow-返回基数（base）的指数（exponent）次幂，如-2-的-3-次方。"><a href="#3-Math-pow-Math-pow-返回基数（base）的指数（exponent）次幂，如-2-的-3-次方。" class="headerlink" title="3.Math.pow():Math.pow()返回基数（base）的指数（exponent）次幂，如 2 的 3 次方。"></a>3.Math.pow():Math.pow()返回基数（base）的指数（exponent）次幂，如 2 的 3 次方。</h3><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//8</span></code></pre><h3 id="4。Math-ceil-函数返回大于或等于一个给定数字的最小整数。"><a href="#4。Math-ceil-函数返回大于或等于一个给定数字的最小整数。" class="headerlink" title="4。Math.ceil() 函数返回大于或等于一个给定数字的最小整数。"></a>4。Math.ceil() 函数返回大于或等于一个给定数字的最小整数。</h3><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-0</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6.001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token number">6.001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//7</span></code></pre><h3 id="5。Math-floor-返回小于或等于一个给定数字的最大整数。"><a href="#5。Math-floor-返回小于或等于一个给定数字的最大整数。" class="headerlink" title="5。Math.floor() 返回小于或等于一个给定数字的最大整数。"></a>5。Math.floor() 返回小于或等于一个给定数字的最大整数。</h3><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//0</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6.001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-7</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">6.001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6</span></code></pre><h3 id="6。Math-round-Math-round-方法四舍五入取"><a href="#6。Math-round-Math-round-方法四舍五入取" class="headerlink" title="6。Math.round:Math.round()方法四舍五入取"></a>6。Math.round:Math.round()方法四舍五入取</h3><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.99</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6.001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-6</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">6.001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//6</span></code></pre><h3 id="7-Math-random-Math-random-返回介于-0（包含）-1（不包含）-之间的一个随机数"><a href="#7-Math-random-Math-random-返回介于-0（包含）-1（不包含）-之间的一个随机数" class="headerlink" title="7.Math.random():Math.random()返回介于 0（包含） ~ 1（不包含） 之间的一个随机数"></a>7.Math.random():Math.random()返回介于 0（包含） ~ 1（不包含） 之间的一个随机数</h3><ul><li>得到一个两数之间的随机数(公式)</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getRandomArbitrary</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \<span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre><p><strong>实战（得到一个 3 到 13 的随机数）</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \<span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">13</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p>实战（得到一个 3 到 13 的随机整数）</p><h5 id="1-parseInt-方法-抛去小数部分，只取整数部分："><a href="#1-parseInt-方法-抛去小数部分，只取整数部分：" class="headerlink" title="1.parseInt()方法 抛去小数部分，只取整数部分："></a>1.parseInt()方法 抛去小数部分，只取整数部分：</h5><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \<span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">13</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h5 id="2-Math-round-方法四舍五入取整："><a href="#2-Math-round-方法四舍五入取整：" class="headerlink" title="2.Math.round()方法四舍五入取整："></a>2.Math.round()方法四舍五入取整：</h5><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \<span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">13</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h5 id="3，Math-floor-方法向下取整，整数部分值不变：："><a href="#3，Math-floor-方法向下取整，整数部分值不变：：" class="headerlink" title="3，Math.floor()方法向下取整，整数部分值不变：："></a>3，Math.floor()方法向下取整，整数部分值不变：：</h5><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \<span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">13</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h5 id="4，Math-ceil-方法向上取整，整数部分值-1"><a href="#4，Math-ceil-方法向上取整，整数部分值-1" class="headerlink" title="4，Math.ceil()方法向上取整，整数部分值+1"></a>4，Math.ceil()方法向上取整，整数部分值+1</h5><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> \<span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">13</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h2 id="js-数组相关常见方法"><a href="#js-数组相关常见方法" class="headerlink" title="js 数组相关常见方法"></a>js 数组相关常见方法</h2><h3 id="1-map-map-方法返回一个新数组，但不会改变原始数组"><a href="#1-map-map-方法返回一个新数组，但不会改变原始数组" class="headerlink" title="1.map:map() 方法返回一个新数组，但不会改变原始数组"></a>1.map:map() 方法返回一个新数组，但不会改变原始数组</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token keyword">const</span> result <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item \<span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//[ 2, 3, 4, 5, 6 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[4, 6, 8, 10, 12]</span></code></pre><h3 id="2-filter-filter-方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。"><a href="#2-filter-filter-方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。" class="headerlink" title="2.filter(): filter 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。"></a>2.filter(): filter 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> result1 <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> item <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 2, 3, 4, 5, 6 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 2, 3 ]</span></code></pre><h3 id="3-forEach-forEach-没有返回值-forEach-如果遍历基本数据类型，是不改变原数组，如果是引用类型-gt-类似对象数组是可以改变的"><a href="#3-forEach-forEach-没有返回值-forEach-如果遍历基本数据类型，是不改变原数组，如果是引用类型-gt-类似对象数组是可以改变的" class="headerlink" title="3.forEach(): forEach 没有返回值,forEach 如果遍历基本数据类型，是不改变原数组，如果是引用类型 -> 类似对象数组是可以改变的"></a>3.forEach(): forEach 没有返回值,forEach 如果遍历基本数据类型，是不改变原数组，如果是引用类型 -&gt; 类似对象数组是可以改变的</h3><h3 id="遍历基本数据类型"><a href="#遍历基本数据类型" class="headerlink" title="遍历基本数据类型"></a>遍历基本数据类型</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>num2<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span>item <span class="token operator">=</span> item \<span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ 2, 3, 4, 5, 6 ]</span></code></pre><h3 id="遍历引用类型"><a href="#遍历引用类型" class="headerlink" title="遍历引用类型"></a>遍历引用类型</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> objArr <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">"王力宏"</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span> <span class="token number">22</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">"林俊杰"</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span> <span class="token number">33</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>objArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">"王力宏"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    item<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">34</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ { name: '王力宏', age: 34 }, { name: '林俊杰', age: 33 } ]</span></code></pre><h3 id="4-every-every-方法用于检测数组所有元素是否都符合指定条件-结果返回布尔值-如果数组中检测到有一个元素不满足，则整个表达式返回-false"><a href="#4-every-every-方法用于检测数组所有元素是否都符合指定条件-结果返回布尔值-如果数组中检测到有一个元素不满足，则整个表达式返回-false" class="headerlink" title="4.every:every()方法用于检测数组所有元素是否都符合指定条件,结果返回布尔值,如果数组中检测到有一个元素不满足，则整个表达式返回 false"></a>4.every:every()方法用于检测数组所有元素是否都符合指定条件,结果返回布尔值,如果数组中检测到有一个元素不满足，则整个表达式返回 false</h3><ul><li>检测数组中元素是否都为偶数</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> a <span class="token operator">=</span> num3<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> b <span class="token operator">=</span> num4<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><h3 id="5-some-some-方法用于检测数组所有元素是否有一个符合指定条件-结果返回布尔值-如果数组中检测到有一个元素满足，则整个表达式返回-true"><a href="#5-some-some-方法用于检测数组所有元素是否有一个符合指定条件-结果返回布尔值-如果数组中检测到有一个元素满足，则整个表达式返回-true" class="headerlink" title="5.some:some()方法用于检测数组所有元素是否有一个符合指定条件,结果返回布尔值,如果数组中检测到有一个元素满足，则整个表达式返回 true"></a>5.some:some()方法用于检测数组所有元素是否有一个符合指定条件,结果返回布尔值,如果数组中检测到有一个元素满足，则整个表达式返回 true</h3><ul><li>检测数组中元素是否都为偶数</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> a1 <span class="token operator">=</span> num4<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> b1 <span class="token operator">=</span> num5<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span></code></pre><h3 id="6-reduce-reduce-方法用于接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。"><a href="#6-reduce-reduce-方法用于接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。" class="headerlink" title="6.reduce:reduce()方法用于接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。"></a>6.reduce:reduce()方法用于接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> result2 <span class="token operator">=</span> num6<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// console.log(prev)//2 undefined undefinedundefined prev: 表示上一次调用回调时的返回值，或者初始值 init;</span>  <span class="token comment" spellcheck="true">// console.log(cur)//3 4 5 6 cur: 表示当前正在处理的数组元素；</span>  <span class="token comment" spellcheck="true">//console.log(index)//1,2,3,4 index: 表示当前正在处理的数组元素的索引，若提供 init 值，则索引为 0，否则索引为 1；</span>  <span class="token comment" spellcheck="true">//console.log(0)// 0:代表 init， 表示初始值。传入了初始值 0，所以开始时 prev 的值为 0，默认为 0，可省</span>  <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//20</span></code></pre><h3 id="7-push-push-方法用于向数组末尾追加值-改变原数组"><a href="#7-push-push-方法用于向数组末尾追加值-改变原数组" class="headerlink" title="7.push:push()方法用于向数组末尾追加值,改变原数组"></a>7.push:push()方法用于向数组末尾追加值,改变原数组</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num7 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>num7<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num7<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[2, 3, 4, 5, 6,7,8]</span></code></pre><h3 id="8-pop-pop-方法删除数组末尾值-改变原数组"><a href="#8-pop-pop-方法删除数组末尾值-改变原数组" class="headerlink" title="8.pop:pop()方法删除数组末尾值,改变原数组"></a>8.pop:pop()方法删除数组末尾值,改变原数组</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num8 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>num8<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num8<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 2, 3, 4, 5 ]</span></code></pre><h3 id="9-shift-shift-方法删除数组头部值-改变原数组"><a href="#9-shift-shift-方法删除数组头部值-改变原数组" class="headerlink" title="9.shift:shift()方法删除数组头部值,改变原数组"></a>9.shift:shift()方法删除数组头部值,改变原数组</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num9 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>num9<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num9<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 3, 4, 5, 6 ]</span></code></pre><h3 id="10-unshift-unshift-方法用于向数组头部追加值-改变原数组"><a href="#10-unshift-unshift-方法用于向数组头部追加值-改变原数组" class="headerlink" title="10.unshift:unshift()方法用于向数组头部追加值,改变原数组"></a>10.unshift:unshift()方法用于向数组头部追加值,改变原数组</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num10 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>num10<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num10<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[1, 2, 2, 3,4, 5, 6]</span></code></pre><h3 id="11-concat-concat-方法用于连接多个数组-类似于…-扩展运算符"><a href="#11-concat-concat-方法用于连接多个数组-类似于…-扩展运算符" class="headerlink" title="11.concat:concat()方法用于连接多个数组,类似于…(扩展运算符)"></a>11.concat:concat()方法用于连接多个数组,类似于…(扩展运算符)</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num11 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr2<span class="token punctuation">,</span> arr3<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num11<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 2, 3, 4, 5,6, 7, 8, 9]</span></code></pre><h3 id="12-toString-toString-方法用于将数组-数字转字符串"><a href="#12-toString-toString-方法用于将数组-数字转字符串" class="headerlink" title="12. toString:toString()方法用于将数组,数字转字符串"></a>12. toString:toString()方法用于将数组,数字转字符串</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> num12 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num13 <span class="token operator">=</span> <span class="token number">66</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num12<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"2,3,4,5,6"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num13<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"66"</span></code></pre><h3 id="13-join-join-方法用于把数组中的所有元素放入一个字符串。"><a href="#13-join-join-方法用于把数组中的所有元素放入一个字符串。" class="headerlink" title="13. join:join() 方法用于把数组中的所有元素放入一个字符串。"></a>13. join:join() 方法用于把数组中的所有元素放入一个字符串。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr4<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"2-3-4-5"</span></code></pre><h3 id="14-split-split-方法：用于把一个字符串分割成字符串数组"><a href="#14-split-split-方法：用于把一个字符串分割成字符串数组" class="headerlink" title="14. split:split()方法：用于把一个字符串分割成字符串数组."></a>14. split:split()方法：用于把一个字符串分割成字符串数组.</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr5 <span class="token operator">=</span> <span class="token string">"2018-10-18"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr5<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ '2018-10-18' ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr5<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ '2018', '10', '18' ]</span></code></pre><h3 id="15-reverse-reverse-方法用于把数组中的所有元素颠倒。"><a href="#15-reverse-reverse-方法用于把数组中的所有元素颠倒。" class="headerlink" title="15. reverse:reverse() 方法用于把数组中的所有元素颠倒。"></a>15. reverse:reverse() 方法用于把数组中的所有元素颠倒。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr6<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 5, 4, 3, 2 ]</span></code></pre><h3 id="16-sort-sort-方法用于把数组中排序"><a href="#16-sort-sort-方法用于把数组中排序" class="headerlink" title="16. sort:sort() 方法用于把数组中排序"></a>16. sort:sort() 方法用于把数组中排序</h3><ul><li>从小到大</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> result3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>result3<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> prev <span class="token operator">-</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 1, 2, 4, 5 ]</span></code></pre><ul><li>从大到小</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> result4 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>result4<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> cur<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> cur <span class="token operator">-</span> prev<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 5, 4, 2, 1 ]</span></code></pre><h3 id="17-slice：slice-方法可从已有的数组中返回选定的元素-数组截取-不改变原数组"><a href="#17-slice：slice-方法可从已有的数组中返回选定的元素-数组截取-不改变原数组" class="headerlink" title="17.slice：slice() 方法可从已有的数组中返回选定的元素,数组截取,不改变原数组"></a>17.slice：slice() 方法可从已有的数组中返回选定的元素,数组截取,不改变原数组</h3><ul><li>slice(start,end)</li><li>start:开始位置的索引</li><li>end:结束位置的索引(但不包含该索引位置的元素)</li></ul><h3 id="截取数组-1-到-2-位"><a href="#截取数组-1-到-2-位" class="headerlink" title="截取数组 1 到 2 位"></a>截取数组 1 到 2 位</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> result5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result6 <span class="token operator">=</span> result5<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result6<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 5 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result5<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 2, 5, 4, 1 ]</span></code></pre><h3 id="15-splice：splice-方法，算的上是万能方法，具有删除，插入-替换的功能，改变原数组"><a href="#15-splice：splice-方法，算的上是万能方法，具有删除，插入-替换的功能，改变原数组" class="headerlink" title="15.splice：splice()方法，算的上是万能方法，具有删除，插入,替换的功能，改变原数组"></a>15.splice：splice()方法，算的上是万能方法，具有删除，插入,替换的功能，改变原数组</h3><ul><li><p>splice(index,count)<br>index:开始位置的索引</p></li><li><p>count:要删除元素的个数<br>返回:返回的是包含被删除元素的数组对象</p></li></ul><p><strong>1:删除功能</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> result7 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> result8 <span class="token operator">=</span> result5<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result7<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 5, 4 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result8<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 2, 1 ]</span></code></pre><p><strong>2:插入功能</strong></p><ul><li>splice(index,0,插入的项)</li></ul><p>参数</p><ul><li>index:插入元素的索引值</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr11 <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"haha"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 1, 2, 'haha', 3, 4, 5 ]</span></code></pre><p><strong>3:替换功能</strong></p><ul><li>splice(index,1,替换的项)</li></ul><p>参数</p><p>index:替换元素的索引值</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> arr11 <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"haha"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr11<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 1, 2, 'haha', 4, 5 ]</span></code></pre><h3 id="16-find-find-方法返回通过测试（函数内判断）的数组的第一个元素的值。当数组中的元素在测试条件时返回-true-时-find-返回符合条件的元素，之后的值不会再调用执行函数。"><a href="#16-find-find-方法返回通过测试（函数内判断）的数组的第一个元素的值。当数组中的元素在测试条件时返回-true-时-find-返回符合条件的元素，之后的值不会再调用执行函数。" class="headerlink" title="16.find:find() 方法返回通过测试（函数内判断）的数组的第一个元素的值。当数组中的元素在测试条件时返回 true 时, find() 返回符合条件的元素，之后的值不会再调用执行函数。"></a>16.find:find() 方法返回通过测试（函数内判断）的数组的第一个元素的值。当数组中的元素在测试条件时返回 true 时, find() 返回符合条件的元素，之后的值不会再调用执行函数。</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> result9 <span class="token operator">=</span> aa<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[ 1, 5, 2, 3, 4, 5 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result9<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//5</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react根据路由动态修改页面title</title>
      <link href="2021/042939377.html"/>
      <url>2021/042939377.html</url>
      
        <content type="html"><![CDATA[<p>1、在 react 的 container 组件中 componentDidMount 生命周期中</p><pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"这是title名称"</span><span class="token punctuation">;</span></code></pre><p>2、或者在路由配置中使用 onEnter 事件修改<br>例如：</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>Route  path<span class="token operator">=</span><span class="token string">"qa"</span>  component<span class="token operator">=</span><span class="token punctuation">{</span>QA<span class="token punctuation">}</span>  onEnter<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"这是title名称"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span></code></pre><p>3、使用 react-side-effect 是一个类似 Connect 组件的容器，通常它被称为高阶组件。可能就会用到 react-document-title 插件<br>例如：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"react"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  PropTypes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"prop-types"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  withSideEffect <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"react-side-effect"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>4、封装公共组件。在 react 中，我们可以使用非常少的代码封装出一个公共组件，来修改每个路由的 title。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">"prop-types"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">ReactDocumentTitle</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>    document<span class="token punctuation">.</span>title <span class="token operator">=</span> title<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>ReactDocumentTitle<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>  title<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>这份代码是将 react-side-effect 和 react-document-title 合并。<br>使用该组件：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> ReactDocumentTitle <span class="token keyword">from</span> <span class="token string">'path/ReactDocumentTitle'</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span>    <span class="token operator">&lt;</span>ReactDocumentTitle title<span class="token operator">=</span><span class="token string">"文档标题"</span><span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>ReactDocumentTitle<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h2 id="注意-本文出处于链接：https-www-jianshu-com-p-0a38a81da70b"><a href="#注意-本文出处于链接：https-www-jianshu-com-p-0a38a81da70b" class="headerlink" title="注意 本文出处于链接：https://www.jianshu.com/p/0a38a81da70b"></a>注意 本文出处于链接：<a href="https://www.jianshu.com/p/0a38a81da70b">https://www.jianshu.com/p/0a38a81da70b</a></h2>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React 事件冒泡及处理</title>
      <link href="2021/04295650.html"/>
      <url>2021/04295650.html</url>
      
        <content type="html"><![CDATA[<p>在 React 中，我们可以在创建 element 的时候，传入事件和处理函数，这些事件会被做为合成事件来处理，当然，有些时候，我们也需要定义原生事件，比如给 document 绑定事件。有些情况下，就需要通过阻止事件冒泡来实现预期的交互效果。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">onClickInner</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"inner div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">onClickOuter</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"outer div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClickOuter<span class="token punctuation">}</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onClickInner<span class="token punctuation">}</span><span class="token operator">></span>inner div<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>当我们点击 inner div 时，控制台输出结果：</p><pre class=" language-js"><code class="language-js">inner divouter div</code></pre><p>这两个事件都是合成事件，在点击时，两个事件会依次冒泡到 document,由统一的事件监听器处理。如果希望阻止 onClickOuter 触发，可以在 onClickInner 内调用 e.stopPropagation()。需要注意的是，这里的 e 是合成事件实例，调用 stopPropagation 也只能阻止合成事件的冒泡。</p>]]></content>
      
      
      <categories>
          
          <category> 事件冒泡 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react事件冒泡 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于原生audio,重新封装音频播放组件</title>
      <link href="2021/042922914.html"/>
      <url>2021/042922914.html</url>
      
        <content type="html"><![CDATA[<p>由于最近开发 h5 项目需要，需要按设计原稿实现音频播放组件，但原始但音频播放又不符合项目需要，为此重新封装整理出来，为此分享</p><h4 id="直接上图看效果"><a href="#直接上图看效果" class="headerlink" title="直接上图看效果"></a>直接上图看效果</h4><p><img src="https://github.com/liang996/gallery/blob/master/yuying.png" alt="image"></p><h4 id="直接上源码"><a href="#直接上源码" class="headerlink" title="直接上源码"></a>直接上源码</h4><p>在 components 中创建 AudioItem，AudioItem 文件中添加 audioItem.js 文件</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">/** * 音频播放组件 */</span><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">import</span> icon_play <span class="token keyword">from</span> <span class="token string">"../Image/music.png"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//这个是项目设计稿定义的图片</span><span class="token keyword">import</span> icon_pause <span class="token keyword">from</span> <span class="token string">"../Image/stop3.png"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//这个是项目设计稿定义的图片</span><span class="token comment" spellcheck="true">//时分秒转化为秒</span><span class="token keyword">const</span> timeEvent <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> time <span class="token operator">=</span> e<span class="token punctuation">;</span>  <span class="token keyword">var</span> len <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> hour <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> min <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> sec <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>hour <span class="token operator">*</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>min <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> min <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> sec <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>min <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> sec <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">AudioItem</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>  <span class="token keyword">static</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span>    src<span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 音频地址</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  state <span class="token operator">=</span> <span class="token punctuation">{</span>    isCanPlay<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 判断音频是否加载完成</span>    playStatus<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 播放状态， true 播放中， false 暂停中，</span>    duration<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 音频的时长</span>    currentDuration<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// 当前的播放时长</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  audioItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 把dom暴露给外部使用</span>  audio <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 一个音频对象</span>  timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 做一个滑条的防抖</span>  interval <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 定时查询播放时的当前时间</span>  <span class="token comment" spellcheck="true">// 播放音频</span>  play <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> time <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>currentTime<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>time <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>duration<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          currentDuration<span class="token punctuation">:</span> time<span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 播放结束后，直接重置播放时间，停止播放</span>        <span class="token comment" spellcheck="true">// Toast.info('播放完毕');</span>        <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          currentDuration<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>          playStatus<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 暂停音频</span>  pause <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 播放状态切换</span>  handlePlayStatusChange <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> playStatus<span class="token punctuation">,</span> isCanPlay <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>playStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      playStatus<span class="token punctuation">:</span> <span class="token operator">!</span>playStatus<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  handleSilderChange <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 0.2s之内没有改动就修改当前的时间，做一个播放的防抖</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> value<span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>        <span class="token punctuation">{</span>          currentDuration<span class="token punctuation">:</span> value<span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>playStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 根据秒数，返回对应的xx:xx的时间格式</span>  getDurationString <span class="token operator">=</span> <span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">||</span> num <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token string">"00:00"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token string">"00:00"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`00:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> minute <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> second <span class="token operator">=</span> num <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second        <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> hour <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> minute <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>num <span class="token operator">-</span> hour <span class="token operator">*</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> second <span class="token operator">=</span> num <span class="token operator">-</span> hour <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">-</span> minute <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hour<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>minute        <span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>second<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  init <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> src <span class="token punctuation">}</span> <span class="token operator">=</span> props <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>src<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>preload <span class="token operator">=</span> <span class="token string">"automatic"</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>src <span class="token operator">=</span> src<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 监听音频的时长是否获取到了</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>ondurationchange <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> duration <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        duration<span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 监听音频是否可以播放了</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>oncanplay <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> duration <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        duration<span class="token punctuation">,</span>        isCanPlay<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextProps<span class="token punctuation">.</span>src <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>src<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>audio<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> playStatus<span class="token punctuation">,</span> duration <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>    <span class="token keyword">const</span> btn_img <span class="token operator">=</span> playStatus <span class="token operator">?</span> icon_pause <span class="token punctuation">:</span> icon_play<span class="token punctuation">;</span>    <span class="token keyword">const</span> durationStr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getDurationString</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>audioItem<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>audioItem <span class="token operator">=</span> audioItem<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlePlayStatusChange<span class="token punctuation">}</span>          style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>            display<span class="token punctuation">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span>            justifyContent<span class="token punctuation">:</span> <span class="token string">"space-between"</span><span class="token punctuation">,</span>            width<span class="token punctuation">:</span>              <span class="token function">timeEvent</span><span class="token punctuation">(</span>durationStr<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">5</span>                <span class="token operator">?</span> <span class="token string">"100px"</span>                <span class="token punctuation">:</span> <span class="token function">timeEvent</span><span class="token punctuation">(</span>durationStr<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span>                <span class="token operator">?</span> <span class="token string">"150px"</span>                <span class="token punctuation">:</span> <span class="token function">timeEvent</span><span class="token punctuation">(</span>durationStr<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">15</span>                <span class="token operator">?</span> <span class="token string">"175px"</span>                <span class="token punctuation">:</span> <span class="token string">"200px"</span><span class="token punctuation">,</span>            height<span class="token punctuation">:</span> <span class="token string">"36px"</span><span class="token punctuation">,</span>            background<span class="token punctuation">:</span> <span class="token string">"#FFB91B"</span><span class="token punctuation">,</span>            borderRadius<span class="token punctuation">:</span> <span class="token string">"6px"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">}</span>        <span class="token operator">></span>          <span class="token operator">&lt;</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span>img              src<span class="token operator">=</span><span class="token punctuation">{</span>btn_img<span class="token punctuation">}</span>              alt<span class="token operator">=</span><span class="token string">"icon"</span>              style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>                paddingTop<span class="token punctuation">:</span> <span class="token string">"8.5px"</span><span class="token punctuation">,</span>                paddingLeft<span class="token punctuation">:</span> <span class="token string">"9px"</span><span class="token punctuation">,</span>              <span class="token punctuation">}</span><span class="token punctuation">}</span>            <span class="token operator">/</span><span class="token operator">></span>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span>div            style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>              width<span class="token punctuation">:</span> <span class="token string">"21px"</span><span class="token punctuation">,</span>              height<span class="token punctuation">:</span> <span class="token string">"14px"</span><span class="token punctuation">,</span>              fontSize<span class="token punctuation">:</span> <span class="token string">"12px"</span><span class="token punctuation">,</span>              fontFamily<span class="token punctuation">:</span> <span class="token string">"SFUIDisplay-Regular, SFUIDisplay"</span><span class="token punctuation">,</span>              fontWeight<span class="token punctuation">:</span> <span class="token string">"400"</span><span class="token punctuation">,</span>              color<span class="token punctuation">:</span> <span class="token string">"#222222"</span><span class="token punctuation">,</span>              marginTop<span class="token punctuation">:</span> <span class="token string">"3px"</span><span class="token punctuation">,</span>              marginRight<span class="token punctuation">:</span> <span class="token string">"2px"</span><span class="token punctuation">,</span>              lineHeight<span class="token punctuation">:</span> <span class="token string">"14px"</span><span class="token punctuation">,</span>              padding<span class="token punctuation">:</span> <span class="token string">"8px 9px 2px 2px"</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">}</span>          <span class="token operator">></span>            <span class="token punctuation">{</span><span class="token function">timeEvent</span><span class="token punctuation">(</span>durationStr<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span>"          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> AudioItem<span class="token punctuation">;</span></code></pre><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> AudioItem <span class="token keyword">from</span> <span class="token string">"../../components/AudioItem/audioItem"</span><span class="token punctuation">;</span><span class="token operator">&lt;</span>AudioItem src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"音频地址"</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目中常用公共方法总结</title>
      <link href="2021/042912627.html"/>
      <url>2021/042912627.html</url>
      
        <content type="html"><![CDATA[<p>由于项目需要，会经常抽离出一些公共方法，为此总结下来。</p><h2 id="1-判断整数"><a href="#1-判断整数" class="headerlink" title="1.判断整数"></a>1.判断整数</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> isInteger <span class="token operator">=</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">;</span></code></pre><h2 id="2-时分秒转化为秒"><a href="#2-时分秒转化为秒" class="headerlink" title="2.时分秒转化为秒"></a>2.时分秒转化为秒</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> timeEvent <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> time <span class="token operator">=</span> e<span class="token punctuation">;</span>  <span class="token keyword">var</span> len <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> hour <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> min <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> sec <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>hour <span class="token operator">*</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>min <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> min <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> sec <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>min <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">Number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> sec <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="3-去除字符串中间的空格"><a href="#3-去除字符串中间的空格" class="headerlink" title="3.去除字符串中间的空格"></a>3.去除字符串中间的空格</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> trims <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[ ]/g</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="4-获取-ios-小程序-安卓端，路由传递过来端参数值（获取请求头参数）-h5-项目接触过"><a href="#4-获取-ios-小程序-安卓端，路由传递过来端参数值（获取请求头参数）-h5-项目接触过" class="headerlink" title="4.获取 ios/小程序/安卓端，路由传递过来端参数值（获取请求头参数）(h5 项目接触过)"></a>4.获取 ios/小程序/安卓端，路由传递过来端参数值（获取请求头参数）(h5 项目接触过)</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> getQueryString <span class="token operator">=</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> after <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//key存在先通过search取值如果取不到就通过hash来取</span>  after <span class="token operator">=</span> after<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">||</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"?"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>after<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">"(^|&amp;)"</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">"=([^&amp;]*)(&amp;|$)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> r <span class="token operator">=</span> after<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>r<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="5-去除输入框内容带表情包的方法"><a href="#5-去除输入框内容带表情包的方法" class="headerlink" title="5.去除输入框内容带表情包的方法"></a>5.去除输入框内容带表情包的方法</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> isEmojiCharacter <span class="token operator">=</span> <span class="token punctuation">(</span>substring<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> substring<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> hs <span class="token operator">=</span> substring<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0xd800</span> <span class="token operator">&lt;=</span> hs <span class="token operator">&amp;&amp;</span> hs <span class="token operator">&lt;=</span> <span class="token number">0xdbff</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>substring<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> ls <span class="token operator">=</span> substring<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> uc <span class="token operator">=</span> <span class="token punctuation">(</span>hs <span class="token operator">-</span> <span class="token number">0xd800</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0x400</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ls <span class="token operator">-</span> <span class="token number">0xdc00</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">0x10000</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0x1d000</span> <span class="token operator">&lt;=</span> uc <span class="token operator">&amp;&amp;</span> uc <span class="token operator">&lt;=</span> <span class="token number">0x1f77f</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>substring<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> ls <span class="token operator">=</span> substring<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>ls <span class="token operator">==</span> <span class="token number">0x20e3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0x2100</span> <span class="token operator">&lt;=</span> hs <span class="token operator">&amp;&amp;</span> hs <span class="token operator">&lt;=</span> <span class="token number">0x27ff</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0x2b05</span> <span class="token operator">&lt;=</span> hs <span class="token operator">&amp;&amp;</span> hs <span class="token operator">&lt;=</span> <span class="token number">0x2b07</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0x2934</span> <span class="token operator">&lt;=</span> hs <span class="token operator">&amp;&amp;</span> hs <span class="token operator">&lt;=</span> <span class="token number">0x2935</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0x3297</span> <span class="token operator">&lt;=</span> hs <span class="token operator">&amp;&amp;</span> hs <span class="token operator">&lt;=</span> <span class="token number">0x3299</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>        hs <span class="token operator">==</span> <span class="token number">0xa9</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0xae</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0x303d</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0x3030</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0x2b55</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0x2b1c</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0x2b1b</span> <span class="token operator">||</span>        hs <span class="token operator">==</span> <span class="token number">0x2b50</span>      <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="6-验证手机号"><a href="#6-验证手机号" class="headerlink" title="6.验证手机号"></a>6.验证手机号</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyPhone</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> phoneReg <span class="token operator">=</span> <span class="token regex">/^1((3[\d])|(4[5,6,7,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[\d])|(9[1,8,9]))\d{8}$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> phoneReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="7-验证-6-20-位，允许字母、数字的密码"><a href="#7-验证-6-20-位，允许字母、数字的密码" class="headerlink" title="7.验证 6-20 位，允许字母、数字的密码"></a>7.验证 6-20 位，允许字母、数字的密码</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 6-20位，允许字母、数字</span>  <span class="token keyword">const</span> passwordReg <span class="token operator">=</span> <span class="token regex">/^[0-9A-Za-z]{6,20}$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> passwordReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="8-验证二代身份证号-18-位数字-最后一位是校验位-可能为数字或字符-X"><a href="#8-验证二代身份证号-18-位数字-最后一位是校验位-可能为数字或字符-X" class="headerlink" title="8.验证二代身份证号(18 位数字),最后一位是校验位,可能为数字或字符 X"></a>8.验证二代身份证号(18 位数字),最后一位是校验位,可能为数字或字符 X</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyIDCard</span><span class="token punctuation">(</span>iDCard<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> iDCardReg <span class="token operator">=</span> <span class="token regex">/^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> iDCardReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>iDCard<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="9-验证邮箱"><a href="#9-验证邮箱" class="headerlink" title="9.验证邮箱"></a>9.验证邮箱</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyEmail</span><span class="token punctuation">(</span>Email<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// eslint-disable-next-line</span>  <span class="token keyword">const</span> emailrule <span class="token operator">=</span> <span class="token regex">/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> emailrule<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>Email<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="10-验证上传图片类型"><a href="#10-验证上传图片类型" class="headerlink" title="10.验证上传图片类型"></a>10.验证上传图片类型</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyImage</span><span class="token punctuation">(</span>ext<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"png"</span><span class="token punctuation">,</span> <span class="token string">"jpg"</span><span class="token punctuation">,</span> <span class="token string">"gif"</span><span class="token punctuation">,</span> <span class="token string">"jpeg"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>ext<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="11-时间格式处理"><a href="#11-时间格式处理" class="headerlink" title="11.时间格式处理"></a>11.时间格式处理</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">"dayjs"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">ReplaceTime</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY/MM/DD HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="12-获取当前最早时间"><a href="#12-获取当前最早时间" class="headerlink" title="12.获取当前最早时间"></a>12.获取当前最早时间</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">"dayjs"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verityTodayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">const</span> dateEnd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前时间</span>    <span class="token keyword">const</span> todayTime <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>dateEnd<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前时间，如2019-11-29 00:00:00</span>    <span class="token keyword">return</span> todayTime<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h2 id="13-获取明天最早时间"><a href="#13-获取明天最早时间" class="headerlink" title="13.获取明天最早时间"></a>13.获取明天最早时间</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">"dayjs"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verityTomorrowTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> time <span class="token operator">=</span> dateRange<span class="token punctuation">.</span><span class="token function">verityTodayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> day <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"day"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> tomorrowTime <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY-MM-DD"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//2019-11-30 00:00:00</span>  <span class="token keyword">return</span> tomorrowTime<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="14-按时间随机生成订单号"><a href="#14-按时间随机生成订单号" class="headerlink" title="14.按时间随机生成订单号"></a>14.按时间随机生成订单号</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">"dayjs"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">ReplaceTime</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"YYYY/MM/DD HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">import</span> dayjs <span class="token keyword">from</span> <span class="token string">"dayjs"</span><span class="token punctuation">;</span>  generateCoding<span class="token punctuation">:</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> outTradeNo <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//订单号</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//4位随机数，用以加在时间戳后面。</span>    <span class="token punctuation">{</span>      outTradeNo <span class="token operator">+</span><span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> newDate <span class="token operator">=</span> <span class="token function">ReplaceTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> CodingDate <span class="token operator">=</span> dateRange<span class="token punctuation">.</span><span class="token function">verityCodingDate</span><span class="token punctuation">(</span>newDate<span class="token punctuation">)</span><span class="token punctuation">;</span>    outTradeNo <span class="token operator">=</span> <span class="token string">'sd'</span> <span class="token operator">+</span> CodingDate <span class="token operator">+</span> outTradeNo<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//时间戳，用来生成订单号。</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>      outTradeNo <span class="token operator">=</span> outTradeNo <span class="token operator">+</span> num<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> outTradeNo<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><h2 id="15-拼接-url-参数"><a href="#15-拼接-url-参数" class="headerlink" title="15.拼接 url 参数"></a>15.拼接 url 参数</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">splitUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> urlNew <span class="token operator">=</span> url<span class="token punctuation">;</span>  <span class="token keyword">const</span> paramsArray<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>    paramsArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>options<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> url<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\?/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>urlNew<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    urlNew <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>urlNew<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>paramsArray<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    urlNew <span class="token operator">+</span><span class="token operator">=</span> <span class="token template-string"><span class="token string">`&amp;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>paramsArray<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> urlNew<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react扩展</title>
      <link href="2021/040661994.html"/>
      <url>2021/040661994.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-setState"><a href="#1-setState" class="headerlink" title="1. setState"></a>1. setState</h2><h3 id="setState-更新状态的-2-种写法"><a href="#setState-更新状态的-2-种写法" class="headerlink" title="setState 更新状态的 2 种写法"></a>setState 更新状态的 2 种写法</h3><pre><code>    (1). setState(stateChange, [callback])------对象式的setState            1.stateChange为状态改变对象(该对象可以体现出状态的更改)            2.callback是可选的回调函数, 它在状态更新完毕、界面也更新后(render调用后)才被调用    (2). setState(updater, [callback])------函数式的setState            1.updater为返回stateChange对象的函数。            2.updater可以接收到state和props。            4.callback是可选的回调函数, 它在状态更新、界面也更新后(render调用后)才被调用。总结:        1.对象式的setState是函数式的setState的简写方式(语法糖)        2.使用原则：                (1).如果新状态不依赖于原状态 ===&gt; 使用对象方式                (2).如果新状态依赖于原状态 ===&gt; 使用函数方式                (3).如果需要在setState()执行后获取最新的状态数据,                    要在第二个callback函数中读取</code></pre><hr><h2 id="2-lazyLoad"><a href="#2-lazyLoad" class="headerlink" title="2. lazyLoad"></a>2. lazyLoad</h2><h3 id="路由组件的-lazyLoad"><a href="#路由组件的-lazyLoad" class="headerlink" title="路由组件的 lazyLoad"></a>路由组件的 lazyLoad</h3><pre class=" language-js"><code class="language-js">    <span class="token comment" spellcheck="true">//1.通过React的lazy函数配合import()函数动态加载路由组件 ===> 路由组件代码会被分开打包</span>    <span class="token keyword">const</span> Login <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/pages/Login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//2.通过&lt;Suspense>指定在加载得到路由打包文件前显示一个自定义loading界面</span>    <span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>h1<span class="token operator">></span>loading<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">}</span><span class="token operator">></span>        <span class="token operator">&lt;</span>Switch<span class="token operator">></span>            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/xxx"</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Xxxx<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>            <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/login"</span><span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">></span></code></pre><hr><h2 id="3-Hooks"><a href="#3-Hooks" class="headerlink" title="3. Hooks"></a>3. Hooks</h2><h4 id="1-React-Hook-Hooks-是什么"><a href="#1-React-Hook-Hooks-是什么" class="headerlink" title="1. React Hook/Hooks 是什么?"></a>1. React Hook/Hooks 是什么?</h4><pre><code>(1). Hook是React 16.8.0版本增加的新特性/新语法(2). 可以让你在函数组件中使用 state 以及其他的 React 特性</code></pre><h4 id="2-三个常用的-Hook"><a href="#2-三个常用的-Hook" class="headerlink" title="2. 三个常用的 Hook"></a>2. 三个常用的 Hook</h4><pre><code>(1). State Hook: React.useState()(2). Effect Hook: React.useEffect()(3). Ref Hook: React.useRef()</code></pre><h4 id="3-State-Hook"><a href="#3-State-Hook" class="headerlink" title="3. State Hook"></a>3. State Hook</h4><pre><code>(1). State Hook让函数组件也可以有state状态, 并进行状态数据的读写操作(2). 语法: const [xxx, setXxx] = React.useState(initValue)(3). useState()说明:        参数: 第一次初始化指定的值在内部作缓存        返回值: 包含2个元素的数组, 第1个为内部当前状态值, 第2个为更新状态值的函数(4). setXxx()2种写法:        setXxx(newValue): 参数为非函数值, 直接指定新的状态值, 内部用其覆盖原来的状态值        setXxx(value =&gt; newValue): 参数为函数, 接收原本的状态值, 返回新的状态值, 内部用其覆盖原来的状态值</code></pre><h4 id="4-Effect-Hook"><a href="#4-Effect-Hook" class="headerlink" title="4. Effect Hook"></a>4. Effect Hook</h4><pre><code>(1). Effect Hook 可以让你在函数组件中执行副作用操作(用于模拟类组件中的生命周期钩子)(2). React中的副作用操作:        发ajax请求数据获取        设置订阅 / 启动定时器        手动更改真实DOM(3). 语法和说明:        useEffect(() =&gt; {          // 在此可以执行任何带副作用操作          return () =&gt; { // 在组件卸载前执行            // 在此做一些收尾工作, 比如清除定时器/取消订阅等          }        }, [stateValue]) // 如果指定的是[], 回调函数只会在第一次render()后执行(4). 可以把 useEffect Hook 看做如下三个函数的组合        componentDidMount()        componentDidUpdate()        componentWillUnmount()</code></pre><h4 id="5-Ref-Hook"><a href="#5-Ref-Hook" class="headerlink" title="5. Ref Hook"></a>5. Ref Hook</h4><pre><code>(1). Ref Hook可以在函数组件中存储/查找组件内的标签或任意其它数据(2). 语法: const refContainer = useRef()(3). 作用:保存标签对象,功能与React.createRef()一样</code></pre><hr><h2 id="4-Fragment"><a href="#4-Fragment" class="headerlink" title="4. Fragment"></a>4. Fragment</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><pre><code>&lt;Fragment&gt;&lt;Fragment&gt;&lt;&gt;&lt;/&gt;</code></pre><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><blockquote><p>可以不用必须有一个真实的 DOM 根标签了</p></blockquote><hr><h2 id="5-Context"><a href="#5-Context" class="headerlink" title="5. Context"></a>5. Context</h2><h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><blockquote><p>一种组件间通信方式, 常用于【祖组件】与【后代组件】间通信</p></blockquote><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">)</span> 创建Context容器对象：    <span class="token keyword">const</span> XxxContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">)</span> 渲染子组时，外面包裹xxxContext<span class="token punctuation">.</span>Provider<span class="token punctuation">,</span> 通过value属性给后代组件传递数据：    <span class="token operator">&lt;</span>xxxContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>数据<span class="token punctuation">}</span><span class="token operator">></span>        子组件    <span class="token operator">&lt;</span><span class="token operator">/</span>xxxContext<span class="token punctuation">.</span>Provider<span class="token operator">></span><span class="token number">3</span><span class="token punctuation">)</span> 后代组件读取数据：    <span class="token comment" spellcheck="true">//第一种方式:仅适用于类组件</span>      <span class="token keyword">static</span> contextType <span class="token operator">=</span> xxxContext  <span class="token comment" spellcheck="true">// 声明接收context</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token comment" spellcheck="true">// 读取context中的value数据</span>    <span class="token comment" spellcheck="true">//第二种方式: 函数组件与类组件都可以</span>      <span class="token operator">&lt;</span>xxxContext<span class="token punctuation">.</span>Consumer<span class="token operator">></span>        <span class="token punctuation">{</span>          value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span> <span class="token comment" spellcheck="true">// value就是context中的value数据</span>            要显示的内容          <span class="token punctuation">)</span>        <span class="token punctuation">}</span>      <span class="token operator">&lt;</span><span class="token operator">/</span>xxxContext<span class="token punctuation">.</span>Consumer<span class="token operator">></span></code></pre><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><pre><code>在应用开发中一般不用context, 一般都用它的封装react插件</code></pre><hr><h2 id="6-组件优化"><a href="#6-组件优化" class="headerlink" title="6. 组件优化"></a>6. 组件优化</h2><h3 id="Component-的-2-个问题"><a href="#Component-的-2-个问题" class="headerlink" title="Component 的 2 个问题"></a>Component 的 2 个问题</h3><blockquote><ol><li><p>只要执行 setState(),即使不改变状态数据, 组件也会重新 render() ==&gt; 效率低</p></li><li><p>只当前组件重新 render(), 就会自动重新 render 子组件，纵使子组件没有用到父组件的任何数据 ==&gt; 效率低</p></li></ol></blockquote><h3 id="效率高的做法"><a href="#效率高的做法" class="headerlink" title="效率高的做法"></a>效率高的做法</h3><blockquote><p>只有当组件的 state 或 props 数据发生改变时才重新 render()</p></blockquote><h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><blockquote><p>Component 中的 shouldComponentUpdate()总是返回 true</p></blockquote><h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><pre><code>办法1:    重写shouldComponentUpdate()方法    比较新旧state或props数据, 如果有变化才返回true, 如果没有返回false办法2:    使用PureComponent    PureComponent重写了shouldComponentUpdate(), 只有state或props数据有变化才返回true    注意:        只是进行state和props数据的浅比较, 如果只是数据对象内部数据变了, 返回false        不要直接修改state数据, 而是要产生新数据项目中一般使用PureComponent来优化</code></pre><hr><h2 id="7-render-props"><a href="#7-render-props" class="headerlink" title="7. render props"></a>7. render props</h2><h3 id="如何向组件内部动态传入带内容的结构-标签"><a href="#如何向组件内部动态传入带内容的结构-标签" class="headerlink" title="如何向组件内部动态传入带内容的结构(标签)?"></a>如何向组件内部动态传入带内容的结构(标签)?</h3><pre><code>Vue中:    使用slot技术, 也就是通过组件标签体传入结构  &lt;A&gt;&lt;B/&gt;&lt;/A&gt;React中:    使用children props: 通过组件标签体传入结构    使用render props: 通过组件标签属性传入结构,而且可以携带数据，一般用render函数属性</code></pre><h3 id="children-props"><a href="#children-props" class="headerlink" title="children props"></a>children props</h3><pre><code>&lt;A&gt;  &lt;B&gt;xxxx&lt;/B&gt;&lt;/A&gt;{this.props.children}问题: 如果B组件需要A组件内的数据, ==&gt; 做不到</code></pre><h3 id="render-props"><a href="#render-props" class="headerlink" title="render props"></a>render props</h3><pre><code>&lt;A render={(data) =&gt; &lt;C data={data}&gt;&lt;/C&gt;}&gt;&lt;/A&gt;A组件: {this.props.render(内部state数据)}C组件: 读取A组件传入的数据显示 {this.props.data}</code></pre><hr><h2 id="8-错误边界"><a href="#8-错误边界" class="headerlink" title="8. 错误边界"></a>8. 错误边界</h2><h4 id="理解："><a href="#理解：" class="headerlink" title="理解："></a>理解：</h4><p>错误边界(Error boundary)：用来捕获后代组件错误，渲染出备用页面</p><h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><p>只能捕获后代组件生命周期产生的错误，不能捕获自己组件产生的错误和其他组件在合成事件、定时器中产生的错误</p><h5 id="使用方式："><a href="#使用方式：" class="headerlink" title="使用方式："></a>使用方式：</h5><p>getDerivedStateFromError 配合 componentDidCatch</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// 生命周期函数，一旦后台组件报错，就会触发</span><span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 在render之前触发</span>    <span class="token comment" spellcheck="true">// 返回新的state</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        hasError<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">componentDidCatch</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 统计页面的错误。发送请求发送到后台去</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="9-组件通信方式总结"><a href="#9-组件通信方式总结" class="headerlink" title="9. 组件通信方式总结"></a>9. 组件通信方式总结</h2><h4 id="组件间的关系："><a href="#组件间的关系：" class="headerlink" title="组件间的关系："></a>组件间的关系：</h4><ul><li>父子组件</li><li>兄弟组件（非嵌套组件）</li><li>祖孙组件（跨级组件）</li></ul><h4 id="几种通信方式："><a href="#几种通信方式：" class="headerlink" title="几种通信方式："></a>几种通信方式：</h4><pre><code>    1.props：        (1).children props        (2).render props    2.消息订阅-发布：        pubs-sub、event等等    3.集中式管理：        redux、dva等等    4.conText:        生产者-消费者模式</code></pre><h4 id="比较好的搭配方式："><a href="#比较好的搭配方式：" class="headerlink" title="比较好的搭配方式："></a>比较好的搭配方式：</h4><pre><code>    父子组件：props    兄弟组件：消息订阅-发布、集中式管理    祖孙组件(跨级组件)：消息订阅-发布、集中式管理、conText(开发用的少，封装插件用的多)</code></pre>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript常识总结</title>
      <link href="2021/031721607.html"/>
      <url>2021/031721607.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-undefined-和-null-有什么区别？"><a href="#1-undefined-和-null-有什么区别？" class="headerlink" title="1.undefined 和 null 有什么区别？"></a>1.undefined 和 null 有什么区别？</h2><p>在理解 undefined 和 null 之间的差异之前，我们先来看看它们的相似类。</p><p>它们属于 JavaScript 的 7 种基本类型。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> primitiveTypes <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token string">"string"</span><span class="token punctuation">,</span>  <span class="token string">"number"</span><span class="token punctuation">,</span>  <span class="token string">"null"</span><span class="token punctuation">,</span>  <span class="token string">"undefined"</span><span class="token punctuation">,</span>  <span class="token string">"boolean"</span><span class="token punctuation">,</span>  <span class="token string">"symbol"</span><span class="token punctuation">,</span>  <span class="token string">"bigint"</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>它们是属于虚值，可以使用 Boolean(value)或!!value 将其转换为布尔值时，值为 false。</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Boolean</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span></code></pre><p>接着来看看它们的区别。</p><p>undefined 是未指定特定值的变量的默认值，或者没有显式返回值的函数，如：console.log(1)，还包括对象中不存在的属性，这些 JS 引擎都会为其分配 undefined 值。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> _thisIsUndefined<span class="token punctuation">;</span><span class="token keyword">const</span> doNothing <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> someObj <span class="token operator">=</span> <span class="token punctuation">{</span>  a<span class="token punctuation">:</span> <span class="token string">"ay"</span><span class="token punctuation">,</span>  b<span class="token punctuation">:</span> <span class="token string">"bee"</span><span class="token punctuation">,</span>  c<span class="token punctuation">:</span> <span class="token string">"si"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_thisIsUndefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">doNothing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>someObj<span class="token punctuation">[</span><span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// undefined</span></code></pre><p>null 是<strong>“不代表任何值的值”</strong>。null 是已明确定义给变量的值。在此示例中，当 fs.readFile 方法未引发错误时，我们将获得 null 值。</p><pre class=" language-js"><code class="language-js">fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">"path/to/file"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>e<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 当没有错误发生时，打印 null</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>在比较 null 和 undefined 时，我们使用==时得到 true，使用===时得到 false:</p><p>console.log(null == undefined); // true<br>console.log(null === undefined); // false</p><h2 id="2-JavaScript-函数节流和函数防抖之间的区别？"><a href="#2-JavaScript-函数节流和函数防抖之间的区别？" class="headerlink" title="2.JavaScript 函数节流和函数防抖之间的区别？"></a>2.JavaScript 函数节流和函数防抖之间的区别？</h2><p>相同点：函数节流和函数防抖，两者都是优化高频率执行 js 代码的一种手段。</p><p>函数节流概念：函数节流是指一定时间内 js 方法只跑一次。比如人的眨眼睛，就是一定时间内眨一次。这是函数节流最形象的解释。 函数节流应用的实际场景，多数在监听页面元素滚动事件的时候会用到。因为滚动事件，是一个高频触发的事件</p><p>函数防抖概念：函数防抖是指频繁触发的情况下，只有足够的空闲时间，才执行代码一次。比如生活中的坐公交，就是一定时间内，如果有人陆续刷卡上车，司机就不会开车。只有别人没刷卡了，司机才开车。</p><p>两者区别：防抖动是将多次执行变为最后一次执行，节流是将多次执行变成每隔一段时间执行。</p><h2 id="3-什么是事件传播"><a href="#3-什么是事件传播" class="headerlink" title="3. 什么是事件传播?"></a>3. 什么是事件传播?</h2><p>当事件发生在 DOM 元素上时，该事件并不完全发生在那个元素上。在“冒泡阶段”中，事件冒泡或向上传播至父级，祖父母，祖父母或父级，直到到达 window 为止；而在“捕获阶段”中，事件从 window 开始向下触发元素 事件或 event.target。</p><p>事件传播有三个阶段：</p><p>1.捕获阶段–事件从 window 开始，然后向下到每个元素，直到到达目标元素。 2.目标阶段–事件已达到目标元素。 3.冒泡阶段–事件从目标元素冒泡，然后上升到每个元素，直到到达 window。</p><h2 id="4-什么是事件冒泡？"><a href="#4-什么是事件冒泡？" class="headerlink" title="4. 什么是事件冒泡？"></a>4. 什么是事件冒泡？</h2><p>当事件发生在 DOM 元素上时，该事件并不完全发生在那个元素上。在冒泡阶段，事件冒泡，或者事件发生在它的父代，祖父母，祖父母的父代，直到到达 window 为止。</p><h2 id="5-js-里-和-有什么区别"><a href="#5-js-里-和-有什么区别" class="headerlink" title="5.js 里==和===有什么区别"></a>5.js 里==和===有什么区别</h2><p>==用于一般比较，===用于严格比较，==在比较的时候可以转换数据类型，===严格比较，只要类型不匹配就返回 flase。<br>1、对于 string,number 等基础类型，==和===是有区别的<br>类型转换规则：<br>1）如果等号两边是 boolean、string、number 三者中任意两者进行比较时，优先转换为数字进行比较。</p><p>2）如果等号两边出现了 null 或 undefined,null 和 undefined 除了和自己相等，就彼此相等</p><p>注意：NaN==NaN&nbsp; //返回 false，NaN 和所有值包括自己都不相等。</p><h2 id="6-为什么在-JS-中比较两个相似的对象时返回-false？"><a href="#6-为什么在-JS-中比较两个相似的对象时返回-false？" class="headerlink" title="6. 为什么在 JS 中比较两个相似的对象时返回 false？"></a>6. 为什么在 JS 中比较两个相似的对象时返回 false？</h2><p>先看下面的例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> c <span class="token operator">=</span> a<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印 false，即使它们有相同的属性</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre><p>JS 以不同的方式比较对象和基本类型。在基本类型中，JS 通过值对它们进行比较，而在对象中，JS 通过引用或存储变量的内存中的地址对它们进行比较。这就是为什么第一个 console.log 语句返回 false，而第二个 console.log 语句返回 true。a 和 c 有相同的引用地址，而 a 和 b 没有。</p><h2 id="7-js-中-和-的区别及用法？"><a href="#7-js-中-和-的区别及用法？" class="headerlink" title="7. js 中!和!!的区别及用法？"></a>7. js 中!和!!的区别及用法？</h2><p>1、！可将变量转换成 boolean 类型，null、undefined 和空字符串取反都为 false，其余都为 true。</p><pre class=" language-js"><code class="language-js"><span class="token operator">!</span><span class="token keyword">null</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token operator">!</span>undefined <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token operator">!</span><span class="token string">""</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token operator">!</span><span class="token number">100</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token operator">!</span><span class="token string">"abc"</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre><p>2、!!一般用来将后面的表达式强制转换为布尔类型的数据（boolean），也就是只能是 true 或者 false;</p><p>例子 1:判断变量 a 为非空，未定义或者非空串才能执行方法体的内容</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> a <span class="token operator">!=</span> undefined <span class="token operator">&amp;&amp;</span> a <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//a有内容才执行的代码</span><span class="token punctuation">}</span></code></pre><p>实际上我们只需要写一个判断表达：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//a有内容才执行的代码...</span><span class="token punctuation">}</span></code></pre><p>例子 2:!!运算符可以将右侧的值强制转换为布尔值，这也是将值转换为布尔值的一种简单方法。</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span></code></pre><h2 id="async-和-await"><a href="#async-和-await" class="headerlink" title="async 和 await"></a>async 和 await</h2><p>1、作用？<br>简化 promise 对象的使用：不再使用 then() 来指定成功/失败的回调函数<br>以同步编码(没有回调函数) 方式实现异步流程</p><p>2、哪里写 await<br>在返回 promise 的表达式左侧写 await: 不想要 promise 想要 promise 异步执行的<br>成功的 value 数据</p><p>3、哪里写 async<br>await 所在函数(最近的)的左侧写 async</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ReactNative开发经验总结三</title>
      <link href="2021/031118239.html"/>
      <url>2021/031118239.html</url>
      
        <content type="html"><![CDATA[<h2 id="ios系统升级14-0后，模拟器看不到图片"><a href="#ios系统升级14-0后，模拟器看不到图片" class="headerlink" title="ios系统升级14.0后，模拟器看不到图片"></a>ios系统升级14.0后，模拟器看不到图片</h2><p>解决方法：</p><ul><li>参考网站1：<a href="https://github.com/facebook/react-native/issues/29279">https://github.com/facebook/react-native/issues/29279</a></li><li>参考网站2：<a href="https://www.jianshu.com/p/43d7afbcac66">https://www.jianshu.com/p/43d7afbcac66</a></li></ul><p>更改文件：</p><p> <img src="https://raw.githubusercontent.com/liang996/gallery/master/20210311171707.png" alt="image"></p><h2 id="安卓高版本，拍照-安卓Q-读写文件出错"><a href="#安卓高版本，拍照-安卓Q-读写文件出错" class="headerlink" title="安卓高版本，拍照 安卓Q 读写文件出错"></a>安卓高版本，拍照 安卓Q 读写文件出错</h2><ul><li>问题解决参考网站：<a href="https://www.jianshu.com/p/08d74b20d579">https://www.jianshu.com/p/08d74b20d579</a></li></ul><p>更改文件对比：</p><p> <img src="https://raw.githubusercontent.com/liang996/gallery/master/20210311172023.png" alt="image"></p><h2 id="好用导航栏切换插件"><a href="#好用导航栏切换插件" class="headerlink" title="好用导航栏切换插件"></a>好用导航栏切换插件</h2><pre><code>https://www.npmjs.com/package/react-native-tab-view`yarn add react-native-tab-view`#7bf116404d925f1e1b38657b1ae18063bf5d8881</code></pre><h2 id="【Android】更改-APP-访问权限和-http-请求的问题，导致-Fetch-请求失败的问题"><a href="#【Android】更改-APP-访问权限和-http-请求的问题，导致-Fetch-请求失败的问题" class="headerlink" title="【Android】更改 APP 访问权限和 http 请求的问题，导致 Fetch 请求失败的问题"></a>【Android】更改 APP 访问权限和 http 请求的问题，导致 Fetch 请求失败的问题</h2><h2 id="设置网络权限"><a href="#设置网络权限" class="headerlink" title="设置网络权限"></a>设置网络权限</h2><p>添加网络访问权限 <code>android/app/src/main/AndroidManifest.xml</code>，官方获取权限文档：<a href="https://reactnative.dev/docs/permissionsandroid">https://reactnative.dev/docs/permissionsandroid</a></p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.INTERNET<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><p>上面官网并没有介绍这个参数有可能没有用。</p><p><strong><code>android:name</code></strong></p><p>权限的名称。可以是应用通过 <a href="https://developer.android.com/guide/topics/manifest/permission-element"><code>&lt;permission&gt;</code></a> 元素定义的权限、另一个应用定义的权限，或者一个标准系统权限（例如 <a href="https://developer.android.com/reference/android/Manifest.permission#CAMERA">“android.permission.CAMERA”</a> 或 <a href="https://developer.android.com/reference/android/Manifest.permission#READ_CONTACTS">“android.permission.READ_CONTACTS”</a>）。如这些示例所示，权限名称通常以软件包名称为前缀。</p><p><strong><code>android:maxSdkVersion</code></strong></p><p>此权限应授予应用的最高 API 级别。如果从某个 API 级别开始不再需要应用所需的权限，则设置此属性非常有用。<br>例如，从 Android 4.4（API 级别 19）开始，应用在外部存储空间写入其特定目录（<a href="https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)"><code>getExternalFilesDir()</code></a> 提供的目录）时不再需要请求 <a href="https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE"><code>WRITE_EXTERNAL_STORAGE</code></a> 权限。但 API 级别 18 和更低版本需要此权限。因此，您可以使用如下声明，声明只有 API 级别 18 及以前版本才需要此权限：</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span>     <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.WRITE_EXTERNAL_STORAGE<span class="token punctuation">"</span></span>     <span class="token attr-name"><span class="token namespace">android:</span>maxSdkVersion</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><p>这样，从 API 级别 19 开始，系统将不再向您的应用授予 <a href="https://developer.android.com/reference/android/Manifest.permission#WRITE_EXTERNAL_STORAGE"><code>WRITE_EXTERNAL_STORAGE</code></a> 权限。</p><p>此属性为 API 级别 19 中的新增属性。</p><h2 id="解决方案一，没有资源不可用"><a href="#解决方案一，没有资源不可用" class="headerlink" title="解决方案一，没有资源不可用"></a>解决方案一，没有资源不可用</h2><p>使用认证过的 https 请求 API。</p><h2 id="解决方案二，面临-APP-上架被下架的问题"><a href="#解决方案二，面临-APP-上架被下架的问题" class="headerlink" title="解决方案二，面临 APP 上架被下架的问题"></a>解决方案二，面临 APP 上架被下架的问题</h2><p>创建配置文件 <code>android/app/src/main/res/xml/network_security_config.xml</code> 内容如下：</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">></span></span></code></pre><p>修改配置 <code>android/app/src/main/AndroidManifest.xml</code></p><pre class=" language-diff"><code class="language-diff"><span class="token deleted">&lt;application</span>  android:name=".MainApplication"  android:label="@string/app_name"  android:icon="@mipmap/ic_launcher"  android:roundIcon="@mipmap/ic_launcher_round"  android:allowBackup="false"<span class="token inserted">+  android:networkSecurityConfig="@xml/network_security_config"</span>  android:theme="@style/AppTheme"><span class="token deleted">&lt;/application></span></code></pre><h2 id="【Android】react-native-image-picker-打包报错"><a href="#【Android】react-native-image-picker-打包报错" class="headerlink" title="【Android】react-native-image-picker 打包报错"></a>【Android】react-native-image-picker 打包报错</h2><p>查看官方： <a href="https://www.npmjs.com/package/react-native-image-picker">https://www.npmjs.com/package/react-native-image-picker</a></p><h2 id="【iOS-Android】支付宝对接支付、提现"><a href="#【iOS-Android】支付宝对接支付、提现" class="headerlink" title="【iOS/Android】支付宝对接支付、提现"></a>【iOS/Android】支付宝对接支付、提现</h2><p>参考文档：<a href="https://github.com/uiwjs/react-native-uiwjs-alipay">https://github.com/uiwjs/react-native-uiwjs-alipay</a><br>根据文档修改文件<br>ptug/react-native-alipay#1</p><h2 id="复制功能"><a href="#复制功能" class="headerlink" title="复制功能"></a>复制功能</h2><pre class=" language-js"><code class="language-js">yarn add @react<span class="token operator">-</span>native<span class="token operator">-</span>community<span class="token operator">/</span>clipboard</code></pre><h2 id="【Android】Reactnative-Android键盘将底部导航栏顶起"><a href="#【Android】Reactnative-Android键盘将底部导航栏顶起" class="headerlink" title="【Android】Reactnative Android键盘将底部导航栏顶起"></a>【Android】Reactnative Android键盘将底部导航栏顶起</h2><p>解决方法:<a href="https://blog.csdn.net/Cui_xing_tian/article/details/90259792">https://blog.csdn.net/Cui_xing_tian/article/details/90259792</a></p><h2 id="Android】android-studio-报错-Unknown-host-‘jcenter-bintray-com’-You-may-need-to-adjust-the-proxy-settings-in-Gradle"><a href="#Android】android-studio-报错-Unknown-host-‘jcenter-bintray-com’-You-may-need-to-adjust-the-proxy-settings-in-Gradle" class="headerlink" title="Android】android studio 报错 Unknown host ‘jcenter.bintray.com’. You may need to adjust the proxy settings in Gradle."></a>Android】android studio 报错 Unknown host ‘jcenter.bintray.com’. You may need to adjust the proxy settings in Gradle.</h2><p>解决方法:<a href="https://www.cnblogs.com/-mrl/p/11130684.html">https://www.cnblogs.com/-mrl/p/11130684.html</a></p><h2 id="【iOS-Android】接入高德地图"><a href="#【iOS-Android】接入高德地图" class="headerlink" title="【iOS/Android】接入高德地图"></a>【iOS/Android】接入高德地图</h2><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre class=" language-shell"><code class="language-shell">npm i react-native-amap3d# ios 项目需要更新 podscd iospod install</code></pre><p>本项目从 v2.0.0 开始支持 RN 的 autolinking，不再需要手动配置。</p><h2 id="获取高德-App-Key"><a href="#获取高德-App-Key" class="headerlink" title="获取高德 App Key"></a>获取高德 App Key</h2><p>为了使用高德 SDK，你需要准备高德 App Key，获取方法参考高德地图 SDK 官方文档：</p><ul><li><a href="https://lbs.amap.com/api/android-location-sdk/guide/create-project/get-key">获取 Android App Key</a></li><li><a href="https://lbs.amap.com/api/ios-location-sdk/guide/create-project/get-key">获取 iOS App Key</a></li></ul><h2 id="配置-Key"><a href="#配置-Key" class="headerlink" title="配置 Key"></a>配置 Key</h2><h3 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h3><p><code>android/app/src/main/AndroidManifest.xml</code></p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.amap.api.v2.apikey<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>你的高德 Key<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">></span></span></code></pre><h3 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h3><p><code>ios/UGoods/AppDelegate.m</code></p><pre class=" language-objc"><code class="language-objc">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {  // 高德地图  [AMapServices sharedServices].apiKey = @"你的高德 Key";}</code></pre><p>⚠️ <a href="https://github.com/qiuxiang/react-native-amap3d/issues/182">打包成apk之后坐标定位不准的问题</a></p><p>解决方案：<a href="https://blog.csdn.net/qq_25905161/article/details/81298254">https://blog.csdn.net/qq_25905161/article/details/81298254</a></p><h2 id="打开网页：React-Native-网页组件（WebView）的使用详解"><a href="#打开网页：React-Native-网页组件（WebView）的使用详解" class="headerlink" title="打开网页：React Native - 网页组件（WebView）的使用详解"></a>打开网页：React Native - 网页组件（WebView）的使用详解</h2><ul><li>官方文档：<br>(<a href="https://reactnative.cn/docs/webview#startinloadingstate">https://reactnative.cn/docs/webview#startinloadingstate</a>)</li><li>参考文档：<br>(<a href="https://www.jianshu.com/p/d4fa88cc3b3d">https://www.jianshu.com/p/d4fa88cc3b3d</a>)</li></ul><p>添加依赖包，使用命令</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 按文档上步骤发现需要安装依赖项: react-native-webview及react-native-get-random-values</span>yarn add react-native-webview yarn add react-native-get-random-values</code></pre><p><code>引用文件</code></p><pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token string">'react-native-get-random-values'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">{</span> WebView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-native-webview"</span></code></pre><p>官方最新的使用文档：<a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Getting-Started.md">https://github.com/react-native-community/react-native-webview/blob/master/docs/Getting-Started.md</a></p><p>官方最新的 API 文档：<a href="https://github.com/react-native-community/react-native-webview/blob/master/docs/Reference.md">https://github.com/react-native-community/react-native-webview/blob/master/docs/Reference.md</a></p><h2 id="【Android-iOS】禁用横屏显示"><a href="#【Android-iOS】禁用横屏显示" class="headerlink" title="【Android/iOS】禁用横屏显示"></a>【Android/iOS】禁用横屏显示</h2><h2 id="android-参考：https-blog-csdn-net-weixin-42222874-article-details-84958146"><a href="#android-参考：https-blog-csdn-net-weixin-42222874-article-details-84958146" class="headerlink" title="android 参考：https://blog.csdn.net/weixin_42222874/article/details/84958146"></a>android 参考：<a href="https://blog.csdn.net/weixin_42222874/article/details/84958146">https://blog.csdn.net/weixin_42222874/article/details/84958146</a></h2><p>添加在 <code>AndroidManifest.xml</code>文件：</p><pre><code>android:screenOrientation="portrait" </code></pre><p>修改 <code>android/app/src/main/AndroidManifest.xml</code></p><h2 id="iOS参考："><a href="#iOS参考：" class="headerlink" title="iOS参考："></a>iOS参考：</h2><p>修改：<code>ios/UGoods/Info.plist</code></p><pre class=" language-diff"><code class="language-diff"><span class="token deleted">&lt;key>UISupportedInterfaceOrientations&lt;/key></span><span class="token deleted">&lt;array></span>  &lt;string>UIInterfaceOrientationPortrait&lt;/string><span class="token inserted">+  &lt;string>UIInterfaceOrientationLandscapeLeft&lt;/string></span><span class="token inserted">+  &lt;string>UIInterfaceOrientationLandscapeRight&lt;/string></span><span class="token deleted">&lt;/array></span><span class="token deleted">&lt;key>UIViewControllerBasedStatusBarAppearance&lt;/key></span><span class="token deleted">&lt;false/></span></code></pre><h2 id="消息-对接第三方-JPush"><a href="#消息-对接第三方-JPush" class="headerlink" title="消息 - 对接第三方 JPush"></a>消息 - 对接第三方 JPush</h2><h3 id="Android-配置"><a href="#Android-配置" class="headerlink" title="Android 配置"></a>Android 配置</h3><p><code>android/app/build.gradle</code></p><pre class=" language-gradle"><code class="language-gradle">android {      defaultConfig {          applicationId "yourApplicationId"           // 在此替换你的应用包名          ...          manifestPlaceholders = [                  JPUSH_APPKEY: "yourAppKey",         // 在此替换你的APPKey，平台获取 APPKey                  JPUSH_CHANNEL: "yourChannel"        // 在此替换你的channel，默认 default 频道          ]      }  }dependencies {      ...      implementation project(':jpush-react-native')  // 添加 jpush 依赖      implementation project(':jcore-react-native')  // 添加 jcore 依赖  }</code></pre><p><code>android/settings.gradle</code></p><pre class=" language-gradle"><code class="language-gradle">include ':jpush-react-native'project(':jpush-react-native').projectDir = new File(rootProject.projectDir, '../node_modules/jpush-react-native/android')include ':jcore-react-native'project(':jcore-react-native').projectDir = new File(rootProject.projectDir, '../node_modules/jcore-react-native/android')</code></pre><p><code>android/app/src/main/AndroidManifest.xml</code></p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>JPUSH_CHANNEL<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${JPUSH_CHANNEL}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta-data</span>    <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>JPUSH_APPKEY<span class="token punctuation">"</span></span>    <span class="token attr-name"><span class="token namespace">android:</span>value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${JPUSH_APPKEY}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    </code></pre><p><a href="https://g.showgold.cn/ptug/app/UTruck/-/commit/c5e47869ed0a5e41051615dbf172b251876254ff"><code>android/app/src/main/java/com/&lt;项目名称&gt;/MainApplication.java</code></a></p><p>注意事项：</p><ol><li>更改符合规范的 <code>applicationId</code></li><li>引入 JPush 包 <a href="https://www.npmjs.com/package/jcore-react-native"><code>jcore-react-native</code></a> 和 <a href="https://www.npmjs.com/package/jpush-react-native"><code>jpush-react-native</code></a>，设置配置 </li></ol><blockquote><ul><li><a href="http://docs.jiguang.cn/jpush/client/iOS/ios_guide_new/">iOS SDK 集成指南</a></li><li><a href="http://docs.jiguang.cn/jpush/client/iOS/ios_cer_guide/">iOS 证书设置指南</a></li><li><del>选择简便的 <a href="http://docs.jiguang.cn/jpush/client/iOS/ios_cer_guide/#apns-auth-key">通过 APNs Auth Key 鉴权</a></del> <a href="http://docs.jiguang.cn/jpush/client/iOS/ios_cer_guide/#p12">通过 .p12 证书鉴权</a></li><li>Android 配置 e31ffbad</li><li>RN0.60以下需要打开，<a href="https://github.com/jpush/jpush-react-native/pull/782/files#diff-c72db56039c63ea3ef8a7cbf8ac124fcR14-R15">注意导包JPushPackage</a></li></ul></blockquote><p>⚠️ 下面 iOS 安装很重要，如果项目里使用pod安装过，请先执行命令 <code>pod deintegrate</code></p><pre class=" language-shell"><code class="language-shell">pod install# ⚠️ 注意：如果项目里使用pod安装过，请先执行命令pod deintegrate</code></pre><p>⚠️ 调试选择 <code>Debug</code> 模式，在模拟器上测试。在 <code>Release</code> 的时候不能用模拟器，要用真机，或者可以直接 <code>Archive</code></p><ol start="3"><li>获取 <code>RegistrationID</code> 调用 api 将 <code>RegistrationID</code> 告诉给后端</li></ol><blockquote><p><code>iOS</code> <a href="https://g.showgold.cn/anneng/ane-configure/-/issues/7">@anneng/ane-configure#7</a> 极光推送 JPUSH 不支持 i386 模拟器，使用 x86 模拟器或真机 </p><ul><li>从RN-JPush2.7.5开始，重新支持TypeScript</li><li>由于RN-JCore1.6.0存在编译问题，从RN-JCore1.7.0开始，还是需要在AndroidManifest.xml中添加配置代码，具体参考 配置-2.1 Android</li></ul></blockquote><h3 id="推送消息"><a href="#推送消息" class="headerlink" title="推送消息"></a>推送消息</h3><ul><li>开发测试 <code>JPUSH官网</code> -&gt; <code>添加消息推送</code> -&gt; <code>手机收到消息</code> -&gt; <code>存储消息model(持久化)</code> -&gt; <code>界面显示(获取model数据)</code></li><li>测试环境：<code>将获取到的 JPUSH RegisterID 通过 API 告诉后端</code> -&gt; <code>后台Server推送消息</code> -&gt; <code>JPUSH Server 收到消息</code> -&gt; <code>添加消息推送</code> -&gt; <code>手机收到消息</code> -&gt; <code>存储消息model(持久化)</code> -&gt; <code>界面显示(获取model数据)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ReactNative </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReactNative </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js基础回顾之var,let,const的区别</title>
      <link href="2021/030525415.html"/>
      <url>2021/030525415.html</url>
      
        <content type="html"><![CDATA[<h2 id="var"><a href="#var" class="headerlink" title="var"></a>var</h2><p>var定义的变量可以修改，如果不初始化会输出undefined，不会报错。（存在变量提升，能重复声明）</p><pre class=" language-js"><code class="language-js"> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// var a;//不会报错</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'函数外var定义a：'</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//可以输出a=1</span> <span class="token keyword">function</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> a <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'函数内var定义a：'</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//可以输出a=4</span> <span class="token punctuation">}</span>  <span class="token function">change</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'函数调用后var定义a为函数内部修改值：'</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//可以输出a=4</span></code></pre><p><strong>存在变量提升</strong></p><p>var命令会发生”变量提升“现象，即变量可以在声明之前使用，值为undefined。</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出undefined</span><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></code></pre><p>上面代码中，变量foo用var命令声明，会发生变量提升，即脚本开始运行时，变量foo已经存在了，但是没有值，所以会输出undefined。变量</p><h2 id="2-const"><a href="#2-const" class="headerlink" title="2.const"></a>2.const</h2><p>const定义的变量一旦声明，常量的值就不能改变。，而且必须初始化。（暂时性死区，不存在变量提升，声明后必须赋予初始值）</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> a<span class="token operator">=</span><span class="token number">5</span> <span class="token comment" spellcheck="true">//正确</span><span class="token comment" spellcheck="true">// const a;//错误，必须初始化 </span><span class="token comment" spellcheck="true">// a= 9;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//TypeError: Assignment to constant variable. 常量变量赋值。</span></code></pre><p>const的作用域与let命令相同：只在声明所在的块级作用域内有效。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> MAX <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">}</span>MAX <span class="token comment" spellcheck="true">// Uncaught ReferenceError: MAX is not defined</span></code></pre><p><strong>const声明后，值是否可以修改取决于的数据类型</strong></p><p>const实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指针，const只能保证这个指针是固定的，至于它指向的数据结构是不是可变的，就完全不能控制了。因此，将一个对象声明为常量必须非常小心。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 为 foo 添加一个属性，可以成功</span>foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>foo<span class="token punctuation">.</span>prop <span class="token comment" spellcheck="true">// 123</span><span class="token comment" spellcheck="true">// 将 foo 指向另一个对象，就会报错</span>foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// TypeError: "foo" is read-only</span></code></pre><p>上面代码中，常量foo储存的是一个地址，这个地址指向一个对象。不可变的只是这个地址，即不能把foo指向另一个地址，但对象本身是可变的，所以依然可以为其添加新属性。</p><h2 id="3-let"><a href="#3-let" class="headerlink" title="3.let"></a>3.let</h2><p>let是块级作用域，函数内部使用let定义后，对函数外部无影响。（暂时性死区，不存在变量提升，不能重复声明）</p><pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span>a <span class="token comment" spellcheck="true">// ReferenceError: a is not defined.</span>b <span class="token comment" spellcheck="true">// 1</span></code></pre><p>上面代码在代码块之中，分别用let和var声明了两个变量。然后在代码块之外调用这两个变量，结果let声明的变量报错，var声明的变量返回了正确的值。这表明，let声明的变量只在它所在的代码块有效。</p><p><strong>不存在变量提升</strong></p><p>var命令会发生”变量提升“现象，即变量可以在声明之前使用，值为undefined。这种现象多多少少是有些奇怪的，按照一般的逻辑，变量应该在声明语句之后才可以使用。</p><p>为了纠正这种现象，let命令改变了语法行为，它所声明的变量一定要在声明后使用，否则报错。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// let 的情况</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 报错ReferenceError</span><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></code></pre><p>变量bar用let命令声明，不会发生变量提升。这表示在声明它之前，变量bar是不存在的，这时如果用到它，就会抛出一个错误。</p><p><strong>暂时性死区</strong></p><p>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>上面代码中，存在全局变量tmp，但是块级作用域内let又声明了一个局部变量tmp，导致后者绑定这个块级作用域，所以在let声明变量前，对tmp赋值会报错。</p><p>ES6明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。</p><p><strong>不允许重复声明</strong></p><p>let不允许在相同作用域内，重复声明同一个变量。</p><pre><code>// 报错function () {  let a = 10;  let a = 1;}</code></pre>]]></content>
      
      
      <categories>
          
          <category> javascript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>巩固基础之Promise</title>
      <link href="2021/03047468.html"/>
      <url>2021/03047468.html</url>
      
        <content type="html"><![CDATA[<h2 id="promise是什么？"><a href="#promise是什么？" class="headerlink" title="promise是什么？"></a>promise是什么？</h2><p>1、主要用于异步计算</p><p>2、可以将异步操作队列化，按照期望的顺序执行，返回符合预期的结果</p><p>3、可以在对象之间传递和操作promise，帮助我们处理队列</p><p>ECMAscript 6 原生提供了 Promise 对象。</p><p>Promise 对象代表了未来将要发生的事件，用来传递异步操作的消息。</p><h2 id="为什么会有promise？"><a href="#为什么会有promise？" class="headerlink" title="为什么会有promise？"></a>为什么会有promise？</h2><p>为了避免界面冻结（任务）</p><p>同步：假设你去了一家饭店，找个位置，叫来服务员，这个时候服务员对你说，对不起我是“同步”服务员，我要服务完这张桌子才能招呼你。那桌客人明明已经吃上了，你只是想要个菜单，这么小的动作，服务员却要你等到别人的一个大动作完成之后，才能再来招呼你，这个便是同步的问题：也就是“顺序交付的工作1234，必须按照1234的顺序完成”。</p><p>异步：则是将耗时很长的A交付的工作交给系统之后，就去继续做B交付的工作，。等到系统完成了前面的工作之后，再通过回调或者事件，继续做A剩下的工作。<br>AB工作的完成顺序，和交付他们的时间顺序无关，所以叫“异步”。</p><p>最简单示例：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'执行完成'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Promise的构造函数接收一个参数，是函数，并且传入两个参数：resolve，reject，分别表示异步操作执行成功后的回调函数和异步操作执行失败后的回调函数。其实这里用“成功”和“失败”来描述并不准确，按照标准来讲，resolve是将Promise的状态置为fullfiled，reject是将Promise的状态置为rejected。</p><p>在上面的代码中，我们执行了一个异步操作，也就是setTimeout，2秒后，输出“执行完成”，并且调用resolve方法。</p><p>运行代码，会在2秒后输出“执行完成”。注意！我只是new了一个对象，并没有调用它，我们传进去的函数就已经执行了，这是需要注意的一个细节。所以我们用Promise的时候一般是包在一个函数中，在需要的时候去运行这个函数，如：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//做一些异步操作</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'执行完成'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'随便什么数据'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token function">runAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="Promise-对象两大特点"><a href="#Promise-对象两大特点" class="headerlink" title="Promise 对象两大特点:"></a>Promise 对象两大特点:</h2><p>1、对象的状态不受外界影响。Promise 对象代表一个异步操作，有三种状态：</p><p>pending: 初始状态，不是成功或失败状态。<br>fulfilled: 意味着操作成功完成。<br>rejected: 意味着操作失败。<br>只有异步操作的结果，可以决定当前是哪一种状态，任何其他操作都无法改变这个状态。这也是 Promise 这个名字的由来，它的英语意思就是「承诺」，表示其他手段无法改变。</p><p>2、一旦状态改变，就不会再变，任何时候都可以得到这个结果。Promise 对象的状态改变，只有两种可能：从 Pending 变为 Resolved 和从 Pending 变为 Rejected。只要这两种情况发生，状态就凝固了，不会再变了，会一直保持这个结果。就算改变已经发生了，你再对 Promise 对象添加回调函数，也会立即得到这个结果。这与事件（Event）完全不同，事件的特点是，如果你错过了它，再去监听，是得不到结果的。</p><h2 id="Promise-优缺点"><a href="#Promise-优缺点" class="headerlink" title="Promise 优缺点"></a>Promise 优缺点</h2><p>有了 Promise 对象，就可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数。此外，Promise 对象提供统一的接口，使得控制异步操作更加容易。</p><p>Promise 也有一些缺点。首先，无法取消 Promise，一旦新建它就会立即执行，无法中途取消。其次，如果不设置回调函数，Promise 内部抛出的错误，不会反应到外部。第三，当处于 Pending 状态时，无法得知目前进展到哪一个阶段（刚刚开始还是即将完成）。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>巩固基础之AJAX</title>
      <link href="2021/030423084.html"/>
      <url>2021/030423084.html</url>
      
        <content type="html"><![CDATA[<p>传统的网页（不使用 AJAX）如果需要更新内容，必需重载整个网页面。那这样肯定会造成浏览器性能的问题，那么这个时候，AJAX诞生了。</p><p>在 2005 年，Google 通过其 Google Suggest 使 AJAX 变得流行起来。</p><h2 id="什么是AJAX"><a href="#什么是AJAX" class="headerlink" title="什么是AJAX?"></a>什么是AJAX?</h2><p>AJAX = Asynchronous JavaScript and XML（异步的 JavaScript 和 XML）。AJAX 不是新的编程语言，而是一种使用现有标准的新方法。</p><p>简单的理解就是：AJAX是一种无需重新加载整个网页的情况下，就能够实现部分网页数据更新(指异步更新)的技术。</p><h2 id="AJax实例"><a href="#AJax实例" class="headerlink" title="AJax实例"></a>AJax实例</h2><p>创建一个简单的XMLHttpRequest，从一个TXT文件中返回数据。</p><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>AJAX实例<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">function</span> <span class="token function">Change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> xmlhttp<span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span>        xmlhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// IE6, IE5 浏览器执行代码</span>        xmlhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      xmlhttp<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>xmlhttp<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xmlhttp<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myDiv"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> xmlhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>      xmlhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"./a.txt"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      xmlhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myDiv<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>点击按钮替换文字<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Change()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 确定改变<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>创建一个a.txt文件，内容如下：</p><p>AJAX是一种无需重新加载整个网页的情况下，就能够实现部分网页数据更新(指异步更新)的技术。</p><h2 id="Ajax请求的步骤"><a href="#Ajax请求的步骤" class="headerlink" title="Ajax请求的步骤"></a>Ajax请求的步骤</h2><p> (1)创建<code>XMLHttpRequest</code>对象,也就是创建一个异步调用对象；</p><p>(2)创建一个新的<code>HTTP</code>请求,并指定该<code>HTTP</code>请求的方式、<code>URL</code>及验证信息；</p><p>(3)设置响应<code>HTTP</code>请求状态变化的函数；</p><p>(4)发送<code>HTTP</code>请求；</p><p>(5)获取异步调用返回的数据；</p><p>(6)使用JavaScript和DOM实现局部刷新。</p><h2 id="XMLHttpRequest对象"><a href="#XMLHttpRequest对象" class="headerlink" title="XMLHttpRequest对象"></a>XMLHttpRequest对象</h2><p>说到Ajax请求的步骤，第一步就是创建<code>XMLHttpRequest</code>对象，那么我们就来聊聊。</p><p>所有现代浏览器均支持 XMLHttpRequest 对象（IE5 和 IE6 使用 ActiveXObject）。同时XMLHttpRequest 也是 AJAX 的基础。XMLHttpRequest 用于在后台与服务器交换数据。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。</p><p><strong>创建 XMLHttpRequest 对象</strong></p><p>创建 XMLHttpRequest 对象的语法：</p><pre class=" language-js"><code class="language-js">variable<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>老版本的 Internet Explorer （IE5 和 IE6）使用 ActiveX 对象：</p><pre class=" language-js"><code class="language-js">variable<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>为了应对所有的现代浏览器，包括 IE5 和 IE6，请检查浏览器是否支持 XMLHttpRequest 对象。如果支持，则创建 XMLHttpRequest 对象。如果不支持，则创建 ActiveXObject ：</p><pre class=" language-js"><code class="language-js">   <span class="token keyword">var</span> xmlhttp<span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span>        xmlhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// IE6, IE5 浏览器执行代码</span>        xmlhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span></code></pre><h2 id="AJAX向服务器发送请求"><a href="#AJAX向服务器发送请求" class="headerlink" title="AJAX向服务器发送请求"></a>AJAX向服务器发送请求</h2><p>如果将请求发送到服务器，我们使用 XMLHttpRequest 对象的 open() 和 send() 方法：</p><pre><code>/*open方法描述：method：请求的类型；GET 或 POSTurl：文件在服务器上的位置async：true（异步）或 false（同步）*/xmlhttp.open("GET","ajax_info.txt",true);/**send()：将请求发送到服务器。*/xmlhttp.send();</code></pre><h2 id="AJAX-服务器-响应"><a href="#AJAX-服务器-响应" class="headerlink" title="AJAX - 服务器 响应"></a>AJAX - 服务器 响应</h2><p>如需获得来自服务器的响应，请使用 XMLHttpRequest 对象的 restonseText（获得字符串形式的响应数据。<br>） 或 responseXML（获得 XML 形式的响应数据。<br>） 属性。</p><p><strong>responseText 属性</strong><br>如果来自服务器的响应并非 XML，请使用 responseText 属性。</p><p>responseText 属性返回字符串形式的响应，因此您可以这样使用：</p><p>实例</p><pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myDiv"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>xmlhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span></code></pre><p><strong>responseXML 属性</strong><br>如果来自服务器的响应是 XML，而且需要作为 XML 对象进行解析，请使用 responseXML 属性：</p><p>例：请求 cd_catalog.xml 文件，并解析响应：</p><pre class=" language-htm"><code class="language-htm"><!DOCTYPE html><html><head><meta charset="utf-8"><script>function loadXMLDoc(){  var xmlhttp;  var txt,x,i;  if (window.XMLHttpRequest)  {    // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码    xmlhttp=new XMLHttpRequest();  }  else  {    // IE6, IE5 浏览器执行代码    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");  }  xmlhttp.onreadystatechange=function()  {    if (xmlhttp.readyState==4 && xmlhttp.status==200)    {      xmlDoc=xmlhttp.responseXML;      txt="";      x=xmlDoc.getElementsByTagName("ARTIST");      for (i=0;i<x.length;i++)      {        txt=txt + x[i].childNodes[0].nodeValue + "<br>";      }      document.getElementById("myDiv").innerHTML=txt;    }  }  xmlhttp.open("GET","cd_catalog.xml",true);  xmlhttp.send();}</script></head><body><h2>我收藏的 CD :</h2><div id="myDiv"></div><button type="button" onclick="loadXMLDoc()">获取我的 CD</button></body></html></code></pre><h2 id="AJAX-onreadystatechange-事件"><a href="#AJAX-onreadystatechange-事件" class="headerlink" title="AJAX - onreadystatechange 事件"></a>AJAX - onreadystatechange 事件</h2><p>当请求被发送到服务器时，我们需要执行一些基于响应的任务。</p><p>每当 readyState 改变时，就会触发 onreadystatechange 事件。</p><p>readyState 属性存有 XMLHttpRequest 的状态信息。</p><p>下面是 XMLHttpRequest 对象的三个重要的属性：</p><p><strong>onreadystatechange</strong>：    存储函数（或函数名），每当 readyState 属性改变时，就会调用该函数。</p><p><strong>readyState状态码</strong>：<br>存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。</p><p>0: 请求未初始化</p><p>1: 服务器连接已建立</p><p>2: 请求已接收</p><p>3: 请求处理中</p><p>4: 请求已完成，且响应已就绪</p><p><strong>http状态码（status）</strong></p><p>200：（成功）</p><p>403：（禁止）服务器拒绝请求</p><p>404：（未找到）服务器找不到请求的页面</p><p>408：（请求超时）服务器等候请求发生超时</p><p>500：（服务器内部错误）服务器遇到错误，无法完成请求</p><p>在 onreadystatechange 事件中，我们规定当服务器响应已做好被处理的准备时所执行的任务。</p><p>当 readyState 等于 4 且状态为 200 时，表示响应已就绪：</p><p>在 onreadystatechange 事件中，我们规定当服务器响应已做好被处理的准备时所执行的任务。</p><p>当 readyState 等于 4 且状态为 200 时，表示响应已就绪：</p><pre class=" language-js"><code class="language-js">xmlhttp<span class="token punctuation">.</span>onreadystatechange<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>xmlhttp<span class="token punctuation">.</span>readyState<span class="token operator">==</span><span class="token number">4</span> <span class="token operator">&amp;&amp;</span> xmlhttp<span class="token punctuation">.</span>status<span class="token operator">==</span><span class="token number">200</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"myDiv"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token operator">=</span>xmlhttp<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>onreadystatechange 事件被触发 4 次（0 - 4）, 分别是： 0-1、1-2、2-3、3-4，对应着 readyState 的每个变化。</p>]]></content>
      
      
      <categories>
          
          <category> AJAX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AJAX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redux</title>
      <link href="2021/030328096.html"/>
      <url>2021/030328096.html</url>
      
        <content type="html"><![CDATA[<h2 id="Redux适用场景-多交互、多数据源"><a href="#Redux适用场景-多交互、多数据源" class="headerlink" title="Redux适用场景(多交互、多数据源)"></a>Redux适用场景(多交互、多数据源)</h2><ol><li><p>用户的使用方式复杂</p></li><li><p>不同身份的用户有不同的使用方式（比如普通用户和管理员）</p></li><li><p>多个用户之间可以协作</p></li><li><p>与服务器大量交互，或者使用了WebSocket</p></li><li><p>View要从多个来源获取数据</p></li></ol><p>从组件角度看，如果你的应用有以下场景，可以考虑使用 Redux。</p><p>1.某个组件的状态，需要共享</p><p>2.某个状态需要在任何地方都可以拿到</p><p>3.一个组件需要改变全局状态</p><p>4.一个组件需要改变另一个组件的状态</p><p>总之，如果你的应用没那么复杂，就没必要用Redux。另一方面，Redux 只是 Web 架构的一种解决方案，也可以选择其他方案.</p><h2 id="Redux的设计思想"><a href="#Redux的设计思想" class="headerlink" title="Redux的设计思想"></a>Redux的设计思想</h2><p>Redux 的设计思想很简单，就两句话。</p><p>（1）Web 应用是一个状态机，视图与状态是一一对应的。</p><p>（2）所有的状态，保存在一个对象里面。</p><h2 id="Redux的基本概念和-API"><a href="#Redux的基本概念和-API" class="headerlink" title="Redux的基本概念和 API"></a>Redux的基本概念和 API</h2><p><strong>1.Store</strong></p><p>Store 就是保存数据的地方，你可以把它看成一个容器。整个应用只能有一个 Store。</p><p><strong>如何生成store?</strong></p><p>Readux提供了一个createStore这样一个函数，是用来生成Store的</p><pre class=" language-js"><code class="language-js">ipmort <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">"redux"</span><span class="token keyword">const</span> store <span class="token operator">=</span><span class="token function">createStore</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span></code></pre><p>上面代码中，createStore函数接受另一个函数作为参数，返回新生成的 Store 对象。</p><p><strong>2.State</strong></p><p>Store对象包含所有数据。如果想得到某个时点的数据，就要对 Store 生成快照。这种时点的数据集合，就叫做 State。</p><p>简单点说：State是Store所有数据在某一时刻数据集合的快照</p><p><strong>如何获取 当前时刻的 State？</strong></p><p>当前时刻的 State，可以通过state.getState()拿到。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//store.getState()获取 当前时刻的 State</span></code></pre><p>Redux 规定， 一个 State 对应一个 View。只要 State 相同，View 就相同。你知道 State，就知道 View 是什么样，反之亦然。</p><p><strong>3.Action(动作的意思)</strong></p><p>刚刚有说到，只要 State 相同，View 就相同。很明显可以得知State和View存在互相影响关系，换句话说就是State 的变化，会导致 View 的变化。</p><p>但是，用户接触不到 State，只能接触到 View。所以，State 的变化必须是 View 导致的。Action 就是 View 发出的通知，表示 State 应该要发生变化了。</p><p>Action 是一个对象。其中的type属性是必须的，表示 Action 的名称。其他属性可以自由设置，</p><pre class=" language-js"><code class="language-js">例子<span class="token number">1</span>，<span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token punctuation">{</span>  type<span class="token punctuation">:</span> <span class="token string">'ADD_TODO'</span><span class="token punctuation">,</span>  payload<span class="token punctuation">:</span> <span class="token string">'Learn Redux'</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>上面代码中，Action 的名称是ADD_TODO，它携带的信息是字符串Learn Redux。</p><p>可以这样理解，Action 描述当前发生的事情。改变 State 的唯一办法，就是使用 Action。它会运送数据到 Store。</p><p><strong>4.Action Creator</strong></p><p>View 要发送多少种消息，就会有多少种 Action。如果都手写，会很麻烦。可以定义一个函数来生成 Action，这个函数就叫 Action Creator。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> ADD_TODO <span class="token operator">=</span> <span class="token string">'添加 TODO'</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">addTodo</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">{</span>    type<span class="token punctuation">:</span> ADD_TODO<span class="token punctuation">,</span>    text  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token string">'Learn Redux'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面代码中，addTodo函数就是一个 Action Creator。</p><p><strong>5.store.dispatch()：触发Action(动作)</strong></p><p>刚刚有说到，改变 State 的唯一办法，就是使用 Action。那么如何来使用Action呢</p><p><strong>使用Action</strong></p><p>store.dispatch()是View发出的Action的唯一方法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  type<span class="token punctuation">:</span> <span class="token string">'ADD_TODO'</span><span class="token punctuation">,</span>  payload<span class="token punctuation">:</span> <span class="token string">'Learn Redux'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面代码中，store.dispatch接受一个 Action 对象作为参数，将它发送出去。</p><p>结合 Action Creator，这段代码可以改写如下。</p><pre class=" language-js"><code class="language-js">store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token string">'Learn Redux'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>6.Reducer</strong></p><p>Store 收到 Action 以后，必须给出一个新的 State，这样 View 才会发生变化。这种 State 的计算过程就叫做 Reducer。</p><p>Reducer 是一个函数，它接受 Action 和当前 State 作为参数，返回一个新的 State。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// ...</span>  <span class="token keyword">return</span> new_state<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>整个应用的初始状态，可以作为 State 的默认值。下面是一个实际的例子。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> defaultState <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token punctuation">(</span>state <span class="token operator">=</span> defaultState<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">case</span> <span class="token string">'ADD'</span><span class="token punctuation">:</span>      <span class="token keyword">return</span> state <span class="token operator">+</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>    <span class="token keyword">default</span><span class="token punctuation">:</span>       <span class="token keyword">return</span> state<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  type<span class="token punctuation">:</span> <span class="token string">'ADD'</span><span class="token punctuation">,</span>  payload<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面代码中，reducer函数收到名为ADD的 Action 以后，就返回一个新的 State，作为加法的计算结果。其他运算的逻辑（比如减法），也可以根据 Action 的不同来实现。</p><p>实际应用中，Reducer 函数不用像上面这样手动调用，store.dispatch方法会触发 Reducer 的自动执行。为此，Store 需要知道 Reducer 函数，做法就是在生成 Store 的时候，将 Reducer 传入createStore方法。</p><p>实际应用中，Reducer 函数不用像上面这样手动调用，store.dispatch方法会触发 Reducer 的自动执行。为此，Store 需要知道 Reducer 函数，做法就是在生成 Store 的时候，将 Reducer 传入createStore方法。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面代码中，createStore接受 Reducer 作为参数，生成一个新的 Store。以后每当store.dispatch发送过来一个新的 Action，就会自动调用 Reducer，得到新的 State。</p><p>为什么这个函数叫做 Reducer 呢？因为它可以作为数组的reduce方法的参数。请看下面的例子，一系列 Action 对象按照顺序作为一个数组。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'ADD'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'ADD'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'ADD'</span><span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> total <span class="token operator">=</span> actions<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span></code></pre><p>上面代码中，数组actions表示依次有三个 Action，分别是加0、加1和加2。数组的reduce方法接受 Reducer 函数作为参数，就可以直接得到最终的状态3。</p><h2 id="纯函数"><a href="#纯函数" class="headerlink" title="纯函数"></a>纯函数</h2><p>Reducer 函数最重要的特征是，它是一个纯函数。也就是说，只要是同样的输入，必定得到同样的输出。</p><p>纯函数是函数式编程的概念，必须遵守以下一些约束。</p><p>不得改写参数</p><p>不能调用系统 I/O 的API</p><p>不能调用Date.now()或者Math.random()等不纯的方法，因为每次会得到不一样的结果</p><p>由于 Reducer 是纯函数，就可以保证同样的State，必定得到同样的 View。但也正因为这一点，Reducer 函数里面不能改变 State，必须返回一个全新的对象，请参考下面的写法。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// State 是一个对象</span><span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> <span class="token punctuation">{</span> thingToChange <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 或者</span>  <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token operator">...</span>newState <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// State 是一个数组</span><span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">,</span> newItem<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>  最好把 State 对象设成只读。你没法改变它，要得到新的 State，唯一办法就是生成一个新对象。这样的好处是，任何时候，与某个 View 对应的 State 总是一个不变的对象</p><h2 id="store-subscribe-监听Store变化"><a href="#store-subscribe-监听Store变化" class="headerlink" title="store.subscribe():监听Store变化"></a>store.subscribe():监听Store变化</h2><p>Store 允许使用store.subscribe方法设置监听函数，一旦 State 发生变化，就自动执行这个函数。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span>store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>显然，只要把 View 的更新函数（对于 React 项目，就是组件的render方法或setState方法）放入listen，就会实现 View 的自动渲染。</p><p>store.subscribe方法返回一个函数，调用这个函数就可以解除监听。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> unsubscribe <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>总结：Redux是一个用来管理数据状态和UI状态的JavaScript应用工具。可以帮我们更好的去管理数据，实现多个组件的状态共享。在react中，redux能够使各个组件的数据传递更加的方便。</p><p>redux的三大核心：</p><p>action：action可以说是一个动作，用来描述将要触发的事件。</p><p>state：单一数据源，用来存储我们的数据。</p><p>reducer：通过触发的action事件来改变state的值。</p>]]></content>
      
      
      <categories>
          
          <category> Redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react之组件之间的3种传值方法</title>
      <link href="2021/030248527.html"/>
      <url>2021/030248527.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-父组件向子组件传值（通过props传值）："><a href="#1-父组件向子组件传值（通过props传值）：" class="headerlink" title="1.父组件向子组件传值（通过props传值）："></a>1.父组件向子组件传值（通过props传值）：</h2><p>  父组件通过属性的方式传递参数，子组件通过props来接收父组件传递过来的参数</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>高阶函数_函数柯里化<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>        <span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">//父组件（直接定义一个属性传值即可）</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>Child desc<span class="token operator">=</span><span class="token string">"父组件通过属性的方式传递参数，子组件通过props来接收父组件传递过来的参数"</span> <span class="token operator">/</span><span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">//子组件（通过this.props.父组件定义的属性 来接收父组件传递过来的参数）</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>h1<span class="token operator">></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>desc<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//渲染组件</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Father <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p><strong>总结</strong>: 将父组件的值直接通过props传入子组件，子组件直接使用该值即可。</p><h2 id="子向父传值-（回调函数）"><a href="#子向父传值-（回调函数）" class="headerlink" title="子向父传值(（回调函数）)"></a>子向父传值(（回调函数）)</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>组件子传父<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>        <span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>            state <span class="token operator">=</span> <span class="token punctuation">{</span>                bgcolor<span class="token punctuation">:</span> <span class="token string">'pink'</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            bgChange <span class="token operator">=</span> <span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                    bgcolor<span class="token punctuation">:</span> color<span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token function">render</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> background<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>bgcolor <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>Children                            changeColor<span class="token operator">=</span><span class="token punctuation">{</span>                                <span class="token keyword">this</span><span class="token punctuation">.</span>bgChange                            <span class="token punctuation">}</span>                        <span class="token operator">/</span><span class="token operator">></span>                        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/*changeColor 子组件的参数=color 当做形参*/</span><span class="token punctuation">}</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">class</span> <span class="token class-name">Children</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">/*子组件（通过this.props.事件名(参数)的方式向父组件传递参数）*/</span>            handerClick <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">/*执行父组件的changeColor 并传参 必须和父组件中的函数一模一样*/</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handerClick<span class="token punctuation">}</span><span class="token operator">></span>改变父组件背景<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>                        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/*子组件执行函数*/</span><span class="token punctuation">}</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//渲染组件</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Father <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p><strong>总结</strong>: 将父组件的改变状态的方法传入子组件的props,绑定给子组件中的某些触发事件譬如按钮的点击，输入框输入等等，得到子组件的值或状态或动作再调用父组件的方法得到子组件中的值。</p><h2 id="3-兄弟间传值"><a href="#3-兄弟间传值" class="headerlink" title="3.兄弟间传值"></a>3.兄弟间传值</h2><p>兄弟间传值由于没有任何嵌套关系，但是两个兄弟组件之间会有一个共同的父组件，我们都是结合父子传值的方式来实现兄弟之间的传值的，即先其中一个子组件（兄弟组件）向父组件传值，然后父组件接收到这个值之后再将值传递给另外一个子组件（兄弟组件）<br>所以结合上述两种情况，很容易想到将需要共享的值和方法使用上述的方法传至共同的父组件，由父组件再传入。<br>建议使用react-redux或者dva框架</p><p>下面这个例子，我们来将之前的实例眼神里下：</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>组件子传父<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>        <span class="token keyword">class</span> <span class="token class-name">Father</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>            state <span class="token operator">=</span> <span class="token punctuation">{</span>                bgcolor<span class="token punctuation">:</span> <span class="token string">'pink'</span><span class="token punctuation">,</span>                name<span class="token punctuation">:</span> <span class="token string">'触发按钮我接受兄弟Children1的数据'</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            bgChange <span class="token operator">=</span> <span class="token punctuation">(</span>color<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'color,,,'</span><span class="token punctuation">,</span> color<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                    bgcolor<span class="token punctuation">:</span> color<span class="token punctuation">,</span>                    name<span class="token punctuation">,</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> background<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>bgcolor <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>Children1 changeColor<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>bgChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>Children2 name<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>                        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/*changeColor 子组件的参数=color 当做形参*/</span><span class="token punctuation">}</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">class</span> <span class="token class-name">Children1</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">/*子组件（通过this.props.事件名(参数)的方式向父组件传递参数）*/</span>            state <span class="token operator">=</span> <span class="token punctuation">{</span>                name<span class="token punctuation">:</span> <span class="token string">'我已经拿到了数据哦'</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            handerClick <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">changeColor</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">/*执行父组件的changeColor 并传参 必须和父组件中的函数一模一样*/</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handerClick<span class="token punctuation">}</span><span class="token operator">></span>改变父组件背景<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>                        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/*子组件执行函数*/</span><span class="token punctuation">}</span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">class</span> <span class="token class-name">Children2</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>div<span class="token operator">></span>                        <span class="token operator">&lt;</span>h1<span class="token operator">></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//渲染组件</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Father <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react之高阶组件</title>
      <link href="2021/030250499.html"/>
      <url>2021/030250499.html</url>
      
        <content type="html"><![CDATA[<h2 id="高阶函数定义"><a href="#高阶函数定义" class="headerlink" title="高阶函数定义"></a>高阶函数定义</h2><p>如果一个函数符合下面2个规范中的任何一个，那该函数就是高阶函数。</p><p>1.若A函数，接收的参数是一个函数，那么A就可以称之为高阶函数。</p><p>2.若A函数，调用的返回值依然是一个函数，那么A就可以称之为高阶函数。</p><p>简单理解就是：</p><p>高阶函数是一个特别的函数，接受函数类型的参数，返回值是也是函数</p><p><strong>常见的高阶函数有</strong></p><p>​ a. 定时器: setTimeout()/setInterval()</p><p>​ b. Promise: Promise(() =&gt; {}) then(value =&gt; {}, reason =&gt; {})</p><p>​ c. 数组遍历相关的方法: forEach()/filter()/map()/reduce()/find()/findIndex()</p><p>​ d. 函数对象的bind()</p><p>​ e. Form.create()() / getFieldDecorator()()</p><p>我现在编写一个高阶函数的实例，需求是这样，在输入框输入相应值，点击<code>确定</code>按钮弹出输入的值</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>高阶函数_函数柯里化<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>        <span class="token comment" spellcheck="true">//创建组件</span>        <span class="token keyword">class</span> <span class="token class-name">Login</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//初始化状态</span>            state <span class="token operator">=</span> <span class="token punctuation">{</span>                username<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//用户名</span>                password<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//密码</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//保存表单数据到状态中</span>            saveFormData <span class="token operator">=</span> <span class="token punctuation">(</span>dataType<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//saveFormData这个就是一个高阶函数</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>dataType<span class="token punctuation">]</span><span class="token punctuation">:</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//表单提交的回调</span>            handleSubmit <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//阻止表单提交</span>                <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`你输入的用户名是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,你输入的密码是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>password<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>                    <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">></span>                        用户名：                        <span class="token operator">&lt;</span>input                            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                            type<span class="token operator">=</span><span class="token string">"text"</span>                            name<span class="token operator">=</span><span class="token string">"username"</span>                        <span class="token operator">/</span><span class="token operator">></span>              密码：                        <span class="token operator">&lt;</span>input                            onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveFormData</span><span class="token punctuation">(</span><span class="token string">'password'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>                            type<span class="token operator">=</span><span class="token string">"password"</span>                            name<span class="token operator">=</span><span class="token string">"password"</span>                        <span class="token operator">/</span><span class="token operator">></span>                        <span class="token operator">&lt;</span>button<span class="token operator">></span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>                    <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//渲染组件</span>        ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Login <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>以上saveFormData这个就是一个高阶函数，因为它满足高阶函数的定义条件。</p><h2 id="高阶组件的定义"><a href="#高阶组件的定义" class="headerlink" title="高阶组件的定义"></a>高阶组件的定义</h2><p>高阶组件(HOC)就是接受一个组件作为参数并返回一个新组件的函数。这里需要注意高阶组件是一个函数，并不是组件，这一点一定要注意。<br>同时这里强调一点高阶组件本身并不是 React API。它只是一种模式，这种模式是由 React 自身的组合性质必然产生的。</p><p>简单理解就是：​ 本质就是一个函数定义,且该函数接受一个组件作为参数，并返回一个新的组件。</p><p><strong>1、最普通的组件</strong></p><p>welcome函数转为react组件。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>            username<span class="token punctuation">:</span> <span class="token string">''</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> username <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            username<span class="token punctuation">:</span> username        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>welcome <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> Welcome<span class="token punctuation">;</span></code></pre><p>goodbey函数转为react组件。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">class</span> <span class="token class-name">Goodbye</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>            username<span class="token punctuation">:</span> <span class="token string">''</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> username <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>            username<span class="token punctuation">:</span> username        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>goodbye <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">default</span> Goodbye<span class="token punctuation">;</span></code></pre><p>我们发现两个组件中有一句代码是一样的，这叫冗余。<br>我们来写一个高阶组件(高阶组件就是一个函数，且该函数接受一个组件作为参数，并返回一个新的组件)。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>WrappedComponent<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">class</span> <span class="token class-name">NewComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>        <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>                username<span class="token punctuation">:</span> <span class="token string">''</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">let</span> username <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>                username<span class="token punctuation">:</span> username            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent username<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> NewComponent<span class="token punctuation">}</span></code></pre><p>这样我们就能简化Welcome组件和Goodbye组件。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">import</span> wrapWithUsername <span class="token keyword">from</span> <span class="token string">'wrapWithUsername'</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>welcome <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>Welcome <span class="token operator">=</span> <span class="token function">wrapWithUsername</span><span class="token punctuation">(</span>Welcome<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Welcome<span class="token punctuation">;</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">import</span> wrapWithUsername <span class="token keyword">from</span> <span class="token string">'wrapWithUsername'</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Goodbye</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>goodbye <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>Goodbye <span class="token operator">=</span> <span class="token function">wrapWithUsername</span><span class="token punctuation">(</span>Goodbye<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Goodbye<span class="token punctuation">;</span></code></pre><p>高阶组件就是把username通过props传递给目标组件了。目标组件只管从props里面拿来用就好了。</p><p>例子2</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>高阶组件例子<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script      type<span class="token operator">=</span><span class="token string">"text/javascript"</span>      src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span>    <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>      <span class="token keyword">function</span> <span class="token function">withHeader</span><span class="token punctuation">(</span>WrappedComponent<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">class</span> <span class="token class-name">HOC</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>          <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>              <span class="token operator">&lt;</span>div<span class="token operator">></span>                <span class="token operator">&lt;</span>legend<span class="token operator">></span>默认标题<span class="token operator">&lt;</span><span class="token operator">/</span>legend<span class="token operator">></span>                <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>              <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span>我是一个普通组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>      <span class="token keyword">const</span> WithHeaderDemo <span class="token operator">=</span> <span class="token function">withHeader</span><span class="token punctuation">(</span>Demo<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//渲染组件</span>      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>WithHeaderDemo <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react之Hook笔记</title>
      <link href="2021/030238204.html"/>
      <url>2021/030238204.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-组件类的缺点"><a href="#1-组件类的缺点" class="headerlink" title="1.组件类的缺点"></a>1.组件类的缺点</h2><p>Redux 的作者 Dan Abramov 总结了组件类的几个缺点。</p><ol><li><p>大型组件很难拆分和重构，也很难测试。</p></li><li><p>业务逻辑分散在组件的各个方法之中，导致重复逻辑或关联逻辑。</p></li><li><p>组件类引入了复杂的编程模式，比如 render props 和高阶组件。</p></li></ol><p>下面我们编写<code>点击按钮后实现按钮文字替换的效果</code>例子</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Button</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> buttonText<span class="token punctuation">:</span> <span class="token string">"Click me, please"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">{</span> buttonText<span class="token punctuation">:</span> <span class="token string">"Thanks, been clicked!"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token punctuation">{</span> buttonText <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>buttonText<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>可以看到，它的代码已经很”重”了。真实的 React App 由多个类按照层级，一层层构成，复杂度成倍增长。再加入 Redux，就变得更复杂。</p><h2 id="2-什么是纯函数组件"><a href="#2-什么是纯函数组件" class="headerlink" title="2.什么是纯函数组件"></a>2.什么是纯函数组件</h2><p>纯函数组件：它不能包含状态和不支持生命周期方法</p><p>实例</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">PureFunction</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>这个函数只做一件事，就是根据输入的参数，返回组件的 HTML 代码。这种只进行单纯的数据计算（换算）的函数，在函数式编程里面称为 “纯函数”</p><h2 id="3-什么是函数副效应？"><a href="#3-什么是函数副效应？" class="headerlink" title="3.什么是函数副效应？"></a>3.什么是函数副效应？</h2><p>看到这里，你可能会产生一个疑问：如果纯函数只能进行数据计算，那些不涉及计算的操作（比如生成日志、储存数据、改变应用状态等等）应该写在哪里呢？</p><p>函数式编程将那些跟数据计算无关的操作，都称为 “副效应” （side effect） 。如果函数内部直接包含产生副效应的操作，就不再是纯函数了，我们称之为不纯的函数。</p><h2 id="4-hook"><a href="#4-hook" class="headerlink" title="4.hook"></a>4.hook</h2><p><code>概念</code>：Hook 这个单词的意思是”钩子”。React Hooks 的意思是，组件尽量写成纯函数，如果需要外部功能和副作用，就用钩子把外部代码”钩”进来。 React Hooks 就是那些钩子。所有的钩子都是为函数引入外部功能，所以 React 约定，钩子一律使用use前缀命名，便于识别。你要使用 xxx 功能，钩子就命名为 usexxx。</p><p><code>设计目的</code>：React Hooks 的设计目的，就是加强版函数组件，完全不使用”类”，就能写出一个全功能的组件。</p><p>简单的理解就是：hook就是让你的函数组件产生副效应，使你的函数组件也能更改运用状态,输出日志</p><p>下面介绍 React 默认提供的四个最常用的钩子。</p><p>useState()</p><p>useContext()</p><p>useReducer()</p><p>useEffect()</p><h2 id="4-1-useState-：状态钩子"><a href="#4-1-useState-：状态钩子" class="headerlink" title="4.(1):useState()：状态钩子"></a>4.(1):useState()：状态钩子</h2><p>useState()用于函数组件引入状态，纯函数不能有状态，所以把状态放在钩子里面。</p><p>现在我们把之前那个<code>点击按钮，会导致按钮的文字改变</code>的例子用Hook来写</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span>  <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>  <span class="token keyword">const</span>  <span class="token punctuation">[</span>buttonText<span class="token punctuation">,</span> setButtonText<span class="token punctuation">]</span> <span class="token operator">=</span>  <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">"Click me,   please"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">setButtonText</span><span class="token punctuation">(</span><span class="token string">"Thanks, been clicked!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span>  <span class="token operator">&lt;</span>button  onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">></span><span class="token punctuation">{</span>buttonText<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>上面代码中，Button 组件是一个函数，内部使用useState()钩子引入状态。</p><p>useState()这个函数接受状态的初始值，作为参数，上例的初始值为按钮的文字。该函数返回一个数组，数组的第一个成员是一个变量（上例是buttonText），指向状态的当前值。第二个成员是一个函数，用来更新状态，约定是set前缀加上状态的变量名（上例是setButtonText）。</p><p>总结：useState 会返回一对值：当前状态和一个让你更新它的函数，你可以在事件处理函数中或其他一些地方调用这个函数。它类似 class 组件的 this.setState，但是它不会把新的 state 和旧的 state 进行合并。</p><h2 id="4-2-useContext-：共享状态钩子"><a href="#4-2-useContext-：共享状态钩子" class="headerlink" title="4.(2):useContext()：共享状态钩子"></a>4.(2):useContext()：共享状态钩子</h2><p>如果需要在组件之间共享状态，可以使用useContext()。</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>title<span class="token operator">></span>HOOK<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>    <span class="token keyword">const</span> AppContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> N <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> <span class="token punctuation">{</span> describe <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>AppContext<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span>h2<span class="token operator">></span><span class="token punctuation">{</span>describe<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> D <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> <span class="token punctuation">{</span> describe <span class="token punctuation">}</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useContext</span><span class="token punctuation">(</span>AppContext<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span>h2<span class="token operator">></span><span class="token punctuation">{</span>describe<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/*AppContext.Provider提供了一个 Context 对象，这个对象可以被子组件共享。*/</span><span class="token punctuation">}</span>        <span class="token operator">&lt;</span>AppContext<span class="token punctuation">.</span>Provider          value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>            describe<span class="token punctuation">:</span> <span class="token string">'我是hookc常见钩子useContext()，是一个用于共享状态钩子'</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">}</span>        <span class="token operator">></span>          <span class="token operator">&lt;</span>N <span class="token operator">/</span><span class="token operator">></span>          <span class="token operator">&lt;</span>D <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>AppContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>C <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><h2 id="4-3-useReducer-：action-钩子"><a href="#4-3-useReducer-：action-钩子" class="headerlink" title="4.(3):useReducer()：action 钩子"></a>4.(3):useReducer()：action 钩子</h2><p>React 本身不提供状态管理功能，通常需要使用外部库。这方面最常用的库是 Redux。</p><p>Redux 的核心概念是，组件发出 action 与状态管理器通信。状态管理器收到 action(动作) 以后，使用 Reducer 函数算出新的状态，Reducer 函数的形式是(state, action) =&gt; newState。</p><p>useReducers()钩子用来引入 Reducer 功能。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面是useReducer()的基本用法，它接受 Reducer 函数和状态的初始值作为参数，返回一个数组。数组的第一个成员是状态的当前值，第二个成员是发送 action 的dispatch函数。</p><p>下面是一个计数器的例子。用于计算状态的 Reducer 函数如下。</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>HOOK<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script      type<span class="token operator">=</span><span class="token string">"text/javascript"</span>      src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span>    <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>      <span class="token keyword">const</span> myReducer <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">case</span> <span class="token string">'countUp'</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> <span class="token punctuation">{</span>              <span class="token operator">...</span>state<span class="token punctuation">,</span>              count<span class="token punctuation">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token punctuation">}</span><span class="token punctuation">;</span>          <span class="token keyword">default</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> state<span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">;</span>      <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useReducer</span><span class="token punctuation">(</span>myReducer<span class="token punctuation">,</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//第一个参数为 Reducer 函数,第二个是状态的初始值</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>          <span class="token operator">&lt;</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'countUp'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>            <span class="token operator">&lt;</span>p<span class="token operator">></span>Count<span class="token punctuation">:</span> <span class="token punctuation">{</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>由于 Hooks 可以提供共享状态和 Reducer 函数，所以它在这些方面可以取代 Redux。但是，它没法提供中间件（middleware）和时间旅行（time travel），如果你需要这两个功能，还是要用 Redux。</p><h2 id="4-4-useEffect-副作用钩子"><a href="#4-4-useEffect-副作用钩子" class="headerlink" title="4.(4):useEffect():副作用钩子"></a>4.(4):useEffect():副作用钩子</h2><p>useEffect()用来引入具有副作用的操作，这个副作用钩子跟 class 组件中的 componentDidMount、componentDidUpdate 和 componentWillUnmount 具有相同的用途，只不过被合并成了一个 API。，最常见的就是向服务器请求数据。</p><p>useEffect()的用法如下。</p><pre class=" language-js"><code class="language-js"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">=</span><span class="token operator">></span>  <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// Async Action</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dependencies<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>上面用法中，useEffect()接受两个参数。第一个参数是一个函数，异步操作的代码放在里面。第二个参数是一个数组，用于给出 Effect 的依赖项，只要这个数组发生变化，useEffect()就会执行。第二个参数可以省略，这时每次组件渲染时，就会执行useEffect()。</p><p>下面看一个例子。</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span> <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>HOOK<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script      type<span class="token operator">=</span><span class="token string">"text/javascript"</span>      src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span>    <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>      <span class="token keyword">function</span> <span class="token function">Button</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>          document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token template-string"><span class="token string">`You clicked </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>count<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> times`</span></span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>          <span class="token operator">&lt;</span>div<span class="token operator">></span>            <span class="token operator">&lt;</span>p<span class="token operator">></span>You clicked <span class="token punctuation">{</span>count<span class="token punctuation">}</span> times<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>Click me<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Button <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>上面代码中，每当点击按钮是，<code>You clicked ${count} times</code>中的count都会发生变化，useEffect()就会执行。组件第一次渲染时，useEffect()也会执行。</p><h2 id="创建自己的-Hooks"><a href="#创建自己的-Hooks" class="headerlink" title="创建自己的 Hooks"></a>创建自己的 Hooks</h2><p>上例的 Hooks 代码还可以封装起来，变成一个自定义的 Hook，便于共享。</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>title<span class="token operator">></span>HOOK<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>    <span class="token keyword">const</span> usePerson <span class="token operator">=</span> <span class="token punctuation">(</span>personId<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//usePerson()就是一个自定义的 Hook。</span>      <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">const</span> <span class="token punctuation">[</span>person<span class="token punctuation">,</span> setPerson<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://swapi.co/api/people/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>personId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/`</span></span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>data <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>            <span class="token function">setPerson</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>personId<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> person<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> Person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> personId <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> person<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">usePerson</span><span class="token punctuation">(</span>personId<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>loading <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">></span>Loading <span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>div<span class="token operator">></span>          <span class="token operator">&lt;</span>p<span class="token operator">></span>You're viewing<span class="token punctuation">:</span> <span class="token punctuation">{</span>person<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>          <span class="token operator">&lt;</span>p<span class="token operator">></span>Height<span class="token punctuation">:</span> <span class="token punctuation">{</span>person<span class="token punctuation">.</span>height<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>          <span class="token operator">&lt;</span>p<span class="token operator">></span>Mass<span class="token punctuation">:</span> <span class="token punctuation">{</span>person<span class="token punctuation">.</span>mass<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Person <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>注：文章借鉴<br><a href="http://www.ruanyifeng.com/blog/2019/09/react-hooks.html">React Hooks 入门教程</a></p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react中constructor和super()以及super(props)的区别。</title>
      <link href="2021/03013245.html"/>
      <url>2021/03013245.html</url>
      
        <content type="html"><![CDATA[<p>由于react是现在项目工程经常用到的，但是一直不太懂constructor和super()以及super(props)的区别，为此我特此总结了一下，便于自己学习。</p><h2 id="1-定义class组件，为什么需要加上-super-？"><a href="#1-定义class组件，为什么需要加上-super-？" class="headerlink" title="1. 定义class组件，为什么需要加上 super() ？"></a>1. 定义class组件，为什么需要加上 super() ？</h2><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>HOOK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 准备好一个“容器” --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 引入react核心库 --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../js/react.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 引入react-dom，用于支持react操作DOM --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../js/react-dom.development.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token comment" spellcheck="true">&lt;!-- 引入babel，用于将jsx转为js --></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>../js/babel.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/babel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">    <span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"but"</span><span class="token punctuation">:</span> <span class="token string">"test1111"</span> <span class="token punctuation">}</span>      <span class="token punctuation">}</span>      onC <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">"but"</span><span class="token punctuation">:</span> <span class="token string">"test1111rde55"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onC<span class="token punctuation">}</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>but<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>        <span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>      <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><p>　　编译错误：</p><pre class=" language-js"><code class="language-js">Uncaught SyntaxError<span class="token punctuation">:</span> Inline Babel script<span class="token punctuation">:</span> <span class="token string">'this'</span> is not allowed before <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>提示没有在this之前加上super(),报错的原因是：子类是没有自己的 this 对象的，它只能继承自父类的 this 对象，然后对其进行加工，而super( )就是将父类中的this对象继承给子类的。没有 super，子类就得不到 this 对象。</p><h2 id="2-super-作用是什么-？"><a href="#2-super-作用是什么-？" class="headerlink" title="2. super()作用是什么 ？"></a>2. super()作用是什么 ？</h2><p>super( )用于继承，在class方法中，继承是使用 extends 关键字来实现的。子类 必须 在 constructor( )调用 super( )方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。<br>如果不调用super方法，子类就得不到this对象。</p><h2 id="3-正确开启方式"><a href="#3-正确开启方式" class="headerlink" title="3. 正确开启方式"></a>3. 正确开启方式</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>title<span class="token operator">></span>HOOK<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>    <span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">supper</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"but"</span><span class="token punctuation">:</span> <span class="token string">"test1111"</span> <span class="token punctuation">}</span>      <span class="token punctuation">}</span>      onC <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">"but"</span><span class="token punctuation">:</span> <span class="token string">"test1111rde55"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onC<span class="token punctuation">}</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>but<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>        <span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>      <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p>但是在React的官方例子中都是加上了 props 作为参数</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">"X-UA-Compatible"</span> content<span class="token operator">=</span><span class="token string">"IE=edge"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0"</span><span class="token operator">></span>  <span class="token operator">&lt;</span>title<span class="token operator">></span>HOOK<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 准备好一个“容器” <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"test"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react核心库 <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入react<span class="token operator">-</span>dom，用于支持react操作DOM <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/react-dom.development.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 引入babel，用于将jsx转为js <span class="token operator">--</span><span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> src<span class="token operator">=</span><span class="token string">"../js/babel.min.js"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>  <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/babel"</span><span class="token operator">></span>    <span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>      <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">supper</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">"but"</span><span class="token punctuation">:</span> <span class="token string">"test1111"</span> <span class="token punctuation">}</span>      <span class="token punctuation">}</span>      onC <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">"but"</span><span class="token punctuation">:</span> <span class="token string">"test1111rde55"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>      <span class="token punctuation">}</span>      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>          <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onC<span class="token punctuation">}</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>but<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>        <span class="token punctuation">)</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>      <span class="token operator">&lt;</span>Welcome <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><h2 id="4-加与不加props的区别究竟在哪里呢？"><a href="#4-加与不加props的区别究竟在哪里呢？" class="headerlink" title="4.加与不加props的区别究竟在哪里呢？"></a>4.加与不加props的区别究竟在哪里呢？</h2><p>   如果你用到了constructor就必须写super(),是用来初始化this的，可以绑定事件到this上;</p><p>   如果你在constructor中要使用this.props,就必须给super加参数：super(props)；</p><p>   （无论有没有constructor，在render中this.props都是可以使用的，这是React自动附带的；）</p><p>   如果没用到constructor,是可以不写的；React会默认添加一个空的constructor。</p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react生命周期函数之shouldComponentUpdate</title>
      <link href="2021/022858033.html"/>
      <url>2021/022858033.html</url>
      
        <content type="html"><![CDATA[<p>在react开发中，经常需要对数据state状态进行改变，但是这种方式每当setState的时候都会将所有的组件重新渲染一遍，这样就会有重复渲染render的问题。</p><p>默认情况下，当执行setState()方法时，react 会重新渲染整个组件树，这造成不必要的性能开销。</p><h2 id="如何优化"><a href="#如何优化" class="headerlink" title="如何优化"></a>如何优化</h2><p>shouldComponentUpdate函数是render()函数调用前被调用的，他的两个参数nextProps和nextState，分别表示下一个props和下一个state的值。我们重写这个钩子，当函数返回false时，阻止接下来的render()调用以及组件重新渲染，反之，返回true时，组件向下走render重新渲染。</p><p>所以我们可以在父组件中，重写这个方法：</p><pre><code>shouldComponentUpdate(nextProps, nextState) {    if (nextState.name !== this.state.name) {      return true    }    return false  }</code></pre><p>这时候，组件接受新的state或者props时调用，我们可以设置在此对比前后两个props和state是否相同，如果相同则返回false阻止更新，因为相同的属性状态一定会生成相同的dom树，这样就不需要创造新的dom树和旧的dom树进行diff算法对比，节省大量性能，尤其是在dom结构复杂的时候</p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript面向对象</title>
      <link href="2021/02271011.html"/>
      <url>2021/02271011.html</url>
      
        <content type="html"><![CDATA[<p>面向对象编程是用抽象方式创建基于现实世界模型的一种编程模式。面向对象只是过程式代码的一种高度封装，目的在于提高代码的开发效率和可维护性</p><h2 id="什么是面向对象编程？"><a href="#什么是面向对象编程？" class="headerlink" title="什么是面向对象编程？"></a>什么是面向对象编程？</h2><p>面向对象编程 —— Object Oriented Programming，简称 OOP ，是一种编程开发思想。<br>它将真实世界各种复杂的关系，抽象为一个个对象，然后由对象之间的分工与合作，完成对真实世界的模拟。<br>在面向对象程序开发思想中，每一个对象都是功能中心，具有明确分工，可以完成接受信息、处理数据、发出信息等任务。<br>因此，面向对象编程具有灵活、代码可复用、高度模块化等特点，容易维护和开发，比起由一系列函数或指令组成的传统的过程式编程（procedural programming），更适合多人合作的大型软件项目。</p><h2 id="面向对象与面向过程"><a href="#面向对象与面向过程" class="headerlink" title="面向对象与面向过程"></a>面向对象与面向过程</h2><p>面向过程就是亲力亲为，事无巨细，面面俱到，步步紧跟，有条不紊 </p><p>面向对象就是找一个对象，指挥得结果</p><p>面向对象将执行者转变成指挥者</p><p>面向对象不是面向过程的替代，而是面向过程的封装</p><h2 id="面向对象基本特征（oop）"><a href="#面向对象基本特征（oop）" class="headerlink" title="面向对象基本特征（oop）"></a>面向对象基本特征（oop）</h2><p>封装：也就是把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行信息隐藏。</p><p>继承：通过继承创建的新类称为“子类”或“派生类”。继承的过程，就是从一般到特殊的过程。</p><p>多态：对象的多功能，多方法，一个方法多种表现形式。</p><p>抽象：结合复杂的继承，方法，属性的对象能够模拟现实的模型。</p><p>Javascript是一种基于对象（object-based）的语言。但是，它又不是一种真正的面向对象编程（OOP）语言，因为它的语法中没有class（类）—–es6以前是这样的。所以es5只有使用函数模拟的面向对象。</p><h2 id="对象实例化方式"><a href="#对象实例化方式" class="headerlink" title="对象实例化方式"></a>对象实例化方式</h2><p>原始模式：这样的写法有两个缺点，一是如果多生成几个（100个！）实例，写起来就非常麻烦；二是实例与原型之间，没有任何办法，可以看出没有什么联系。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> Car <span class="token operator">=</span> <span class="token punctuation">{</span>    color<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//车的颜色</span>    wheel<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//车轮数量</span><span class="token punctuation">}</span><span class="token keyword">var</span> Car2 <span class="token operator">=</span> <span class="token punctuation">{</span>    color<span class="token punctuation">:</span> <span class="token string">'blue'</span><span class="token punctuation">,</span>    wheel<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token function">alert</span><span class="token punctuation">(</span>Car<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//red</span></code></pre><p>原始模式的改进：通过写一个函数，解决代码重复的问题。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createCar</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span>wheel<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>        color<span class="token punctuation">:</span>color<span class="token punctuation">,</span>        wheel<span class="token punctuation">:</span>wheel    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//然后生成实例对象，就等于是在调用函数：</span><span class="token keyword">var</span> cat1 <span class="token operator">=</span> <span class="token function">createCar</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> cat2 <span class="token operator">=</span> <span class="token function">createCar</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//红色</span></code></pre><p><strong>工厂模式</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createCar</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span>wheel<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//createCar工厂</span>    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//或obj = {} 原材料阶段</span>    obj<span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//加工</span>    obj<span class="token punctuation">.</span>wheel <span class="token operator">=</span> wheel<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//加工</span>    <span class="token keyword">return</span> obj<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//输出产品</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//实例化</span><span class="token keyword">var</span> cat1 <span class="token operator">=</span> <span class="token function">createCar</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> cat2 <span class="token operator">=</span> <span class="token function">createCar</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//红色</span></code></pre><p>构造函数模式：为了解决从原型对象生成实例的问题，Javascript提供了一个构造函数（Constructor）模式。 所谓”构造函数”，其实就是一个普通函数，但是内部使用了this变量。对构造函数使用new运算符，就能生成实例，并且this变量会绑定在实例对象上。加new执行的函数构造内部变化：自动生成一个对象，this指向这个新创建的对象，函数自动返回这个新创建的对象</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">CreateCar</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span>wheel<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//构造函数首字母大写</span>    <span class="token comment" spellcheck="true">//不需要自己创建对象了</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//添加属性，this指向构造函数的实例对象</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>wheel <span class="token operator">=</span> wheel<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//添加属性</span>    <span class="token comment" spellcheck="true">//不需要自己return了</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//实例化</span><span class="token keyword">var</span> cat1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateCar</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> cat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateCar</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//红色</span></code></pre><p><strong>构造函数的问题</strong><br>构造函数方法很好用，但是存在一个浪费内存的问题。如果现在为其再添加一个方法showWheel。那么，CreateCar就变成了下面这样，这样做有一个很大的弊端，对于每一个实例对象，showWheel都是一模一样的内容，每一次生成一个实例，都必须生成重复的内容，多占用一些内存。这样既不环保，也缺乏效率。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">CreateCar</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span>wheel<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>wheel <span class="token operator">=</span> wheel<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>showWheel <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//添加一个新方法</span>        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>wheel<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>   <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//还是采用同样的方法，生成实例：</span><span class="token keyword">var</span> cat1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateCar</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> cat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateCar</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>showWheel <span class="token operator">==</span> cat2<span class="token punctuation">.</span>showWheel<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span></code></pre><h2 id="Prototype-原型"><a href="#Prototype-原型" class="headerlink" title="Prototype 原型"></a>Prototype 原型</h2><p>Javascript规定，每一个构造函数都有一个prototype属性，指向另一个对象。这个对象的所有属性和方法，都会被构造函数的实例继承。 这意味着，我们可以把那些不变的属性和方法，直接定义在prototype对象上。__proto__是原型链，指向实例化的函数原型。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">CreateCar</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span>wheel<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//属性写构造函数里面</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>wheel <span class="token operator">=</span> wheel<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//方法写原型里面</span>CreateCar<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>showWheel <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>wheel<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>CreateCar<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>showName <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'车'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//生成实例。</span><span class="token keyword">var</span> cat1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateCar</span><span class="token punctuation">(</span><span class="token string">"红色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> cat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateCar</span><span class="token punctuation">(</span><span class="token string">"蓝色"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>cat1<span class="token punctuation">.</span><span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//'车'</span><span class="token comment" spellcheck="true">//这时所有实例的showWheel属性和showName方法，其实都是同一个内存地址，指向prototype对象，因此就提高了运行效率。</span><span class="token function">alert</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>showWheel <span class="token operator">==</span> cat2<span class="token punctuation">.</span>showWheel <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span><span class="token function">alert</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>showName <span class="token operator">==</span> cat2<span class="token punctuation">.</span>showName <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cat1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> CreateCar<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
          <category> 面向对象 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
            <tag> 面向对象 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ReactNactive开发项目总结二</title>
      <link href="2021/022664784.html"/>
      <url>2021/022664784.html</url>
      
        <content type="html"><![CDATA[<p>由于最近开发了几个React-Nactive开发项目，开发中遇到的问题及解决方案供学习参考，如果有不足之处请多指教！</p><h2 id="【Android-ios】播放声音组件"><a href="#【Android-ios】播放声音组件" class="headerlink" title="【Android/ios】播放声音组件"></a>【Android/ios】播放声音组件</h2><p><a href="https://github.com/expo/expo/tree/master/packages/expo-av">https://github.com/expo/expo/tree/master/packages/expo-av</a></p><h1 id="expo-av"><a href="#expo-av" class="headerlink" title="expo-av"></a>expo-av</h1><p>Expo universal module for Audio and Video playback</p><h1 id="API-documentation"><a href="#API-documentation" class="headerlink" title="API documentation"></a>API documentation</h1><ul><li><a href="https://github.com/expo/expo/blob/master/docs/pages/versions/unversioned/sdk/av.md">Documentation for the master branch</a></li><li><a href="https://docs.expo.io/versions/latest/sdk/av/">Documentation for the latest stable release</a></li></ul><h1 id="Installation-in-managed-Expo-projects"><a href="#Installation-in-managed-Expo-projects" class="headerlink" title="Installation in managed Expo projects"></a>Installation in managed Expo projects</h1><p>For managed <a href="https://docs.expo.io/versions/latest/introduction/managed-vs-bare/">managed</a> Expo projects, please follow the installation instructions in the <a href="https://docs.expo.io/versions/latest/sdk/av/">API documentation for the latest stable release</a>.</p><h1 id="Installation-in-bare-React-Native-projects"><a href="#Installation-in-bare-React-Native-projects" class="headerlink" title="Installation in bare React Native projects"></a>Installation in bare React Native projects</h1><p>For bare React Native projects, you must ensure that you have <a href="https://github.com/expo/expo/tree/master/packages/react-native-unimodules">installed and configured the <code>react-native-unimodules</code> package</a> before continuing.</p><h3 id="Add-the-package-to-your-npm-dependencies"><a href="#Add-the-package-to-your-npm-dependencies" class="headerlink" title="Add the package to your npm dependencies"></a>Add the package to your npm dependencies</h3><pre><code>expo install expo-av</code></pre><h3 id="Configure-for-iOS"><a href="#Configure-for-iOS" class="headerlink" title="Configure for iOS"></a>Configure for iOS</h3><p>Add <code>NSMicrophoneUsageDescription</code> key to your <code>Info.plist</code>:</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSMicrophoneUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Allow $(PRODUCT_NAME) to access your microphone<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span></code></pre><p>Run <code>npx pod-install</code> after installing the npm package.</p><h4 id="pod时报错："><a href="#pod时报错：" class="headerlink" title="pod时报错："></a>pod时报错：</h4><pre><code>[!] CocoaPods could not find compatible versions for pod "EXAV":  In Podfile:    EXAV (from `../node_modules/expo-av/ios`)Specs satisfying the `EXAV (from `../node_modules/expo-av/ios`)` dependency were found, but they required a higher minimum deployment target.</code></pre><p>解决方法：<a href="https://github.com/expo/expo/issues/11855">https://github.com/expo/expo/issues/11855</a><br>修改<code>ios &gt; Podfile</code> 将ios版本改成11</p><pre><code>platform :ios, '11.0'</code></pre><h4 id="安卓打包报错："><a href="#安卓打包报错：" class="headerlink" title="安卓打包报错："></a>安卓打包报错：</h4><pre><code>“A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade”</code></pre><p>解决方法参考：</p><p><a href="https://stackoverflow.com/questions/58084850/how-to-fix-this-error-a-failure-occurred-while-executing-com-android-build-grad">https://stackoverflow.com/questions/58084850/how-to-fix-this-error-a-failure-occurred-while-executing-com-android-build-grad</a></p><p><a href="https://blog.csdn.net/kaikevin01/article/details/78898918">https://blog.csdn.net/kaikevin01/article/details/78898918</a></p><p><a href="https://blog.csdn.net/Jiang_Rong_Tao/article/details/102519914">https://blog.csdn.net/Jiang_Rong_Tao/article/details/102519914</a></p><p><a href="https://docs.gradle.org/current/userguide/build_environment.html#sec:configuring_jvm_memory">https://docs.gradle.org/current/userguide/build_environment.html#sec:configuring_jvm_memory</a></p><ol><li>将<code>android &gt; build.gradle</code>里的<pre><code>dependencies {     classpath("com.android.tools.build:gradle:3.5.3") }</code></pre>替换为<pre><code>dependencies {     classpath("com.android.tools.build:gradle:3.4.1") }</code></pre></li><li>增加<code>android &gt; gradle.properties</code><pre><code>org.gradle.daemon=trueorg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8org.gradle.parallel=trueorg.gradle.configureondemand=true</code></pre></li></ol><h3 id="Configure-for-Android"><a href="#Configure-for-Android" class="headerlink" title="Configure for Android"></a>Configure for Android</h3><p>Add <code>android.permission.RECORD_AUDIO</code> permission to your manifest (<code>android/app/src/main/AndroidManifest.xml</code>):</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.RECORD_AUDIO<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><h1 id="Contributing"><a href="#Contributing" class="headerlink" title="Contributing"></a>Contributing</h1><p>Contributions are very welcome! Please refer to guidelines described in the <a href="https://github.com/expo/expo#contributing">contributing guide</a>.</p><h2 id="【iOS-Android】增加picker组件"><a href="#【iOS-Android】增加picker组件" class="headerlink" title="【iOS/Android】增加picker组件"></a>【iOS/Android】增加picker组件</h2><p><a href="https://github.com/react-native-picker/picker">https://github.com/react-native-picker/picker</a></p><h1 id="react-native-picker-picker"><a href="#react-native-picker-picker" class="headerlink" title="@react-native-picker/picker"></a><code>@react-native-picker/picker</code></h1><p><a href="https://www.npmjs.com/package/@react-native-picker/picker"><img src="https://img.shields.io/npm/v/@react-native-picker/picker.svg" alt="npm version"></a><br><a href="https://github.com/react-native-picker/picker/actions"><img src="https://github.com/react-native-picker/picker/workflows/Build/badge.svg" alt="Build"></a> <img src="https://img.shields.io/badge/platforms-android%20|%20ios|%20macos|%20windows-lightgrey.svg" alt="Supports Android, iOS, MacOS, and Windows"> <img src="https://img.shields.io/npm/l/@react-native-picker/picker.svg" alt="MIT License"> <a href="https://github.com/facebook/react-native/issues/23313"><img src="https://img.shields.io/badge/Lean%20Core-Extracted-brightgreen.svg" alt="Lean Core Extracted"></a></p><table><thead><tr><th>Android</th><th>iOS</th><th>PickerIOS</th><th>Windows</th><th>MacOS</th></tr></thead><tbody><tr><td><img src="./screenshots/picker-android.png" width="150"></td><td><img src="./screenshots/picker-ios.png" width="150"></td><td><img src="./screenshots/pickerios-ios.png" width="150"></td><td><img src="./screenshots/picker-windows.png" width="300"></td><td><img src="./screenshots/picker-macos.png" width="300"></td></tr></tbody></table><h2 id="Supported-Versions"><a href="#Supported-Versions" class="headerlink" title="Supported Versions"></a>Supported Versions</h2><table><thead><tr><th>@react-native-picker/picker</th><th>react-native</th></tr></thead><tbody><tr><td>&gt;= 1.2.0</td><td>0.60+ or 0.59+ with <a href="https://www.npmjs.com/package/jetifier">Jetifier</a></td></tr><tr><td>&gt;= 1.0.0</td><td>0.57</td></tr></tbody></table><h2 id="For-Managed-Workflow-users-using-Expo-37"><a href="#For-Managed-Workflow-users-using-Expo-37" class="headerlink" title="For Managed Workflow users using Expo 37"></a>For Managed Workflow users using Expo 37</h2><p>This component is not supported in the managed workflow for expo sdk 37. Please import the <code>Picker</code> from <code>react-native</code>.<br>See more info <a href="https://github.com/react-native-picker/picker/issues/45#issuecomment-633163973">here</a></p><h2 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h2><p><code>$ npm install @react-native-picker/picker --save</code></p><p>or</p><p><code>$ yarn add @react-native-picker/picker</code></p><h3 id="For-114-x65-x61-99-116-45-x6e-97-116-105-118-101-64-48-46-x36-48-46-x30-or-above"><a href="#For-114-x65-x61-99-116-45-x6e-97-116-105-118-101-64-48-46-x36-48-46-x30-or-above" class="headerlink" title="For react-native@0.60.0 or above"></a>For <a href="mailto:react-native@0.60.0">react-native@0.60.0</a> or above</h3><p>As <a href="https://reactnative.dev/blog/2019/07/03/version-60">react-native@0.60.0</a> or above supports autolinking, so there is no need to run linking process.<br>Read more about autolinking <a href="https://github.com/react-native-picker/cli/blob/master/docs/autolinking.md">here</a>.</p><h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><p>CocoaPods on iOS needs this extra step</p><pre><code>npx pod-install</code></pre><h4 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h4><p>No additional step is required.</p><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><h5 id="Add-the-ReactNativePicker-project-to-your-solution"><a href="#Add-the-ReactNativePicker-project-to-your-solution" class="headerlink" title="Add the ReactNativePicker project to your solution."></a>Add the <code>ReactNativePicker</code> project to your solution.</h5><ol><li>Open the solution in Visual Studio 2019</li><li>Right-click Solution icon in Solution Explorer &gt; Add &gt; Existing Project<br>Select <code>D:\dev\RNTest\node_modules\@react-native-picker\picker\windows\ReactNativePicker\ReactNativePicker.vcxproj</code></li></ol><h5 id="windows-myapp-sln"><a href="#windows-myapp-sln" class="headerlink" title="windows/myapp.sln"></a><strong>windows/myapp.sln</strong></h5><p>Add a reference to <code>ReactNativePicker</code> to your main application project. From Visual Studio 2019:</p><p>Right-click main application project &gt; Add &gt; Reference…<br>  Check <code>ReactNativePicker</code> from Solution Projects.</p><h5 id="pch-h"><a href="#pch-h" class="headerlink" title="pch.h"></a><strong>pch.h</strong></h5><p>Add <code>#include "winrt/ReactNativePicker.h"</code>.</p><h5 id="app-cpp"><a href="#app-cpp" class="headerlink" title="app.cpp"></a><strong>app.cpp</strong></h5><p>Add <code>PackageProviders().Append(winrt::ReactNativePicker::ReactPackageProvider());</code> before <code>InitializeComponent();</code>.</p><h4 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h4><p>CocoaPods on MacOS needs this extra step (called from the MacOS directory)</p><pre><code>pod install</code></pre><h3 id="Mostly-automatic-installation-react-native-lt-0-60"><a href="#Mostly-automatic-installation-react-native-lt-0-60" class="headerlink" title="Mostly automatic installation (react-native < 0.60)"></a>Mostly automatic installation (react-native &lt; 0.60)</h3><p><code>$ react-native link @react-native-picker/picker</code></p><h3 id="Manual-installation-react-native-lt-0-60"><a href="#Manual-installation-react-native-lt-0-60" class="headerlink" title="Manual installation (react-native < 0.60)"></a>Manual installation (react-native &lt; 0.60)</h3><h4 id="iOS-1"><a href="#iOS-1" class="headerlink" title="iOS"></a>iOS</h4><ol><li>In XCode, in the project navigator, right click <code>Libraries</code> ➜ <code>Add Files to [your project's name]</code></li><li>Go to <code>node_modules</code> ➜ <code> @react-native-picker/picker</code> and add <code>RNCPicker.xcodeproj</code></li><li>In XCode, in the project navigator, select your project. Add <code>libRNCPicker.a</code> to your project’s <code>Build Phases</code> ➜ <code>Link Binary With Libraries</code></li><li>Run your project (<code>Cmd+R</code>)&lt;</li></ol><h4 id="Android-1"><a href="#Android-1" class="headerlink" title="Android"></a>Android</h4><ol><li><p>Open <strong>application</strong> file (<code>android/app/src/main/java/[...]/MainApplication.java</code>)</p><ul><li>Add <code>import com.reactnativecommunity.picker.RNCPickerPackage;</code> to the imports at the top of the file</li><li>Add <code>new RNCPickerPackage()</code> to the list returned by the <code>getPackages()</code> method</li></ul></li><li><p>Append the following lines to <code>android/settings.gradle</code>:</p><pre><code>include ':@react-native-picker_picker'project(':@react-native-picker_picker').projectDir = new File(rootProject.projectDir,     '../node_modules/@react-native-picker/picker/android')</code></pre></li><li><p>Insert the following lines inside the dependencies block in <code>android/app/build.gradle</code>:</p><pre><code>implementation project(path: ':@react-native-picker_picker')</code></pre><h4 id="MacOS-1"><a href="#MacOS-1" class="headerlink" title="MacOS"></a>MacOS</h4></li><li><p>In XCode, in the project navigator, right click <code>Libraries</code> ➜ <code>Add Files to [your project's name]</code></p></li><li><p>Go to <code>node_modules</code> ➜ <code> @react-native-picker/picker</code> and add <code>RNCPicker.xcodeproj</code></p></li><li><p>In XCode, in the project navigator, select your project. Add <code>libRNCPicker.a</code> to your project’s <code>Build Phases</code> ➜ <code>Link Binary With Libraries</code></p></li><li><p>Run your project (<code>Cmd+R</code>)&lt;</p></li></ol><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Picker"><a href="#Picker" class="headerlink" title="Picker"></a>Picker</h3><p>Renders the native picker component on iOS and Android. Example:</p><h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h4><p>Import Picker from <code>@react-native-picker/picker</code></p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span>Picker<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-native-picker/picker'</span><span class="token punctuation">;</span></code></pre><p>Create state which will be used by the <code>Picker</code></p><pre class=" language-javascript"><code class="language-javascript">state <span class="token operator">=</span> <span class="token punctuation">{</span>  language<span class="token punctuation">:</span> <span class="token string">'java'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>Add <code>Picker</code> like this:</p><pre class=" language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>Picker  selectedValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>language<span class="token punctuation">}</span>  style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">}</span>  onValueChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>itemValue<span class="token punctuation">,</span> itemIndex<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>language<span class="token punctuation">:</span> itemValue<span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Picker<span class="token punctuation">.</span>Item label<span class="token operator">=</span><span class="token string">"Java"</span> value<span class="token operator">=</span><span class="token string">"java"</span> <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span>Picker<span class="token punctuation">.</span>Item label<span class="token operator">=</span><span class="token string">"JavaScript"</span> value<span class="token operator">=</span><span class="token string">"js"</span> <span class="token operator">/</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Picker<span class="token operator">></span></code></pre><h3 id="Props"><a href="#Props" class="headerlink" title="Props"></a>Props</h3><ul><li><a href="https://reactnative.dev/docs/view#props">Inherited <code>View</code> props…</a></li></ul><ul><li><a href="#onvaluechange"><code>onValueChange</code></a></li><li><a href="#selectedvalue"><code>selectedValue</code></a></li><li><a href="#style"><code>style</code></a></li><li><a href="#testid"><code>testID</code></a></li><li><a href="#enabled"><code>enabled</code></a></li><li><a href="#mode"><code>mode</code></a></li><li><a href="#prompt"><code>prompt</code></a></li><li><a href="#itemstyle"><code>itemStyle</code></a></li></ul><hr><h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><h2 id="Props-1"><a href="#Props-1" class="headerlink" title="Props"></a>Props</h2><h3 id="onValueChange"><a href="#onValueChange" class="headerlink" title="onValueChange"></a><code>onValueChange</code></h3><p>Callback for when an item is selected. This is called with the following parameters:</p><ul><li><code>itemValue</code>: the <code>value</code> prop of the item that was selected</li><li><code>itemPosition</code>: the index of the selected item in this picker</li></ul><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td>function</td><td>No</td></tr></tbody></table><hr><h3 id="selectedValue"><a href="#selectedValue" class="headerlink" title="selectedValue"></a><code>selectedValue</code></h3><p>Value matching value of one of the items. Can be a string or an integer.</p><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td>any</td><td>No</td></tr></tbody></table><hr><h3 id="style"><a href="#style" class="headerlink" title="style"></a><code>style</code></h3><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td>pickerStyleType</td><td>No</td></tr></tbody></table><hr><h3 id="testID"><a href="#testID" class="headerlink" title="testID"></a><code>testID</code></h3><p>Used to locate this view in end-to-end tests.</p><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td>string</td><td>No</td></tr></tbody></table><hr><h3 id="enabled"><a href="#enabled" class="headerlink" title="enabled"></a><code>enabled</code></h3><p>If set to false, the picker will be disabled, i.e. the user will not be able to make a selection.</p><table><thead><tr><th>Type</th><th>Required</th><th>Platform</th></tr></thead><tbody><tr><td>bool</td><td>No</td><td>Android, Windows</td></tr></tbody></table><hr><h3 id="mode"><a href="#mode" class="headerlink" title="mode"></a><code>mode</code></h3><p>On Android, specifies how to display the selection items when the user taps on the picker:</p><ul><li>‘dialog’: Show a modal dialog. This is the default.</li><li>‘dropdown’: Shows a dropdown anchored to the picker view</li></ul><table><thead><tr><th>Type</th><th>Required</th><th>Platform</th></tr></thead><tbody><tr><td>enum(‘dialog’, ‘dropdown’)</td><td>No</td><td>Android</td></tr></tbody></table><hr><h3 id="dropdownIconColor"><a href="#dropdownIconColor" class="headerlink" title="dropdownIconColor"></a><code>dropdownIconColor</code></h3><p>On Android, specifies color of dropdown triangle. Input value should be hexadecimal string</p><table><thead><tr><th>Type</th><th>Required</th><th>Platform</th></tr></thead><tbody><tr><td>string</td><td>No</td><td>Android</td></tr></tbody></table><hr><h3 id="prompt"><a href="#prompt" class="headerlink" title="prompt"></a><code>prompt</code></h3><p>Prompt string for this picker, used on Android in dialog mode as the title of the dialog.</p><table><thead><tr><th>Type</th><th>Required</th><th>Platform</th></tr></thead><tbody><tr><td>string</td><td>No</td><td>Android</td></tr></tbody></table><hr><h3 id="itemStyle"><a href="#itemStyle" class="headerlink" title="itemStyle"></a><code>itemStyle</code></h3><p>Style to apply to each of the item labels.</p><table><thead><tr><th>Type</th><th>Required</th><th>Platform</th></tr></thead><tbody><tr><td><a href="https://reactnative.dev/docs/text-style-props">text styles</a></td><td>No</td><td>iOS, Windows</td></tr></tbody></table><h3 id="PickerIOS"><a href="#PickerIOS" class="headerlink" title="PickerIOS"></a>PickerIOS</h3><h3 id="Props-2"><a href="#Props-2" class="headerlink" title="Props"></a>Props</h3><ul><li><a href="https://reactnative.dev/docs/view#props">Inherited <code>View</code> props…</a></li></ul><ul><li><a href="#itemstyle"><code>itemStyle</code></a></li><li><a href="#onvaluechange"><code>onValueChange</code></a></li><li><a href="#selectedvalue"><code>selectedValue</code></a></li></ul><hr><h1 id="Reference-1"><a href="#Reference-1" class="headerlink" title="Reference"></a>Reference</h1><h2 id="Props-3"><a href="#Props-3" class="headerlink" title="Props"></a>Props</h2><h3 id="itemStyle-1"><a href="#itemStyle-1" class="headerlink" title="itemStyle"></a><code>itemStyle</code></h3><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td><a href="https://reactnative.dev/docs/text-style-props">text styles</a></td><td>No</td></tr></tbody></table><hr><h3 id="onValueChange-1"><a href="#onValueChange-1" class="headerlink" title="onValueChange"></a><code>onValueChange</code></h3><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td>function</td><td>No</td></tr></tbody></table><hr><h3 id="selectedValue-1"><a href="#selectedValue-1" class="headerlink" title="selectedValue"></a><code>selectedValue</code></h3><table><thead><tr><th>Type</th><th>Required</th></tr></thead><tbody><tr><td>any</td><td>No</td></tr></tbody></table><h2 id="【iOS-Android】增加checkbox组件"><a href="#【iOS-Android】增加checkbox组件" class="headerlink" title="【iOS/Android】增加checkbox组件"></a>【iOS/Android】增加checkbox组件</h2><p><a href="https://github.com/react-native-checkbox/react-native-checkbox">https://github.com/react-native-checkbox/react-native-checkbox</a></p><h1 id="react-native-community-checkbox"><a href="#react-native-community-checkbox" class="headerlink" title="@react-native-community/checkbox"></a><code>@react-native-community/checkbox</code></h1><p><a href="https://circleci.com/gh/react-native-community/workflows/react-native-checkbox/tree/master"><img src="https://img.shields.io/circleci/project/github/react-native-community/react-native-checkbox/master.svg" alt="CircleCI Status"></a> <img src="https://img.shields.io/badge/platforms-android%20%7C%20ios%20%7C%20windows-lightgrey.svg" alt="Supports Android, iOS and Windows"> <img src="https://img.shields.io/npm/l/@react-native-community/checkbox.svg" alt="MIT License"> <a href="https://www.npmjs.com/package/@react-native-community/checkbox"><img src="https://img.shields.io/npm/v/@react-native-community/checkbox.svg?style=flat" alt="npm version"></a> <a href="https://github.com/facebook/react-native/issues/23313"><img src="https://img.shields.io/badge/Lean%20Core-Extracted-brightgreen.svg" alt="Lean Core Extracted"></a></p><p>React Native component for Checkbox</p><table><thead><tr><th align="center">Android Example</th><th align="center">IOS Example</th><th align="center">Windows Example</th></tr></thead><tbody><tr><td align="center"><img src="screenShots/demo-android.png" width="320"></td><td align="center"><img src="screenShots/demo-ios.png" width="320"></td><td align="center"><img src="screenShots/demo-windows.png" width="520"></td></tr></tbody></table><h2 id="Support"><a href="#Support" class="headerlink" title="Support"></a>Support</h2><table><thead><tr><th>RN version</th><th>Checkbox version</th></tr></thead><tbody><tr><td>&gt; 0.60 &amp; &lt; 0.62</td><td>&gt;= 0.3 (Support IOS from 0.4)</td></tr><tr><td>&lt; 0.60</td><td>0.2 (only Android)</td></tr><tr><td>&gt;= 0.62 to run on Windows</td><td>0.5</td></tr></tbody></table><h2 id="Getting-started-1"><a href="#Getting-started-1" class="headerlink" title="Getting started"></a>Getting started</h2><p><code>yarn add @react-native-community/checkbox</code></p><p>or</p><p><code>npm install @react-native-community/checkbox --save</code></p><p>On iOS, install cocoapods:</p><p><code>npx pod-install</code></p><p>On Windows with RNW 62 or earlier, you need to <a href="###Manual-installation"><code>manually link the module</code></a> (on RNW 63 and later autolinking will work).</p><h3 id="Mostly-automatic-installation"><a href="#Mostly-automatic-installation" class="headerlink" title="Mostly automatic installation"></a>Mostly automatic installation</h3><p>From react-native &gt;= 0.60 autolinking will take care of the link (on iOS and Android)</p><p>for react-native =&lt; 0.59.X</p><p><code>react-native link @react-native-community/checkbox</code></p><h3 id="Manual-installation"><a href="#Manual-installation" class="headerlink" title="Manual installation"></a>Manual installation</h3><details><summary>Manually link the library on Android</summary><h4 id="android-settings-gradle"><a href="#android-settings-gradle" class="headerlink" title="android/settings.gradle"></a><code>android/settings.gradle</code></h4><pre class=" language-groovy"><code class="language-groovy">include <span class="token string">':react-native-community-checkbox'</span><span class="token function">project</span><span class="token punctuation">(</span><span class="token string">':react-native-community-checkbox'</span><span class="token punctuation">)</span><span class="token operator">.</span>projectDir <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>rootProject<span class="token operator">.</span>projectDir<span class="token punctuation">,</span> <span class="token string">'../node_modules/@react-native-community/checkbox/android'</span><span class="token punctuation">)</span></code></pre><h4 id="android-app-build-gradle"><a href="#android-app-build-gradle" class="headerlink" title="android/app/build.gradle"></a><code>android/app/build.gradle</code></h4><pre class=" language-groovy"><code class="language-groovy">dependencies <span class="token punctuation">{</span>   <span class="token punctuation">...</span>   implementation <span class="token function">project</span><span class="token punctuation">(</span><span class="token string">':react-native-community-checkbox'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h4 id="android-app-src-main-MainApplication-java"><a href="#android-app-src-main-MainApplication-java" class="headerlink" title="android/app/src/main/.../MainApplication.java"></a><code>android/app/src/main/.../MainApplication.java</code></h4><p>On top, where imports are:</p><pre class=" language-java"><code class="language-java"><span class="token keyword">import</span> com<span class="token punctuation">.</span>reactnativecommunity<span class="token punctuation">.</span>checkbox<span class="token punctuation">.</span>ReactCheckBoxPackage<span class="token punctuation">;</span></code></pre><p>Add the <code>checkbox</code> class to your list of exported packages.</p><pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Override</span><span class="token keyword">protected</span> List<span class="token operator">&lt;</span>ReactPackage<span class="token operator">></span> <span class="token function">getPackages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> Arrays<span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>            <span class="token keyword">new</span> <span class="token class-name">MainReactPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">new</span> <span class="token class-name">ReactCheckBoxPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></details><details><summary>Manually link the library on Windows</summary><h4 id="Add-the-CheckboxWindows-project-to-your-solution"><a href="#Add-the-CheckboxWindows-project-to-your-solution" class="headerlink" title="Add the CheckboxWindows project to your solution"></a>Add the CheckboxWindows project to your solution</h4><ol><li>Open the solution in Visual Studio 2019.</li><li>Right-click solution icon in Solution Explorer &gt; Add &gt; Existing Project.<br>Select ‘D:\pathToYourApp\node_modules@react-native-community\checkbox\windows\CheckboxWindows\CheckboxWindows.vcxproj’.</li></ol><h4 id="windows-myapp-sln-1"><a href="#windows-myapp-sln-1" class="headerlink" title="windows/myapp.sln"></a><strong>windows/myapp.sln</strong></h4><p>Add a reference to <code>CheckboxWindows</code> to your main application project. From Visual Studio 2019:</p><p>Right-click main application project &gt; Add &gt; Reference…<br>Check ‘CheckboxWindows’ from the ‘Project &gt; Solution’ tab on the left.</p><h4 id="pch-h-1"><a href="#pch-h-1" class="headerlink" title="pch.h"></a><strong>pch.h</strong></h4><p>Add <code>#include "winrt/CheckboxWindows.h"</code>.</p><h4 id="app-cpp-1"><a href="#app-cpp-1" class="headerlink" title="app.cpp"></a><strong>app.cpp</strong></h4><p>Add <code>PackageProviders().Append(winrt::CheckboxWindows::ReactPackageProvider());</code> before <code>InitializeComponent();</code>.</p></details><h2 id="Migrating-from-the-core-react-native-module"><a href="#Migrating-from-the-core-react-native-module" class="headerlink" title="Migrating from the core react-native module"></a>Migrating from the core <code>react-native</code> module</h2><p>This module was created when the CheckBox was split out from the core of React Native. To migrate to this module you need to follow the installation instructions above and then change your imports from:</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> CheckBox <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span></code></pre><p>to:</p><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> CheckBox <span class="token keyword">from</span> <span class="token string">'@react-native-community/checkbox'</span><span class="token punctuation">;</span></code></pre><h2 id="Usage-2"><a href="#Usage-2" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">import</span> CheckBox <span class="token keyword">from</span> <span class="token string">'@react-native-community/checkbox'</span><span class="token punctuation">;</span></code></pre><pre class=" language-javascript"><code class="language-javascript">  <span class="token keyword">const</span> <span class="token punctuation">[</span>toggleCheckBox<span class="token punctuation">,</span> setToggleCheckBox<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>  <span class="token operator">&lt;</span>CheckBox    disabled<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>    value<span class="token operator">=</span><span class="token punctuation">{</span>toggleCheckBox<span class="token punctuation">}</span>    onValueChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setToggleCheckBox</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">></span></code></pre><p>Check out the <a href="example">example project</a> for more examples.</p><h3 id="Props-4"><a href="#Props-4" class="headerlink" title="Props"></a>Props</h3><h2 id="Common-Props"><a href="#Common-Props" class="headerlink" title="Common Props"></a>Common Props</h2><p><a href="https://reactnative.dev/docs/view#props">View props…</a></p><table><thead><tr><th>Prop name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>onChange</td><td>function</td><td>Invoked on change with the native event.</td></tr><tr><td>onValueChange</td><td>function</td><td>Invoked with the new boolean value when it changes.</td></tr><tr><td>value</td><td>boolean</td><td>The value of the checkbox. If true the checkbox will be turned on. Default value is false.</td></tr><tr><td>testID</td><td>string</td><td>Used to locate this view in end-to-end tests.</td></tr><tr><td>disabled</td><td>boolean</td><td>If true the user won’t be able to toggle the checkbox. Default value is false.</td></tr></tbody></table><h2 id="Android-Only-Props"><a href="#Android-Only-Props" class="headerlink" title="Android Only Props"></a>Android Only Props</h2><table><thead><tr><th>Prop name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>tintColors</td><td>string</td><td>An object with the following shape: <code>{ true?: ?ColorValue, false?: ?ColorValue }</code>. The color value for <code>true</code> will be used when the checkbox is checked, and the color value for <code>false</code> will be used when it is off.</td></tr></tbody></table><h2 id="IOS-Only-Props"><a href="#IOS-Only-Props" class="headerlink" title="IOS Only Props"></a>IOS Only Props</h2><table><thead><tr><th>Prop name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>lineWidth</td><td>number</td><td>The width of the lines of the check mark and box. Defaults to 2.0.</td></tr><tr><td>hideBox</td><td>boolean</td><td>Control if the box should be hidden or not. Defaults to false</td></tr><tr><td>boxType</td><td>‘circle’ or ‘square’</td><td>The type of box to use. Defaults to ‘circle’</td></tr><tr><td>tintColor</td><td>string</td><td>The color of the box when the checkbox is Off. Defaults to ‘#aaaaaa’</td></tr><tr><td>onCheckColor</td><td>string</td><td>The color of the check mark when it is On. Defaults to ‘#007aff’</td></tr><tr><td>onFillColor</td><td>string</td><td>The color of the inside of the box when it is On. Defaults to transparent</td></tr><tr><td>onTintColor</td><td>string</td><td>The color of the line around the box when it is On. Defaults to ‘#007aff’</td></tr><tr><td>animationDuration</td><td>number</td><td>The duration in seconds of the animations. Defaults to 0.5</td></tr><tr><td>onAnimationType</td><td>‘stroke’ or ‘fill’ or ‘bounce’ or ‘flat’ or ‘one-stroke’ or ‘fade’</td><td>The type of animation to use when the checkbox gets checked. Default to ‘stroke’</td></tr><tr><td>offAnimationType</td><td>‘stroke’ or ‘fill’ or ‘bounce’ or ‘flat’ or ‘one-stroke’ or ‘fade’</td><td>The type of animation to use when the checkbox gets unchecked. ‘stroke’</td></tr></tbody></table><h2 id="Windows-Props"><a href="#Windows-Props" class="headerlink" title="Windows Props"></a>Windows Props</h2><p>Implemented most of iOS and Android props.<br>Defaults for color styling can be referenced here:<br><a href="https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/checkbox-styles-and-templates">https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/checkbox-styles-and-templates</a></p><table><thead><tr><th>Prop name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>disabled</td><td>boolean</td><td>If true the user won’t be able to toggle the checkbox. Default value is false.</td></tr><tr><td>tintColor</td><td>string</td><td>The color of the box when the checkbox is Off.</td></tr><tr><td>onCheckColor</td><td>string</td><td>The color of the check mark when it is On.</td></tr><tr><td>onFillColor</td><td>string</td><td>The color of the inside of the box when it is On.</td></tr><tr><td>onTintColor</td><td>string</td><td>The color of the line around the box when it is On.</td></tr></tbody></table><h2 id="Contributors"><a href="#Contributors" class="headerlink" title="Contributors"></a>Contributors</h2><p>This module was extracted from <code>react-native</code> core.</p><p>The implementaion of IOS version refered to <a href="https://github.com/Boris-Em/BEMCheckBox">BEMCheckBox</a></p><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>The library is released under the MIT licence. For more information see <code>LICENSE</code>.</p><h2 id="【iOS-Android】扫码组件"><a href="#【iOS-Android】扫码组件" class="headerlink" title="【iOS/Android】扫码组件"></a>【iOS/Android】扫码组件</h2><h1 id="expo-barcode-scanner"><a href="#expo-barcode-scanner" class="headerlink" title="expo-barcode-scanner"></a>expo-barcode-scanner</h1><p>允许扫描各种受支持的条形码，既可以作为独立模块，也可以作为相机的扩展进行扫描。它还允许从现有图像中扫描条形码。</p><h1 id="API-文档"><a href="#API-文档" class="headerlink" title="API 文档"></a>API 文档</h1><ul><li><a href="https://github.com/expo/expo/blob/master/docs/pages/versions/unversioned/sdk/bar-code-scanner.md">Documentation for the master branch</a></li><li><a href="https://docs.expo.io/versions/latest/sdk/bar-code-scanner/">Documentation for the latest stable release</a></li></ul><h1 id="在React-Native项目中安装"><a href="#在React-Native项目中安装" class="headerlink" title="在React Native项目中安装"></a>在React Native项目中安装</h1><p>对于React Native项目，您必须先确保<a href="https://github.com/expo/expo/tree/master/packages/react-native-unimodules">安装和配置react-native-unimodules软件包</a>，然后再继续。</p><h3 id="添加到依赖"><a href="#添加到依赖" class="headerlink" title="添加到依赖"></a>添加到依赖</h3><pre><code>expo install expo-barcode-scanner</code></pre><h3 id="为IOS配置"><a href="#为IOS配置" class="headerlink" title="为IOS配置"></a>为IOS配置</h3><p>Add <code>NSCameraUsageDescription</code> and <code>NSMicrophoneUsageDescription</code> key to your <code>Info.plist</code>:</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSCameraUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Allow $(PRODUCT_NAME) to use the camera<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSMicrophoneUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>Allow $(PRODUCT_NAME) to use the microphone<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span></code></pre><p>Run <code>npx pod-install</code> after installing the npm package.</p><h3 id="为Android配置"><a href="#为Android配置" class="headerlink" title="为Android配置"></a>为Android配置</h3><p>This package automatically adds the <code>CAMERA</code> permission to your app.</p><pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- Added permissions --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.CAMERA<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><h3 id="范例"><a href="#范例" class="headerlink" title="范例"></a>范例</h3><pre><code>import React, { useState, useEffect } from 'react';import { Text, View, StyleSheet, Button } from 'react-native';import { BarCodeScanner } from 'expo-barcode-scanner';export default function App() {  const [hasPermission, setHasPermission] = useState(null);  const [scanned, setScanned] = useState(false);  useEffect(() =&gt; {    (async () =&gt; {      const { status } = await BarCodeScanner.requestPermissionsAsync();      setHasPermission(status === 'granted');    })();  }, []);  const handleBarCodeScanned = ({ type, data }) =&gt; {    setScanned(true);    alert(`Bar code with type ${type} and data ${data} has been scanned!`);  };  if (hasPermission === null) {    return &lt;Text&gt;Requesting for camera permission&lt;/Text&gt;;  }  if (hasPermission === false) {    return &lt;Text&gt;No access to camera&lt;/Text&gt;;  }  return (    &lt;View style={styles.container}&gt;      &lt;BarCodeScanner        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}        style={StyleSheet.absoluteFillObject}      /&gt;      {scanned &amp;&amp; &lt;Button title={'Tap to Scan Again'} onPress={() =&gt; setScanned(false)} /&gt;}    &lt;/View&gt;  );}const styles = StyleSheet.create({  container: {    flex: 1,    flexDirection: 'column',    justifyContent: 'center',  },});</code></pre><h2 id="增加轻提示"><a href="#增加轻提示" class="headerlink" title="增加轻提示"></a>增加轻提示</h2><p><a href="https://www.npmjs.com/package/react-native-simple-toast">react-native-simple-toast</a></p><p>适用于Android和iOS的React Native Toast组件。它只是让iOS用户拥有与Android相同的体验。在iOS上使用 <a href="https://github.com/scalessec/Toast">scalessec/Toast</a>，在Android上使用标准<a href="https://reactnative.dev/docs/toastandroid">ToastAndroid</a>；</p><p>安装</p><pre class=" language-shell"><code class="language-shell">npm install react-native-simple-toast --savereact-native link react-native-simple-toast // only RN < 0.60cd ios && pod install</code></pre><p>用法</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// 默认使用 Toast.SHORT </span>show<span class="token punctuation">:</span> <span class="token punctuation">(</span>message<span class="token punctuation">:</span> string<span class="token punctuation">,</span> duration<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span> viewControllerBlacklist<span class="token operator">?</span><span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span><span class="token punctuation">,</span>showWithGravity<span class="token punctuation">:</span> <span class="token punctuation">(</span>message<span class="token punctuation">:</span> string<span class="token punctuation">,</span>duration<span class="token punctuation">:</span> number<span class="token punctuation">,</span>gravity<span class="token punctuation">:</span> string<span class="token punctuation">,</span>viewControllerBlacklist<span class="token operator">?</span><span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">void</span><span class="token punctuation">,</span></code></pre><p>请注意viewControllerBlacklist：这是一个仅限iOS的选项，在android上将被忽略。</p><p>例子</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> Toast <span class="token keyword">from</span> <span class="token string">'react-native-simple-toast'</span><span class="token punctuation">;</span>Toast<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">'This is a toast.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Toast<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">'This is a long toast.'</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LONG<span class="token punctuation">)</span><span class="token punctuation">;</span>Toast<span class="token punctuation">.</span><span class="token function">showWithGravity</span><span class="token punctuation">(</span><span class="token string">'This is a long toast at the top.'</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>LONG<span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>TOP<span class="token punctuation">)</span><span class="token punctuation">;</span>Toast<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token string">'This is nicely visible even if you call this when an Alert is shown'</span><span class="token punctuation">,</span> Toast<span class="token punctuation">.</span>SHORT<span class="token punctuation">,</span> <span class="token punctuation">[</span>  <span class="token string">'UIAlertController'</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="解决android原生配置键盘顶高组件问题"><a href="#解决android原生配置键盘顶高组件问题" class="headerlink" title="解决android原生配置键盘顶高组件问题"></a>解决android原生配置键盘顶高组件问题</h2><p>修改该目录：android/app/src/main/AndroidManifest.xml</p><pre><code>        android:windowSoftInputMode="adjustResize"&gt;        //改为：        android:windowSoftInputMode="stateAlwaysHidden|adjustPan"&gt;</code></pre><h2 id="【Android】获取手机imei码"><a href="#【Android】获取手机imei码" class="headerlink" title="【Android】获取手机imei码"></a>【Android】获取手机imei码</h2><p><a href="https://github.com/SimenCodes/react-native-imei">https://github.com/SimenCodes/react-native-imei</a></p><p>Apple不允许应用访问设备识别信息，例如IMEI。</p><p> 1.在项目根目录下：</p><pre class=" language-shell"><code class="language-shell">npm install --save react-native-imei</code></pre><p>2.然后修改<code>android &gt; app &gt; src &gt; androidMainifest.xml</code>文件添加：</p><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span>uses<span class="token operator">-</span>permission android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.READ_PHONE_STATE"</span><span class="token operator">/</span><span class="token operator">></span></code></pre><p>3.在项目根目录下 ：</p><pre class=" language-shell"><code class="language-shell">react-native link react-native-imei</code></pre><p>4.用例</p><pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">const</span> IMEI <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react-native-imei'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>IMEI<span class="token punctuation">.</span><span class="token function">getImei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>imeiList <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>imeiList<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// imeiList是一个数组，能插多卡的手机会有几个imei</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>如果已经在AndroidManifest.xml中添加了权限(<uses-permission android:name="android.permission.READ_PHONE_STATE">)还是报如下错：</uses-permission></p><pre><code>java exception in'NativeModules'java.lang.SecurityException:getDeviceld:Neither user 10002 nor current process has android.permission.READ_PHONE_STATE</code></pre><p>请打开手机的设置-&gt;应用和通知-&gt;应用管理-&gt;找到自己测试的app，点击进去-&gt;权限-&gt;准许电话权限</p>]]></content>
      
      
      <categories>
          
          <category> ReactNative </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReactNative </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript常用宝典</title>
      <link href="2021/022655706.html"/>
      <url>2021/022655706.html</url>
      
        <content type="html"><![CDATA[<p>JavaScript 对于不同的操作对象有着不同的方法。</p><h2 id="JavaScript-常用的操作对象"><a href="#JavaScript-常用的操作对象" class="headerlink" title="JavaScript 常用的操作对象"></a>JavaScript 常用的操作对象</h2><p><strong>常用操作对象有：Array、String、Math、Date</strong></p><p>Array 常用方法</p><p>pop : 删除数组最后一位元素</p><p>shift : 删除数组第一位元素</p><p>push : 往数组的末尾新增一个或多个元素</p><p>unshift : 往数组的开头新增一个或多个元素</p><p>reverse : 把数组元素顺序逆转</p><p>sort : 数组排序</p><p>splice : 给数组添加或者删除元素</p><p>forEach : 遍历数组</p><p>filter : 从数组中找出所有符合指定条件的元素</p><p>every : 数组中是否每个元素都满足指定的条件</p><p>some : 数组中是否有元素满足指定的条件</p><p>map : 将数组映射成另一个数组</p><p>reduce : 将数组合成一个值</p><p>isArray : 是否是数组</p><p>concat : 合并数组或合并数组的值</p><p>join : 合并数组所有元素拼接成字符串</p><p>slice : 选择数组中的一部分元素</p><p>indexOf : 查找数组中指定元素的下标</p><p>lastIndexOf : 查找数组中指定元素的下标。查找方向为从后往前</p><p>示例：</p><h2 id="修改数组"><a href="#修改数组" class="headerlink" title="修改数组"></a>修改数组</h2><ul><li>array.pop 删除数组最后一位元素</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回 3</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1,2]</span></code></pre><ul><li>array.shift 删除数组第一位元素</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回 1</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [2,3]</span></code></pre><ul><li>array.push 往数组的末尾新增一个或多个元素</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回数组长度 1</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1]</span>arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1,2,3]</span></code></pre><ul><li>array.unshift 往数组的开头新增一个或多个元素</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [-1, -2, 0, 1, 2]</span></code></pre><ul><li>array.reverse 把数组元素顺序逆转</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [3, 2, 1]</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [3, 2, 1]</span></code></pre><ul><li>array.sort 数组排序</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [-1, 1, 2]</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [-1, 1, 2]</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    age<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    age<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    age<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 按照 age 从小到大排序</span>  <span class="token keyword">return</span> a<span class="token punctuation">.</span>age <span class="token operator">-</span> b<span class="token punctuation">.</span>age <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>array.splice 给数组添加或者删除元素</li></ul><p>splice(开始下标, 删除个数，插入元素(可以多个)）</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [2,3]</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1,4]</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [2,3]</span>arr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, "a", "b", "c", 4]</span></code></pre><h2 id="迭代方法"><a href="#迭代方法" class="headerlink" title="迭代方法"></a>迭代方法</h2><ul><li>array.forEach 遍历数组</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>each<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>each<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出 'a' 0  'b' 1 'c' 2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>array.filter 从数组中找出所有符合指定条件的元素</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>each<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 找出所有正数</span>  <span class="token keyword">return</span> each <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>res<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [3,4]</span></code></pre><ul><li>array.every 数组中是否每个元素都满足指定的条件</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> isAllPositive <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>each<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> each <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isAllPositive<span class="token punctuation">;</span></code></pre><ul><li>array.some 数组中是否有元素满足指定的条件</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> isSomePositive <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>each<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> each <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 是否有正数</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isSomePositive<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true;</span>isSomePositive <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>each<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> each <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>isSomePositive<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false;</span></code></pre><ul><li>array.map 将数组映射成另一个数组</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">return</span> each <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">// 返回 [2, 4, 6]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>array<span class="token punctuation">.</span>reduce 将数组合成一个值<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> each<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token comment" spellcheck="true">// 数组内容求和。0 为初始值</span>   <span class="token keyword">return</span> prev <span class="token operator">+</span> each<span class="token punctuation">;</span>                     <span class="token comment" spellcheck="true">// 返回 6</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="其它方法"><a href="#其它方法" class="headerlink" title="其它方法"></a>其它方法</h2><ul><li>Array.isArray 是否是数组</li></ul><pre class=" language-js"><code class="language-js">Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre><ul><li>array.concat 合并数组或合并数组的值</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出 [1, 2, 3, 4, 5]</span></code></pre><ul><li>array.join 合并数组所有元素拼接成字符串</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出 '1,2,3'</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"@"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出 '1@2@3'</span></code></pre><ul><li>array.slice 选择数组中的一部分元素<br>slice(开始下标, 结束下标（可选，默认为数组长度）)</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["b", "c", "d"]</span><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["b"]</span><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ["b", "c"]</span></code></pre><ul><li>array.indexOf 查找数组中指定元素的下标</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"g"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// -1</span></code></pre><ul><li>array.lastIndexOf 查找数组中指定元素的下标。查找方向为从后往前</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2</span><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"g"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// -1</span></code></pre><h2 id="String-常用方法"><a href="#String-常用方法" class="headerlink" title="String 常用方法"></a>String 常用方法</h2><p>typeof : 类型判断</p><p>indeOf : 查询字符串中是否包含指定子字符串</p><p>length : 返回数组长度</p><p>charAt(下标) : 取字符串中指定下标的字符</p><p>substring(开始下标, 结束下标) : 取字符串中指定范围的子字符</p><p>substr(开始下标, 长度) : 取字符串中指定范围的子字符</p><p>replace : 将字符串中的部分内容替换</p><p>toUpperCase/toLowerCase : 将字符串变成大/小写</p><p>trim : 去除字符串两头的空格(包括 space, Tab 等)</p><p>split : 将字符串分割成数组</p><h2 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h2><ul><li>获取字符串信息</li></ul><pre class=" language-JS"><code class="language-JS">typeof 类型判断typeof 'abc' === 'string';  // 返回 truetypeof {} === 'string';     // 返回 falsetypeof 123 === 'string';    // 返回 false</code></pre><ul><li>indeOf 查询字符串中是否包含指定子字符串</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'abcde';str.indexOf('b');           // 返回 1str.indexOf('cd');          // 返回 2str.indexOf('###');         // 返回 -1若存在，则返回子字符串在字符串中的下标，否则返回 -1</code></pre><ul><li>length 返回数组长度</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'abcde';str.length;                 // 返回 5</code></pre><ul><li>charAt(下标) 取字符串中指定下标的字符</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'abc';str.charAt(1);              // 返回 'b'str[1];                     // 返回 'b'str.charAt(4);              // 返回 ''str.charAt(-1);             // 返回 ''</code></pre><ul><li>substring(开始下标, 结束下标) 取字符串中指定范围的子字符</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'abcde';str.substring(1);           // 返回 'bcde'str.substring(1,3);         // 'bc'str.substring(0,3);         // 'abc'</code></pre><ul><li>substr(开始下标, 长度) 取字符串中指定范围的子字符</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'abcde';str.substr(1);              // 返回 'bcde'str.substr(1,3);            // 返回 'bcd'str.substr(0,3);            // 返回 'abc'</code></pre><ul><li>字符串变换</li></ul><p>replace 将字符串中的部分内容替换</p><pre class=" language-JS"><code class="language-JS">var str = 'My name is Lucy';str.replace('Lucy', 'Joel'); // 返回 'My name is Joel'str;                         // 返回 'My name is Lucy'</code></pre><ul><li>toUpperCase/toLowerCase 将字符串变成大/小写</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'aBc1';str.toUpperCase();          // 返回 'ABC1'str.toLowerCase();          // 返回 'abc1'str;                        // 返回 'aBc1'</code></pre><ul><li>trim 去除字符串两头的空格(包括 space, Tab 等)</li></ul><pre class=" language-JS"><code class="language-JS">var str = '   abc   ';str.trim();                 // 返回 'abc'str;                        // 返回 '   abc   '</code></pre><ul><li>split 将字符串分割成数组</li></ul><pre class=" language-JS"><code class="language-JS">var str = 'abc';str.split('');              // 返回 ['a', 'b', 'c']str;                        // 'abc'str = 'a&b&c';str.split('&');             // 返回 ['a', 'b', 'c']str = 'a334b344c';str.split(/\d+/);           // 返回 ['a', 'b', 'c']</code></pre><h2 id="Math-常用方法"><a href="#Math-常用方法" class="headerlink" title="Math 常用方法"></a>Math 常用方法</h2><p>Math.max() : 最大值</p><p>Math.min() : 最小值</p><p>Math.ceil() : 向上取整</p><p>Math.floor() : 向下取整</p><p>Math.round() : 四舍五入</p><p>Math.random() : 获取一个属于[0,1)的随机数</p><p>Math.abs(num) : 是返回 num 的绝对值</p><p>toFixed() : 将数值格式化为字符串</p><p>parseInt() : 返回整型的数字</p><p>parseFloat() : 将字符串转为数字，返回浮点型的数字</p><p>Number() : 函数把对象转换为数字</p><p>示例：</p><p>Math.max()和 Math.min(); 最大值和最小值<br>常用于避免多余循环和在 if 语句中确定一组数的最值</p><pre class=" language-JS"><code class="language-JS">var max = Math.max(3,54,32,16);console.log(max);   // 54var min = Math.min(3,54,32,16);console.log(min);   // 3</code></pre><p>也可以使用</p><pre class=" language-JS"><code class="language-JS">var values = [1,2,3,4,5,6,7,8];var max = Math.max.apply(Math,values);</code></pre><ul><li>舍入方法</li></ul><p>Math.ceil()是向上取整；</p><p>Math.floor()是向下取整；</p><p>Math.round()是数学课上的正常的四舍五入。</p><pre class=" language-JS"><code class="language-JS">Math.ceil(1.1);     // 2Math.floor(25.9)    // 25Math.round(25.1)    // 25Math.round(25.9)    // 26</code></pre><p>注意：Math.round(-num.5)的结果为-num</p><p>Math.random() 获取一个属于[0,1)的随机数</p><pre class=" language-JS"><code class="language-JS">var num = Math.random();Math.abs(num)是返回num的绝对值Math.abs(-10);      // 10</code></pre><ul><li>数值类型转换的方法</li></ul><p>toFixed() 将数值格式化为字符串</p><pre class=" language-JS"><code class="language-JS">var num = 10.005;console.log(num.toFixed(2));    // "10.01"</code></pre><ul><li>parseInt() 返回整型的数字</li></ul><pre class=" language-JS"><code class="language-JS">parseInt(string,radix)console.log(parseInt("25"));    // 返回25console.log(parseInt("11",2));  // 参数是2进制，返回十进制结果，返回3console.log(parseInt("8M"));    // 参数首字符是数字，但后面的是字符，返回8console.log(parseInt("M8"));    // 返回NaN</code></pre><p>radix 表示 string 参数中数字的进制，默认是十进制，取值范围为 2~32</p><ul><li>parseFloat() 将字符串转为数字，返回浮点型的数字</li></ul><pre class=" language-JS"><code class="language-JS">console.log(parseFloat("r25.33M22"));   // NaNconsole.log(parseFloat("25.33M22"));    // 25.33</code></pre><ul><li>Number()函数把对象转换为数字</li></ul><pre class=" language-JS"><code class="language-JS">var date = new Date();console.log(Number(date));  // 1515736559035var str = new String("999 888");console.log(Number(str));   // NaNNumber('100.1')             // 100.1Number('12.4b5')            // NaNNumber('www')               // NaN</code></pre><h2 id="Date-常用方法"><a href="#Date-常用方法" class="headerlink" title="Date 常用方法"></a>Date 常用方法</h2><p>操作 Date 的常用方法</p><p>new Date() : 获取时间</p><p>get : 获取年月日时分秒的单独一个</p><p>set : 设置数值，跟 get 用法类似</p><p>getTime : 时间转毫秒数</p><p>示例：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 获取时间<span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// 获取当前时间</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// Fri Jan 12 2018 14:03:29 GMT+0800 (CST)</span><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 获取指定时间</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment" spellcheck="true">// Mon Feb 13 2018 14:52:00 GMT+0800 (CST)</span></code></pre><p>get 获取年月日时分秒的单独一个</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 2018</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 13</span>date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 14</span>date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 57</span>date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 18</span></code></pre><ul><li>set 设置数值，跟 get 用法类似</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">57</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span>date<span class="token punctuation">.</span><span class="token function">setFullYear</span><span class="token punctuation">(</span><span class="token number">2046</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 年份变为2046</span><span class="token operator">...</span></code></pre><ul><li>getTime 时间转毫秒数</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1517631132000</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React.Fragment语法的使用</title>
      <link href="2021/022526434.html"/>
      <url>2021/022526434.html</url>
      
        <content type="html"><![CDATA[<p>React.Fragment 组件能够在不额外创建 DOM 元素的情况下，让 render() 方法中返回多个元素。一个常见模式是一个组件返回多个元素。Fragments 允许你将子列表分组，而无需向 DOM 添加额外节点。</p><p>react中一个常见模式是一个组件返回多个元素，Fragments允许你将子列表分组，而无需像DOM添加额外的节点。</p><pre class=" language-js"><code class="language-js"><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span>  <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">></span>    <span class="token operator">&lt;</span>ChildA <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>ChildB <span class="token operator">/</span><span class="token operator">></span>    <span class="token operator">&lt;</span>ChildC <span class="token operator">/</span><span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>一个常见模式是为一个组件返回一个子元素列表。以这个示例的 React 片段为例：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Table</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>table<span class="token operator">></span>        <span class="token operator">&lt;</span>tr<span class="token operator">></span>          <span class="token operator">&lt;</span>Columns <span class="token operator">/</span><span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>为了渲染有效的 HTML ， <columns> 需要返回多个  元素。如果一个父 div 在 <columns> 的 render()**** 函数里面使用，那么最终的 HTML 将是无效的。</columns></columns></p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Columns</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token operator">&lt;</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>td<span class="token operator">></span>Hello<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>        <span class="token operator">&lt;</span>td<span class="token operator">></span>World<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">></span>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>在  组件中的输出结果如下：<p></p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span></code></pre><p>所以，我们介绍 Fragments。</p><pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">class</span> <span class="token class-name">Columns</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>React.Fragment</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>React.Fragment</span><span class="token punctuation">></span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="问题1-react-fragment是什么？"><a href="#问题1-react-fragment是什么？" class="headerlink" title="问题1.react.fragment是什么？"></a>问题1.react.fragment是什么？</h2><p>React.Fragment 组件能够在不额外创建 DOM 元素的情况下，让 render() 方法中返回多个元素。一个常见模式是一个组件返回多个元素。Fragments 允许你将子列表分组，而无需向 DOM 添加额外节点。</p><p>1.return的内容只能有一个根节点，需要一个包裹元素。一般我都会孤陋寡闻地用div，fragment的好处是聚合成一个子元素列表，且在DOM中不增加额外节点。可以直接简写成&lt;&gt;&lt;/&gt;。</p><pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">return</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Modal</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ConfirmModal</span><span class="token punctuation">/></span></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span></code></pre><p>react16开始，render支持返回数组，可以减少不必要的节点嵌套。上面的代码也可以写成这样：</p><pre class=" language-jsx"><code class="language-jsx"><span class="token keyword">return</span><span class="token punctuation">[</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Modal</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ConfirmModal</span><span class="token punctuation">/></span></span><span class="token punctuation">]</span></code></pre><h2 id="问题2-为什么return加括号？"><a href="#问题2-为什么return加括号？" class="headerlink" title="问题2.为什么return加括号？"></a>问题2.为什么return加括号？</h2><p>因为在JS中，每个代码换行编译时都会在末尾加上;，没有括号就会变成P2。所以括号的作用是告诉JS这是一个代码块不需要加分号。把代码写成以下两种格式，return的括号不是必须的，括号只起到增加代码可读性的作用。</p><p>&lt;React.Fragment&gt; 与 &lt;&gt;区别<br>&lt;&gt;&lt;/&gt; 语法不能接受键值或属性，&lt;React.Fragment&gt;可以。</p><p>使用显式 &lt;React.Fragment&gt; 语法声明的片段可能具有 key。一个使用场景是将一个集合映射到一个 Fragments 数组 - 举个例子，创建一个描述列表：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Glossary</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>    <span class="token operator">&lt;</span>dl<span class="token operator">></span>      <span class="token punctuation">{</span>props<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>        <span class="token comment" spellcheck="true">// 没有`key`，React 会发出一个关键警告</span>        <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">></span>          <span class="token operator">&lt;</span>dt<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>term<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>dt<span class="token operator">></span>          <span class="token operator">&lt;</span>dd<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>description<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>dd<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">></span>      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>dl<span class="token operator">></span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>key 是唯一可以传递给 Fragment 的属性。未来可能会添加对其他属性的支持，例如事件。</p><p><code>注意</code>：简写形式&lt;&gt;&lt;/&gt;，但目前有些前端工具支持的还不太好，用 create-react-app 创建的项目可能就不能通过编译。所以遇到这种情况很正常。</p><p>注：文章借鉴</p><p><a href="https://blog.csdn.net/weixin_43720095/article/details/104943812">React Fragment介绍与使用</a></p><table></table></p>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端常用缓存方法</title>
      <link href="2021/022546100.html"/>
      <url>2021/022546100.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-Cookie"><a href="#1-Cookie" class="headerlink" title="1.Cookie"></a>1.Cookie</h2><p>cookie是比较老的前端缓存技术了，它的特点是：想要使用它前端必须要有服务（静态网页是不行的），而且存储大小限制在4kb。那么为什么必须要有服务才能使用cookie呢？因为只要有请求涉及，cookie就要在服务器和浏览器之间来回传送。而且由于浏览器的跨域限制，客户端和服务端必须要保证同源的原则才能使用，但是由于cookie是存放在前端的，所以安全问题一直是个大问题，因此一般重要的信息不建议放在cookie中存放.</p><h2 id="2-localStorage"><a href="#2-localStorage" class="headerlink" title="2.localStorage"></a>2.localStorage</h2><p>它的特点就是“持久” （女孩子都喜欢- 。-）一旦通过保存，不通过手动清除的话，就会一直保存在前端。它的保存格式是键值对的方式也就是“key-value”的方式保存的，它的存储空间大小限制在500万字符左右，以下是它的一些使用方法：</p><pre class=" language-js"><code class="language-js">localStorage<span class="token punctuation">.</span>length    <span class="token comment" spellcheck="true">//获得storage中的个数</span>localStorage<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//获得storage中第n个元素对的键值（第一个元素是0）</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//获取键值key对应的值</span>localStorage<span class="token punctuation">.</span>key    <span class="token comment" spellcheck="true">//获取键值key对应的值</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//添加数据，键值为key，值为value</span>localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//移除键值为key的数据</span>localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//清除所有数据</span></code></pre><h2 id="3-sessionStorage"><a href="#3-sessionStorage" class="headerlink" title="3.sessionStorage"></a>3.sessionStorage</h2><p> sessionStorage是一种会话级别的本地存储，一旦关闭浏览器他就会消失,以下是sessionStorage的记本用法：</p><pre class=" language-js"><code class="language-js">sessionStorage<span class="token punctuation">.</span>length    <span class="token comment" spellcheck="true">//获得storage中的个数</span>sessionStorage<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//获得storage中第n个元素对的键值（第一个元素是0）</span>sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//获取键值key对应的值</span>sessionStorage<span class="token punctuation">.</span>key    <span class="token comment" spellcheck="true">//获取键值key对应的值</span>sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//添加数据，键值为key，值为value</span>sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">//移除键值为key的数据</span></code></pre><h2 id="补充1-Session"><a href="#补充1-Session" class="headerlink" title="补充1.Session"></a>补充1.Session</h2><p>对于服务端的程序眼来说session大家肯定很熟悉了，session是一种服务端的机制，也就是能把信息存放在服务端，所以安全可以保障，它的原理是通过session id来识别客户端，这个session id是存放在cookie中的（当然session id让用户看见没无妨），服务端会通过session id来识别客户端进行匹配和判断。它和cookie对比起来差距就很明显了，一个是把数据存在客户端；一个存在服务端，从安全性考虑的话一般像用户名密码这种私密信息一般放在session中。</p><h2 id="补充2-Cookie和Session简单对比"><a href="#补充2-Cookie和Session简单对比" class="headerlink" title="补充2.Cookie和Session简单对比"></a>补充2.Cookie和Session简单对比</h2><p>Cookie和Session 的区别：</p><p>1）cookie数据存放在客户的浏览器上，session数据放在服务器上。</p><p>2）cookie不是很安全，别人可以分析存放在本地的cookie并进行cookie欺骗，考虑到安全应当使用session。</p><p>3）session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能考虑到减轻服务器性能方面，应当使用cookie。</p><p>4）单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。<br>5）所以建议：<br>将登陆信息等重要信息存放为SESSION<br>其他信息如果需要保留，可以放在cookie中</p><h2 id="补充3-sessionStorage和localStorage的区别"><a href="#补充3-sessionStorage和localStorage的区别" class="headerlink" title="补充3.sessionStorage和localStorage的区别"></a>补充3.sessionStorage和localStorage的区别</h2><p>sessionStorage和localStorage有什么区别呢？sessionStorage是一种会话级别的本地存储，一旦关闭浏览器他就会消失，而前者是很“持久”的，即使你关闭一万次浏览器也没事，所以差距还是很大的<br>sessionStorage用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。因此sessionStorage不是一种持久化的本地存储，仅仅是会话级别的存储。当用户关闭浏览器窗口后，数据立马会被删除。</p><p>localStorage用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。第二天、第二周或下一年之后，数据依然可用。</p><p>注：文章借鉴</p><p><a href="https://blog.csdn.net/weixin_38639882/article/details/79791786">说说几种常用的前端缓存</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> 缓存 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 缓存 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>json.stringify()的妙用，json.stringify()与json.parse()的区别</title>
      <link href="2021/02245580.html"/>
      <url>2021/02245580.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、JSON-stringify-与JSON-parse-的区别"><a href="#一、JSON-stringify-与JSON-parse-的区别" class="headerlink" title="一、JSON.stringify()与JSON.parse()的区别"></a>一、JSON.stringify()与JSON.parse()的区别</h2><p>今天学习了了来一下JSON.stringify()，发现JSON.stringify()使用场景真的挺多，我现在将学习经验分享大家。</p><p>简单点说，它们的作用是相对的，我用JSON.stringify()将对象a变成了字符串c，那么我就可以用JSON.parse()将字符串c还原成对象a。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//'[1,2,3]'</span><span class="token keyword">typeof</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//string</span><span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string">'[1,2,3]'</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[1,2,3]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//object</span></code></pre><p>在使用JSON.parse()需要注意一点，由于此方法是将JSON字符串转换成对象，所以你的字符串必须符合JSON格式，即键值都必须使用双引号包裹：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'["1","2"]'</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">"['1','2']"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Array [1,2]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 报错</span></code></pre><p>上面例子中变量b就无法转换，因为格式不符合，那么知道了这些知识点，我们能用来做什么呢？</p><h2 id="二、JSON-stringify-的几种妙用"><a href="#二、JSON-stringify-的几种妙用" class="headerlink" title="二、JSON.stringify()的几种妙用"></a>二、JSON.stringify()的几种妙用</h2><p>1.判断数组是否包含某对象，或者判断对象是否相等。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//判断数组是否包含某对象</span><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'echo'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'听风是风'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'天子笑'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    val <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token string">'天子笑'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span><span class="token comment" spellcheck="true">//判断两数组/对象是否相等</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span></code></pre><p><strong>2.让localStorage/sessionStorage可以存储对象</strong></p><p>localStorage/sessionStorage默认只能存储字符串，而实际开发中，我们往往需要存储的数据多为对象类型，那么这里我们就可以在存储时利用json.stringify()将对象转为字符串，而在取缓存时，只需配合json.parse()转回对象即可。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//存</span><span class="token keyword">function</span> <span class="token function">setLocalStorage</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>    window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//取</span><span class="token keyword">function</span> <span class="token function">getLocalStorage</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> val <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> val<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//测试</span><span class="token function">setLocalStorage</span><span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span>  a <span class="token operator">=</span> <span class="token function">getLocalStorage</span><span class="token punctuation">(</span><span class="token string">'demo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//[1,2,3]</span></code></pre><p><strong>3.实现对象深拷贝</strong></p><p>实际开发中，如果怕影响原数据，我们常深拷贝出一份数据做任意操作，其实使用JSON.stringify()与JSON.parse()来实现深拷贝是很不错的选择。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//深拷贝</span><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> _data <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>        dataClone <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> dataClone<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//测试</span><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    _arr <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>_arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[2,2,3]  [1,2,3]</span></code></pre><h2 id="三、JSON-stringify-与toString-的区别"><a href="#三、JSON-stringify-与toString-的区别" class="headerlink" title="三、JSON.stringify()与toString()的区别"></a>三、JSON.stringify()与toString()的区别</h2><p>这两者虽然都可以将目标值转为字符串，但本质上还是有区别的，比如</p><p>let arr = [1,2,3];<br>JSON.stringify(arr);//‘[1,2,3]’<br>arr.toString();//1,2,3<br>其次，JSON.stringify()的受众更多是对象，而toString()虽然可以将数组转为字符串，但并不能对{name:’天子笑’}这类对象实现你想要的操作，它的受众更多是数字。</p><p>注：文章借鉴</p><p><a href="https://www.cnblogs.com/echolun/p/9631836.html">json.stringify()的妙用，json.stringify()与json.parse()的区别</a></p>]]></content>
      
      
      <categories>
          
          <category> json </category>
          
      </categories>
      
      
        <tags>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>localStorage 与 cookie 的异同</title>
      <link href="2021/022419581.html"/>
      <url>2021/022419581.html</url>
      
        <content type="html"><![CDATA[<h2 id="常用的前端缓存"><a href="#常用的前端缓存" class="headerlink" title="常用的前端缓存"></a>常用的前端缓存</h2><ul><li>1.Cookie</li><li>2.存储简单数据 w3ebstorage</li></ul><p>（1）localStorage<br>（2）sessionStorage</p><ul><li>3.session</li><li>4.存储复杂数据 — IndexedDB</li></ul><h2 id="localStorage-与-cookie-的异同"><a href="#localStorage-与-cookie-的异同" class="headerlink" title="localStorage 与 cookie 的异同"></a>localStorage 与 cookie 的异同</h2><p><strong>相同点</strong></p><p>都是在浏览器端存储在本地的数据，需要时可以直接从本地获取。</p><p><strong>不同点</strong></p><ul><li><p>cookie 数据始终在同源的 http 请求中携带。而 localStorage 不会自动把数据发给服务器，仅在本地保存。</p></li><li><p>cookie 数据不能超过 4k，所以 cookie 只适合保存很小的数据。而 localStorage 可以达到 5M 或更大。</p></li><li><p>localStorage 始终有效，窗口或浏览器关闭也一直保存。</p></li><li><p>cookie 在过期时间之前一直有效，即使窗口或浏览器关闭。</p></li></ul><h3 id="存入和读取"><a href="#存入和读取" class="headerlink" title="存入和读取"></a>存入和读取</h3><h4 id="localStorage-的使用"><a href="#localStorage-的使用" class="headerlink" title="localStorage 的使用"></a>localStorage 的使用</h4><ul><li>写入数据</li></ul><pre class=" language-js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"caibin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 在localStorage中存储为 name:"caibin"</span><span class="token comment" spellcheck="true">// 或</span>localStorage<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"lucy"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 改变localStorage中存入的值</span></code></pre><ul><li>读取数据</li></ul><pre class=" language-js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印结果为 caibin</span><span class="token comment" spellcheck="true">// 或</span><span class="token keyword">let</span> name <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 数据调取也可以使用这种方法</span></code></pre><ul><li>删除数据</li></ul><pre class=" language-js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 删除name字段存储的数据</span></code></pre><ul><li>清空数据</li></ul><pre class=" language-js"><code class="language-js">localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 清空所有存储的数据</span>对象存取<span class="token punctuation">;</span><span class="token keyword">const</span> students <span class="token operator">=</span> <span class="token punctuation">{</span>  xiaomin<span class="token punctuation">:</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">"xiaoming"</span><span class="token punctuation">,</span>    grade<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  teemo<span class="token punctuation">:</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">"teemo"</span><span class="token punctuation">,</span>    grade<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> stuStr <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>students<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// {"xiaomin":{"name":"xiaoming","grade":1},"teemo":{"name":"teemo","grade":3}}</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"students"</span><span class="token punctuation">,</span> stuStr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> stus <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"students"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> 以上代码结果可以在控制台中的 Application 查看。</p><h2 id="cookie-的使用"><a href="#cookie-的使用" class="headerlink" title="cookie 的使用"></a>cookie 的使用</h2><ul><li>设置 cookie 的值</li></ul><p>每个 cookie 都是一个键值对，可以把下面的字符串赋值给 document.cookie：</p><pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"userId=828"</span><span class="token punctuation">;</span></code></pre><ul><li>修改 cookie 值</li></ul><p>重新赋值即为修改。</p><pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"userId=929"</span><span class="token punctuation">;</span></code></pre><ul><li>cookie 的读取</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> strCookie <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strCookie<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// userId=828</span></code></pre><ul><li>设置 cookie 的失效日期</li></ul><p>在默认情况下，一个 cookie 的生命周期就是在浏览器关闭的时候结束。如果想要 cookie 能在浏览器关掉之后还可以使用，就必须要为该 cookie 设置有效期，也就是 cookie 的失效日期。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将date设置为10天以后的时间</span>date<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将userId 的 cookie 设置为10天后过期</span>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"userId=929;expires="</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">toGMTString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>设置 cookie 可访问的路径</li></ul><p>为了控制 cookie 可以访问的目录，需要使用 path 参数设置 cookie</p><pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"userId=929;path=/shop"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 表示当前cookie仅在shop目录下使用。</span>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">"userId=929;path=/"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 表示当前cookie在整个网站下可用。</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端缓存 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端缓存 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaScript定义函数的几种方法</title>
      <link href="2021/012220198.html"/>
      <url>2021/012220198.html</url>
      
        <content type="html"><![CDATA[<p>在 JavaScript 语言里，函数是一种对象，所以可以说函数是 JavaScript 里的一等公民（first-class citizens）。JS函数的定义方式比较灵活，下面我总结下几种常用的函数定义方式。</p><h2 id="1-关键字函数-function"><a href="#1-关键字函数-function" class="headerlink" title="1.关键字函数:function"></a>1.关键字函数:function</h2><p><strong>无参函数</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token string">"我是无参函数"</span><span class="token punctuation">}</span></code></pre><p><strong>有参函数</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">func2</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></code></pre><p>因为在 JavaScript 里面是对象（object），所以它会有一些属性还有方法。比如 name 属性是函数的名字，length 属性指的是函数里面有多少个必须要传递的参数。比如访问上面定义的这个函数里的两个属性：</p><pre><code>func2.name// 输出 func2func2.length// 输出 1，表示有1个参数</code></pre><h2 id="2-在对象字面量中定义函数"><a href="#2-在对象字面量中定义函数" class="headerlink" title="2.在对象字面量中定义函数"></a>2.在对象字面量中定义函数</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>aaa<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">return</span>  <span class="token string">"在对象字面量中定义函数"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token function">bbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">return</span>  <span class="token string">"在对象字面量中定义函数"</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>上面定义了一个名字是 obj 的对象，在它里面添加了一个叫 aaa 的方法及一个叫 bbb 的方法。要使用这个方法可以这样：</p><pre class=" language-js"><code class="language-js">obj<span class="token punctuation">.</span><span class="token function">aaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="3-使用函数表达式的方法来定义函数-字面量函数"><a href="#3-使用函数表达式的方法来定义函数-字面量函数" class="headerlink" title="3.使用函数表达式的方法来定义函数:(字面量函数)"></a>3.使用函数表达式的方法来定义函数:(字面量函数)</h2><p><strong>无参数时</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> ccc <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span>）<span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>箭头函数写法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> ccc <span class="token operator">=</span><span class="token punctuation">(</span>） <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p><strong>有一个参数时</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> func3 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">` </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></code></pre><p>箭头函数写法：</p><p>只有一个参数时,这时，我们可以把括号省略，    直接写成  const func3 = name=&gt;{<code> ${name}</code>}</p><pre><code>const func3 = (name) =&gt; {　　return ` ${name}`}</code></pre><p><strong>有两个参数时普通写法</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> func4 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span> sex<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token template-string"><span class="token string">` </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></code></pre><p>有两个参数时箭头函数写法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> func4 <span class="token operator">=</span> <span class="token punctuation">(</span>sex<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>　　<span class="token keyword">return</span> <span class="token template-string"><span class="token string">` </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></code></pre><p>当函数在代码块中只有一行代码时；可以进行简化</p><p>简化后：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> func4 <span class="token operator">=</span> <span class="token punctuation">(</span>sex<span class="token punctuation">,</span>name<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span>$<span class="token punctuation">{</span>sex<span class="token punctuation">}</span>$<span class="token punctuation">{</span>name<span class="token punctuation">}</span>`</code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序开发介绍</title>
      <link href="2021/011544855.html"/>
      <url>2021/011544855.html</url>
      
        <content type="html"><![CDATA[<p>小程序是一种全新的连接用户与服务的方式，它可以在微信内被便捷地获取和传播，同时具有出色的使用体验。</p><h2 id="1-开发准备【注册微信开发平台】"><a href="#1-开发准备【注册微信开发平台】" class="headerlink" title="1.开发准备【注册微信开发平台】"></a>1.开发准备【注册微信开发平台】</h2><p>首先，你需要进入 <a href="http://mp.weixin.qq.com,点击右上角的【立即注册】链接,在【帐户类型】页面中,选择【小程序】./">http://mp.weixin.qq.com，点击右上角的【立即注册】链接，在【帐户类型】页面中，选择【小程序】。</a></p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115103019.png" alt="image"></p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115103555.png" alt="image"></p><p>注册之后，按操作进行邮箱激活，你需要填写小程序的主体信息。在这一步，你需要验证你的手机号，并使用你自己的微信号扫码确认。<br><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115103824.png" alt="image"></p><p>主体信息验证后，你就可以进入到小程序的后台了。在这里，你可以填写小程序基本信息及添加开发者</p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115104642.png" alt="image"></p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115105031.png" alt="image"></p><p>需要注意的是，在发布前，你有 3 次确定小程序名称的机会（包括首次填写）；发布之后，小程序暂不支持改名。 所以，请你仔细想好小程序的名称，再确认注册</p><p>至此，你的小程序就注册完成了！接下来，你可以下载【微信 web 开发者工具】，开始开发、发布你的小程序。</p><p>注册完账号进行登录，在主页面左边列表中点击设置，然后再设置页面中选开发设置就可以看到 AppID，用于登录开发工具。在开发之前请先把 AppID 保存到电脑本地，方便开发使用。</p><p>开发工具下载及工具介绍）</p><p>前往官网下载<br><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html">微信小程序开发者工具</a>，<br>这里提供了三个版本，我下载了稳定版。安装完成后双击启动软件，选择小程序；界面顶端有新建项目和导入项目两种，这里我们选择新建来到如下界面：</p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115105823.png" alt="image"></p><p><strong>工具介绍</strong></p><ul><li><p>项目名称：项目的名字，取个好听的，最好还是别取中文，这里我就叫 demo-wechat。</p></li><li><p>目录：项目存放目录，这里我就在 D 盘新建一个空的 demo-wechat 文件夹存放此项目。</p></li><li><p>AppID：如果是开发我们创建的小程序这里就需要填写此 ID，很明显我们处于学习阶段怎么上手就玩自己的小程序，这里使用测试号。</p></li><li><p>开发模式：选择小程序。</p></li><li><p>后端服务：暂时不会用到，选择不使用云服务。</p></li><li><p>语言：这里我选择 JavaScript，如果你习惯 typescript，也可以换成此项。</p></li></ul><p><strong>界面介绍</strong></p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115111129.png" alt="image"></p><p>在编辑器左上角可以看到模拟器、编辑器、调试器三个绿色按钮。它们分别对应了开发者工具的左侧，也就是实时预览区域；右上侧区域，我们日常开发写代码管理项目目录的地方；以及右下侧，调试区域。</p><p>再往右一点，可以看到一个预览按钮，点击会提供了一个有效期限的二维码，我们可以通过微信扫码在手机端真实预览项目；以及右边的真机调试，也就是在手机上调试我们的项目。</p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115111431.png" alt="image"></p><h2 id="小程序主要文件介绍"><a href="#小程序主要文件介绍" class="headerlink" title="小程序主要文件介绍"></a>小程序主要文件介绍</h2><p>小程序代码中的文件类型大致分为以下四种：</p><ul><li><p>.wxml：微信模板文件，类似网页开发的 html 文件。</p></li><li><p>.wxss：微信样式表文件，用于定于页面样式。</p></li><li><p>.js：脚本文件，代码逻辑写在这。</p></li><li><p>.json：静态数据配置文件。</p></li></ul><p>app.json<br>必须要有这个文件，如果没有这个文件，IDE 会报错，因为微信框架把这个作为配置文件入口，<br>你只需创建这个文件，里面写个大括号就行<br>以后我们会在这里对整个小程序的全局配置。记录了页面组成，配置小程序的窗口 背景色，配置导航条样式，配置默认标题。</p><p>app.js<br>必须要有这个文件，没有也是会报错！但是这个文件创建一下就行 什么都不需要写<br>以后我们可以在这个文件中监听并处理小程序的生命周期函数、声明全局变量。</p><p>app.wxss<br>这个文件不是必须的。因为它只是个全局 CSS 样式文件</p><p>app.wxml<br>这个也不是必须的，而且这个并不是指主界面哦~因为小程序的主页面是靠在 JSON 文件中配置来决定的</p><p><strong>project.config.json—开发者工具配置</strong></p><p>此文件用于定义开发者工具的个性化定制，比如界面颜色，编译配置等等。</p><p>大家用过 npm 都知道下载三方库都会生成一个 package.json 文件，此文件记录了下载过得所有库名与版本信息，如果我们换了电脑，其实不用将之前下载的文件拷贝过去，而是只用拷贝一个 package.json 再次执行下载就可以复原你需要的三方库。</p><p>那么 project.config.json 类似如此，它保存了你对于开发者工具的相关配置，如果你换电脑了，你可以通过此文件直接还原你最初习惯的开发设置。查看详细开发者工具配置</p><h2 id="小程序开发小实战-点击按钮获取微信头像"><a href="#小程序开发小实战-点击按钮获取微信头像" class="headerlink" title="小程序开发小实战(点击按钮获取微信头像)"></a>小程序开发小实战(点击按钮获取微信头像)</h2><p><strong>实现效果</strong></p><p>点击前：<br><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115113749.png" alt="image"></p><p>点击后：<br><img src="https://raw.githubusercontent.com/liang996/gallery/master/20210115113857.png" alt="image"></p><p><strong>创建页面</strong></p><p>每一个小程序页面是由同路径下同名的四个不同后缀文件的组成，如：index.js、index.wxml、index.wxss、index.json。.js 后缀的文件是脚本文件，.json 后缀的文件是配置文件，.wxss 后缀的是样式表文件，.wxml 后缀的文件是页面结构文件。</p><p><strong>创建 index.wxml 结构文件</strong></p><p>在 pages 页面创建一个 index 入口文件</p><p>界面呈现一般在 wxml 文件里面，所以创建 index.wxml 进行编写,内容如下：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hede<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>image</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{avatarUrl}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>image</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">></span></span>{{name==="你好"?"你好":name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">open-type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getUserInfo<span class="token punctuation">"</span></span> <span class="token attr-name">bindgetuserinfo</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getMyInfo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>切换图片<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">></span></span></code></pre><p><strong>创建 index.wxss 样式表文件</strong></p><p>页面样式优化，一般放在 index.wxss 文件中，所以创建 index.wxss,内容如下：</p><pre class=" language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* pages/index.wxss */</span><span class="token selector"><span class="token class">.hede</span> </span><span class="token punctuation">{</span>  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100</span>vh<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/*垂直布局*/</span>  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>  <span class="token property">justify-content</span><span class="token punctuation">:</span> space-around<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">image </span><span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">470</span>rpx<span class="token punctuation">;</span>  <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">59%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">text </span><span class="token punctuation">{</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">30</span>px<span class="token punctuation">;</span>  <span class="token property">color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>创建 index.js 脚本文件(逻辑文件)</strong></p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// pages/index.js</span><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">/**   * 页面的初始数据   */</span>  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>    avatarUrl<span class="token punctuation">:</span> <span class="token string">'/image/wx.jpeg'</span><span class="token punctuation">,</span>    name<span class="token punctuation">:</span> <span class="token string">'你好'</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  getMyInfo<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      avatarUrl<span class="token punctuation">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>avatarUrl<span class="token punctuation">,</span>      name<span class="token punctuation">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>userInfo<span class="token punctuation">.</span>nickName<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 生命周期函数--监听页面加载   */</span>  onLoad<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 生命周期函数--监听页面初次渲染完成   */</span>  onReady<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 生命周期函数--监听页面显示   */</span>  onShow<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 生命周期函数--监听页面隐藏   */</span>  onHide<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 生命周期函数--监听页面卸载   */</span>  onUnload<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 页面相关事件处理函数--监听用户下拉动作   */</span>  onPullDownRefresh<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 页面上拉触底事件的处理函数   */</span>  onReachBottom<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">/**   * 用户点击右上角分享   */</span>  onShareAppMessage<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>app.json 配置文件内容</strong></p><pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>  <span class="token string">"pages"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token string">"pages/index/index"</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token string">"window"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token string">"backgroundTextStyle"</span><span class="token punctuation">:</span> <span class="token string">"light"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//下拉 loading 的样式，仅支持 dark / light</span>    <span class="token string">"navigationBarBackgroundColor"</span><span class="token punctuation">:</span> <span class="token string">"#fff"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//导航栏背景颜色，如 #000000</span>    <span class="token string">"navigationBarTitleText"</span><span class="token punctuation">:</span> <span class="token string">"小程序demo"</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//导航栏标题文字内容</span>    <span class="token string">"navigationBarTextStyle"</span><span class="token punctuation">:</span> <span class="token string">"black"</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//导航栏标题颜色，仅支持 black / white</span>  <span class="token string">"style"</span><span class="token punctuation">:</span> <span class="token string">"v2"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//指定使用升级后的weui样式</span>  <span class="token string">"sitemapLocation"</span><span class="token punctuation">:</span> <span class="token string">"sitemap.json"</span>  <span class="token comment" spellcheck="true">//指明 sitemap.json 的位置</span><span class="token punctuation">}</span></code></pre><h2 id="开发经验总结"><a href="#开发经验总结" class="headerlink" title="开发经验总结"></a>开发经验总结</h2><p><strong>1.微信小程序 获取 wx:for 下标</strong></p><p>如果数据是一个列表，你想获取到列表中，你当前点击的列表项。</p><p>在标签上加</p><pre><code>wx:for-index="index"   data-index="{{index}}"</code></pre><p>代码如下：</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>resetBtn<span class="token punctuation">"</span></span>  <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>getIndex<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name">  <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">270</span>rpx</span><span class="token punctuation">"</span></span>  <span class="token attr-name">data-index</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{{item}}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  获取选择的列表项<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre><p>在 js 那边就是</p><pre class=" language-js"><code class="language-js">getIndex<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>index<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p><strong>2.小程序获取多个输入框的值</strong></p><p>wxml 文件代码实例</p><pre class=" language-html"><code class="language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>formInput<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>请输入旧密码<span class="token punctuation">"</span></span> <span class="token attr-name">password</span> <span class="token attr-name">placeholder-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>placeholderStyle<span class="token punctuation">"</span></span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>inputWacth<span class="token punctuation">'</span></span> <span class="token attr-name">data-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>oldPassword<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>formInput<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>请输入新密码<span class="token punctuation">"</span></span> <span class="token attr-name">password</span> <span class="token attr-name">placeholder-class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>placeholderStyle<span class="token punctuation">"</span></span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>inputWacth<span class="token punctuation">'</span></span> <span class="token attr-name">data-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>newPassword<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>input</span><span class="token punctuation">></span></span></code></pre><p>在 js 那边就是</p><pre class=" language-js"><code class="language-js">  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>    oldPassword<span class="token punctuation">:</span><span class="token string">''</span><span class="token punctuation">,</span>    newPassword<span class="token punctuation">:</span><span class="token string">''</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  inputWacth<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> item <span class="token operator">=</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>model<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>      <span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">:</span> e<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>value    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><p><strong>3.微信小程序，实时获取 textarea 输入信息</strong></p><p>wxml 文件代码实例</p><pre class=" language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">bindinput</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bind<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>给卖家留言<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span><span class="token number">300</span>rpx</span><span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre><p>在 js 那边就是<br>利用输入判定函数，可以实时获取输入值</p><pre><code>bind: function(e){        _this.setData({            reason_input: e.detail.value        });},</code></pre><p><strong>4.微信小程序在 wxml 中使用 js 公共方法</strong></p><p>一般我们都会把一些常用的 js 函数放在 utils/util.js 里，但在使用过程中，发现它里面的方法只能在 js 里调用，没法直接在 wxml 中使用。。</p><p>于是利用小程序的其他方法实现：wxs</p><p>官方文档中提到：WXS（WeiXin Script）是小程序的一套脚本语言，结合 WXML，可以构建出页面的结构。</p><p>将下面代码贴进 utils 文件夹下的 judge.wxs 中，内容如下：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> filter <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 维修状态</span>  repairStatus<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _txt <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'物业审核中'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'维修员已受理'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'维修完成'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">4</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'已维修'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">default</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'暂无数据'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> _txt<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 审核状态</span>  auditStatus<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> _txt <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">' 待审核'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'审核通过'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'不通过'</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">default</span><span class="token punctuation">:</span>        _txt <span class="token operator">=</span> <span class="token string">'暂无数据'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> _txt<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  repairStatus<span class="token punctuation">:</span> filter<span class="token punctuation">.</span>repairStatus<span class="token punctuation">,</span>  auditStatus<span class="token punctuation">:</span> filter<span class="token punctuation">.</span>auditStatus<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>wxml 文件中运用，内容如下：</p><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span>wxs src<span class="token operator">=</span><span class="token string">"../../utils/judge.wxs"</span> module<span class="token operator">=</span><span class="token string">"filter"</span> <span class="token operator">/</span><span class="token operator">></span>          <span class="token operator">&lt;</span>view <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"coupon-name"</span><span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> filter<span class="token punctuation">.</span><span class="token function">repairStatus</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>repairStatus<span class="token punctuation">)</span> <span class="token operator">||</span><span class="token string">"待接单"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>view<span class="token operator">></span></code></pre><p><strong>5.微信小程序 picker组件 自定义 多选</strong></p><p><a href="https://blog.csdn.net/akiraxq/article/details/84323408">微信小程序 picker组件 自定义 多选</a></p><p><strong>6.微信小程序暂无数据组件封装</strong></p><p><a href="https://blog.csdn.net/qq_43327305/article/details/89471830">微信小程序暂无数据组件封装</a></p><p><strong>7.微信小程序下拉刷新/上拉加载组件</strong></p><p><a href="https://github.com/GdinKing/wx-pull-refresh">微信小程序下拉刷新/上拉加载组件</a></p><p><strong>8.微信小程序数据向上一页传递</strong></p><pre class=" language-js"><code class="language-js">微信小程序数据向上一页传递<span class="token keyword">let</span> pages <span class="token operator">=</span> <span class="token function">getCurrentPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 当前页，</span>  <span class="token keyword">let</span> prevPage <span class="token operator">=</span> pages<span class="token punctuation">[</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 上一页</span>  prevPage<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    subPageResult<span class="token punctuation">:</span> <span class="token string">"我是结果"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  wx<span class="token punctuation">.</span><span class="token function">navigateBack</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//返回</span>    delta<span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><strong>9.微信小程序去掉左上角的返回箭头.</strong></p><p>简单的方法就是改变跳转的方法,<code>wx.navigateTo</code> 改成<code>wx.redirectTo</code> ,之后默认的箭头就消失了.</p><p><strong>10.微信小程序：页面获取自定义组件中的值</strong></p><p><strong>11.微信小程序如何将后端返回的图片文件流显示</strong></p><p>由于请求接口后端返回的图片格式不是一个完整的url,也不是其他直接能显示的图片格式，是一张图片，返回为文件流的格式。用wx.request请求的时候，就自动解码成为了下面这样的数据</p><ul><li><input checked="" disabled="" type="checkbox"> <a href="https://blog.csdn.net/selectdele/article/details/99742404">微信小程序：页面获取自定义组件中的值</a></li></ul><p><strong>10.微信小程序：页面获取自定义组件中的值</strong></p><ul><li><p><a href="https://github.com/ParryQiu/wxopenclub-wxapp-lessons">60 节微信小程序开发视频教程配套源代码</a></p></li><li><p><a href="https://github.com/opendigg/awesome-github-wechat-weapp">微信小程序开源项目库汇总</a></p></li><li><p><a href="https://github.com/qiushi123/xiaochengxu_demos">小程序优秀项目源码汇总，每个项目都有图有源码</a></p></li><li><p><a href="https://github.com/classmatewu/mp-postAndMoive">微信小程序的第一个简单项目——电影与文章1</a></p></li><li><p><a href="https://github.com/dafeizhu/ReaderMovie">微信小程序的第一个简单项目——电影与文章2</a></p></li><li><p><a href="https://github.com/zyb718116577/wxmusic">微信小程序音乐播放器</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 微信小程序 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>forEach是否改变原数组</title>
      <link href="2021/01062693.html"/>
      <url>2021/01062693.html</url>
      
        <content type="html"><![CDATA[<h2 id="1、基本数据类型"><a href="#1、基本数据类型" class="headerlink" title="1、基本数据类型"></a>1、基本数据类型</h2><p>例子1:不改变原数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arrNumber <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arrNumber<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item<span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>   item <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrNumber<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// [1,2,3,4] 未改变原数组</span></code></pre><p>forEach(item, index, arr)，三个参数，如果直接用item=xxx是无法改变原数组的，但是如果用arr[index]就可以改变原数组。</p><p>例子2:改变原数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arrNumber <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arrNumber<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>   arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrNumber<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//[ 6, 6, 6, 6 ]改变了原数组</span></code></pre><h2 id="2、引用类型"><a href="#2、引用类型" class="headerlink" title="2、引用类型"></a>2、引用类型</h2><p>例子1:不改变原数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arrObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arrObject<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item<span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    item <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrObject<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//[{a: 1} ,{a: 1}] 未改变原数组</span></code></pre><p>例子2:改变原数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arrObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arrObject<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item<span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    item <span class="token punctuation">.</span>a<span class="token operator">=</span> <span class="token number">66</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrObject<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//[ { a: 66 }, { a: 66 } ]</span></code></pre><h2 id="总结一下"><a href="#总结一下" class="headerlink" title="总结一下"></a>总结一下</h2><p>专业的概念说就是：JavaScript是有基本数据类型与引用数据类型之分的。对于基本数据类型：number,string,Boolean,null,undefined它们在栈内存中直接存储变量与值。而Object对象的真正的数据是保存在堆内存，栈内只保存了对象的变量以及对应的堆的地址，所以操作Object其实就是直接操作了原数组对象本身。</p><p>forEach 的基本原理也是for循环，使用arr[index]的形式赋值改变，无论什么就都可以改变了。</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6(2015)-Es10(2019)的总结</title>
      <link href="2020/122845577.html"/>
      <url>2020/122845577.html</url>
      
        <content type="html"><![CDATA[<p>ECMAScript是一种由Ecma国际（前身为欧洲计算机制造商协会）在标准ECMA-262中定义的脚本语言规范。</p><h1 id="Es6"><a href="#Es6" class="headerlink" title="Es6"></a>Es6</h1><h2 id="Let与Const"><a href="#Let与Const" class="headerlink" title="Let与Const"></a>Let与Const</h2><p>ES6 新增了let命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。</p><h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><pre class=" language-js"><code class="language-js"><span class="token punctuation">{</span>  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span>a <span class="token comment" spellcheck="true">// ReferenceError: a is not defined.</span>b <span class="token comment" spellcheck="true">// 1</span></code></pre><h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><p>const就是constant的缩写，用于声明一个只读的常量。一旦声明，常量的值就不能改变，即不可变量。const定义常量的原理是阻隔变量名所对应的内存地址被改变。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> PI <span class="token operator">=</span> <span class="token number">3.1415</span><span class="token punctuation">;</span>PI <span class="token comment" spellcheck="true">// 3.1415</span>PI <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// TypeError: Assignment to constant variable.</span></code></pre><h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><p>ES6 引入了class（类），让JavaScript的面向对象编程变得更加简单和易于理解。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span>Point<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token string">'('</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ES6 的class可以看作只是一个语法糖，上面的代码用 ES6 的class改写，就是下面这样。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">'('</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h2><p>ECMAScript包含了以往模块加载库的主要功能，还添加了一些非常使用的设计，以提高ECMAScript的模块化管理功能。</p><h3 id="（1）引入模块（import）"><a href="#（1）引入模块（import）" class="headerlink" title="（1）引入模块（import）"></a>（1）引入模块（import）</h3><p>ES Module中有很多种引入模块的方法，最基本的便是import语句。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> name form <span class="token string">'module-name'</span><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> name <span class="token keyword">from</span> <span class="token string">'module-name'</span><span class="token keyword">import</span> <span class="token punctuation">{</span>member<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-name'</span><span class="token keyword">import</span> <span class="token punctuation">{</span>meber <span class="token keyword">as</span> alias<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module-name'</span><span class="token keyword">import</span> <span class="token string">'module-name'</span></code></pre><p>从模块中局部引用的接口定义一个别名，以避免指代不明或接口重名的情况出现。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>createServer <span class="token keyword">as</span> createHTTPServer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'http'</span><span class="token keyword">import</span> <span class="token punctuation">{</span>createServer <span class="token keyword">as</span> createHTTPSServer<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'https'</span></code></pre><h3 id="（2）暴露模块-export"><a href="#（2）暴露模块-export" class="headerlink" title="（2）暴露模块(export)"></a>（2）暴露模块(export)</h3><p>暴露单一接口<br>如果需要定义一个项目内的工具集模块，需要将其中定义的函数或者对象暴露到该文件所定义的模块上。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//module.js</span><span class="token keyword">export</span> <span class="token keyword">const</span> apiRoot<span class="token operator">=</span><span class="token string">'http://example.com/api'</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">foo</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//app.js</span><span class="token keyword">import</span> <span class="token punctuation">{</span>method<span class="token punctuation">,</span>foo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module.js'</span></code></pre><p>暴露模块默认接口<br>在某些时候，一个模块只需要暴露一个接口，比如需要使用模块机制定义一个只含有一个单一工具类的模块时，就没有必要让这个工具类成为该模块的一部分，而是让这个类成为这个模块。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//client.js</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Client</span><span class="token punctuation">{</span>   <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//app.js</span><span class="token keyword">import</span> Client <span class="token keyword">from</span> <span class="token string">'client.js'</span></code></pre><p>混合使用暴露接口语句<br>开发者可以为一个模块同时定义默认接口和其它命名接口。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//module.js</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span>  <span class="token class-name">Client</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span><span class="token keyword">export</span> <span class="token keyword">const</span> foo<span class="token operator">=</span><span class="token string">'bar'</span><span class="token comment" spellcheck="true">//app.js</span><span class="token keyword">import</span> Client<span class="token punctuation">,</span><span class="token punctuation">{</span>foo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'module'</span></code></pre><h2 id="延展操作符（…）"><a href="#延展操作符（…）" class="headerlink" title="延展操作符（…）"></a>延展操作符（…）</h2><p>扩展运算符（spread）是三个点（…）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//例子1</span><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> x <span class="token operator">+</span> y <span class="token operator">+</span> z<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//不使用延展操作符</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sum<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//通过 apply() 方法，您能够编写用于不同对象的方法。</span><span class="token comment" spellcheck="true">//使用延展操作符</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token operator">...</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 6</span><span class="token comment" spellcheck="true">//例子2：构造数组</span><span class="token keyword">const</span> stuendts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Jine'</span><span class="token punctuation">,</span><span class="token string">'Tom'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">const</span> persons <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Tony'</span><span class="token punctuation">,</span><span class="token operator">...</span> stuendts<span class="token punctuation">,</span><span class="token string">'Aaron'</span><span class="token punctuation">,</span><span class="token string">'Anna'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>conslog<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>persions<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// ["Tony", "Jine", "Tom", "Aaron", "Anna"]</span><span class="token comment" spellcheck="true">//例子3：数组拷贝</span><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 等同于 arr.slice()</span>arr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[1, 2, 3, 4]</span><span class="token comment" spellcheck="true">//例子4：连接多个数组</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr1<span class="token punctuation">,</span> <span class="token operator">...</span>arr2<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 将 arr2 中所有元素附加到 arr1 后面并返回</span><span class="token comment" spellcheck="true">//等同于</span><span class="token keyword">var</span> arr4 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//例子4：对象的扩展</span><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> x<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'baz'</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">13</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> clonedObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1 <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 克隆后的对象: { foo: "bar", x: 42 }</span><span class="token keyword">var</span> mergedObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj1<span class="token punctuation">,</span> <span class="token operator">...</span>obj2 <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 合并后的对象: { foo: "baz", x: 42, y: 13 }</span></code></pre><h2 id="箭头函数（-gt-）"><a href="#箭头函数（-gt-）" class="headerlink" title="箭头函数（=>）"></a>箭头函数（=&gt;）</h2><p>箭头函数，顾名思义便是使用箭头（=&gt;）进行定义的函数，属于匿名函数（Anonymous Function）一类。<br>相对于传统的function语句，箭头函数在简单函数使用中更为简洁直观。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//等同于</span><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="函数参数默认值"><a href="#函数参数默认值" class="headerlink" title="函数参数默认值"></a>函数参数默认值</h2><p>ES6支持在定义函数的时候为其设置默认值：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>height <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span></code></pre><p>不使用默认值：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> height <span class="token operator">=</span> height <span class="token operator">||</span> <span class="token number">50</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> color <span class="token operator">=</span> color <span class="token operator">||</span> <span class="token string">'red'</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//...</span><span class="token punctuation">}</span><span class="token template-string"><span class="token string">``</span></span><span class="token template-string"><span class="token string">`js## 模板字符串当我们使用普通的字符串时，会使用单引号或双引号来包裹字符串的内容，在ES2015的模板字符串中使用反勾号`</span></span>。<span class="token template-string"><span class="token string">``</span></span><span class="token template-string"><span class="token string">`jsvar name = 'Your name is ' + first + ' ' + last + '.'//使用模板字符串：var name = `</span></span>Your name is $<span class="token punctuation">{</span>first<span class="token punctuation">}</span> $<span class="token punctuation">{</span>last<span class="token punctuation">}</span><span class="token punctuation">.</span>`</code></pre><p>在ES6中通过${}就可以完成字符串的拼接，只需要将变量放在大括号之中。</p><h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p>解构赋值语法是JavaScript的一种表达式，可以方便的从数组或者对象中快速提取值赋给定义的变量。</p><h3 id="获取数组中的值"><a href="#获取数组中的值" class="headerlink" title="获取数组中的值"></a>获取数组中的值</h3><p>从数组中获取值并赋值到变量中，变量的顺序与数组中对象顺序对应。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//例1</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ES6 允许写成下面这样。</span><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//例2</span><span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>bar<span class="token punctuation">]</span><span class="token punctuation">,</span> baz<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>foo <span class="token comment" spellcheck="true">// 1</span>bar <span class="token comment" spellcheck="true">// 2</span>baz <span class="token comment" spellcheck="true">// 3</span><span class="token comment" spellcheck="true">//例3：如果你要忽略某些值，你可以按照下面的写法获取你想要的值</span><span class="token keyword">var</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span> last<span class="token punctuation">]</span> <span class="token operator">=</span> foo<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "one"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>last<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "four"</span><span class="token comment" spellcheck="true">//例4</span><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token comment" spellcheck="true">// 1</span>y <span class="token comment" spellcheck="true">// 3</span><span class="token comment" spellcheck="true">//例5：</span><span class="token keyword">let</span> <span class="token punctuation">[</span>head<span class="token punctuation">,</span> <span class="token operator">...</span>tail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>head <span class="token comment" spellcheck="true">// 1</span>tail <span class="token comment" spellcheck="true">// [2, 3, 4]</span><span class="token comment" spellcheck="true">//例6</span><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token comment" spellcheck="true">// "a"</span>y <span class="token comment" spellcheck="true">// undefined</span>z <span class="token comment" spellcheck="true">// []</span></code></pre><p>如果解构不成功，变量的值就等于undefined。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">[</span>bar<span class="token punctuation">,</span> foo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>不完全解构</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token comment" spellcheck="true">// 1</span>y <span class="token comment" spellcheck="true">// 2</span><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a <span class="token comment" spellcheck="true">// 1</span>b <span class="token comment" spellcheck="true">// 2</span>d <span class="token comment" spellcheck="true">// 4</span></code></pre><p>如果没有从数组中的获取到值，你可以为变量设置一个默认值。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span><span class="token punctuation">[</span>a<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 7</span></code></pre><p>通过解构赋值可以方便的交换两个变量的值。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1</span></code></pre><h3 id="获取对象中的值"><a href="#获取对象中的值" class="headerlink" title="获取对象中的值"></a>获取对象中的值</h3><p>解构不仅可以用于数组，还可以用于对象。</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//例子1</span><span class="token keyword">let</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>foo <span class="token comment" spellcheck="true">// "aaa"</span>bar <span class="token comment" spellcheck="true">// "bbb"</span><span class="token comment" spellcheck="true">//例子2</span><span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token punctuation">:</span><span class="token string">'Ming'</span><span class="token punctuation">,</span>  age<span class="token punctuation">:</span><span class="token string">'18'</span><span class="token punctuation">,</span>  city<span class="token punctuation">:</span><span class="token string">'Shanghai'</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city<span class="token punctuation">}</span> <span class="token operator">=</span> student<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Ming"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "18"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "Shanghai"</span></code></pre><h2 id="对象属性简写"><a href="#对象属性简写" class="headerlink" title="对象属性简写"></a>对象属性简写</h2><p>在ES6中允许我们在设置一个对象的属性的时候不指定属性名。</p><p>不使用ES6</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> name<span class="token operator">=</span><span class="token string">'Ming'</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token string">'18'</span><span class="token punctuation">,</span>city<span class="token operator">=</span><span class="token string">'Shanghai'</span><span class="token punctuation">;</span><span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span>name<span class="token punctuation">,</span>    age<span class="token punctuation">:</span>age<span class="token punctuation">,</span>    city<span class="token punctuation">:</span>city<span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//{name: "Ming", age: "18", city: "Shanghai"}</span><span class="token comment" spellcheck="true">//使用ES6</span><span class="token keyword">const</span> name<span class="token operator">=</span><span class="token string">'Ming'</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token string">'18'</span><span class="token punctuation">,</span>city<span class="token operator">=</span><span class="token string">'Shanghai'</span><span class="token punctuation">;</span><span class="token keyword">const</span> student <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>city<span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//{name: "Ming", age: "18", city: "Shanghai"}</span></code></pre><h2 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h2><p>Promise意在让异步代码变得干净和直观，让异步代码变得井然有序。<br>Promise在设计上具有原子性，即只有三种状态：等待（Pending）、成功（Fulfilled）、失败（Rejected）。在调用支持Promise的异步方法时，逻辑变得非常简单，在大规模的软件工程开发中具有良好的健壮性。</p><p>下面代码创造了一个Promise实例。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// ... some code</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token comment" spellcheck="true">/* 异步操作成功 */</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">resolve</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Promise构造函数接受一个函数作为参数，该函数的两个参数分别是resolve和reject。它们是两个函数，由 JavaScript 引擎提供，不用自己部署。</p><p>resolve函数的作用是，将Promise对象的状态从“未完成”变为“成功”（即从 pending 变为 resolved），在异步操作成功时调用，并将异步操作的结果，作为参数传递出去；reject函数的作用是，将Promise对象的状态从“未完成”变为“失败”（即从 pending 变为 rejected），在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。</p><p>下面是一个Promise对象的简单例子。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">,</span> <span class="token string">'done'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面代码中，timeout方法返回一个Promise实例，表示一段时间以后才会发生的结果。过了指定的时间（ms参数）以后，Promise实例的状态变为resolved，就会触发then方法绑定的回调函数。</p><h1 id="Es7"><a href="#Es7" class="headerlink" title="Es7"></a>Es7</h1><h2 id="求幂运算符（-）"><a href="#求幂运算符（-）" class="headerlink" title="求幂运算符（**）"></a>求幂运算符（**）</h2><p>在 ES7 中引入指数运算符 ** ，用来实现幂运算，功能与 Math.pow 相同,这个运算符是简化版的 Math.pow(x, y)。</p><pre class=" language-js"><code class="language-js"><span class="token number">5</span><span class="token operator">**</span><span class="token number">2</span> <span class="token comment" spellcheck="true">//25</span><span class="token number">3</span><span class="token operator">**</span><span class="token number">2</span> <span class="token comment" spellcheck="true">//9</span></code></pre><p>注意任何数字，包括 NaN，它的0次幂都是1。如果指数是NaN，结果总是NaN，无论底数是什么。</p><pre class=" language-js"><code class="language-js"><span class="token number">9</span><span class="token operator">**</span><span class="token number">0</span>   <span class="token comment" spellcheck="true">//1</span><span class="token number">99</span><span class="token operator">**</span><span class="token number">NaN</span>  <span class="token comment" spellcheck="true">//NaN </span></code></pre><h2 id="Array-prototype-includes-方法"><a href="#Array-prototype-includes-方法" class="headerlink" title="Array.prototype.includes()方法"></a>Array.prototype.includes()方法</h2><p>includes()作用,是查找一个值在不在数组里,若是存在则返回true,不存在返回false.</p><h3 id="1-基本用法："><a href="#1-基本用法：" class="headerlink" title="1.基本用法："></a>1.基本用法：</h3><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">// true</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">// false</span></code></pre><h3 id="2-接收俩个参数：要搜索的值和搜索的开始索引"><a href="#2-接收俩个参数：要搜索的值和搜索的开始索引" class="headerlink" title="2.接收俩个参数：要搜索的值和搜索的开始索引"></a>2.接收俩个参数：要搜索的值和搜索的开始索引</h3><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>         <span class="token comment" spellcheck="true">// true</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// true</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// false</span></code></pre><h3 id="fromIndex-参数值也可以为负数，那样从倒数第N个位置开始搜索指定的值。"><a href="#fromIndex-参数值也可以为负数，那样从倒数第N个位置开始搜索指定的值。" class="headerlink" title="fromIndex 参数值也可以为负数，那样从倒数第N个位置开始搜索指定的值。"></a>fromIndex 参数值也可以为负数，那样从倒数第N个位置开始搜索指定的值。</h3><p>[‘a’, ‘b’, ‘c’, ‘d’].includes(‘b’,-2)         // false<br>[‘a’, ‘b’, ‘c’, ‘d’].includes(‘c’, -2)      // true</p><h1 id="Es8"><a href="#Es8" class="headerlink" title="Es8"></a>Es8</h1><h2 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h2><h2 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h2><p>Object.values()方法返回一个给定对象中所有可枚举属性值的数组，值的顺序与使用</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Fred'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">87</span> <span class="token punctuation">}</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ['Fred', 87]</span></code></pre><p>返回数组的成员顺序，与属性的遍历部分介绍的排列规则一致</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">100</span> <span class="token punctuation">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation">:</span> <span class="token string">"c"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//["b", "c", "a"]</span></code></pre><p>属性名为数值的属性，是按照数值大小，从小到大遍历的，因此返回的顺序是b、c、a。</p><p>Object.values() 也适用于数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Fred'</span><span class="token punctuation">,</span> <span class="token string">'Tony'</span><span class="token punctuation">]</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>people<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ['Fred', 'Tony']</span></code></pre><h2 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h2><p>Object.entries方法返回一个数组，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键值对数组</p><p>传入对象</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> baz<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>传入数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// [['0', 1], ['1', '2'], ['2', '3']]</span></code></pre><p>传入json数组</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// [['0', 1], ['1', '2'], ['2', '3']]</span></code></pre><p>传入对象</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> baz<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>传入对象</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> baz<span class="token punctuation">:</span> <span class="token number">42</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="字符串填充（padStart-和-padEnd）"><a href="#字符串填充（padStart-和-padEnd）" class="headerlink" title="字符串填充（padStart 和 padEnd）"></a>字符串填充（padStart 和 padEnd）</h2><p>字符串填充的目的是 向字符串添加字符，使字符串达到指定的长度。ES2017引入了两个 String 方法：padStart() 和 padEnd() 。</p><p>padStart()用于头部补全，padEnd()用于尾部补全。</p><pre class=" language-js"><code class="language-js"><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"bc"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//结果:bcba</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"bc"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//结果:abcb</span></code></pre><p>如果本身长度超过补全长度,则不变化</p><pre class=" language-js"><code class="language-js"><span class="token string">'aaa'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"bc"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//结果:aaa</span><span class="token string">'aaa'</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"bc"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//结果:aaa</span></code></pre><p>如果不填写第二个补全内容参数,默认用空格补全</p><pre class=" language-js"><code class="language-js"><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//结果:' a'</span><span class="token string">'a'</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//结果:'a '</span></code></pre><h2 id="函数参数列表结尾允许逗号"><a href="#函数参数列表结尾允许逗号" class="headerlink" title="函数参数列表结尾允许逗号"></a>函数参数列表结尾允许逗号</h2><h2 id="Object-getOwnPropertyDescriptors"><a href="#Object-getOwnPropertyDescriptors" class="headerlink" title="Object.getOwnPropertyDescriptors()"></a>Object.getOwnPropertyDescriptors()</h2><h2 id="ShareArrayBuffer和Atomics对象，用于从共享内存位置读取和写入"><a href="#ShareArrayBuffer和Atomics对象，用于从共享内存位置读取和写入" class="headerlink" title="ShareArrayBuffer和Atomics对象，用于从共享内存位置读取和写入"></a>ShareArrayBuffer和Atomics对象，用于从共享内存位置读取和写入</h2>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Es6 </tag>
            
            <tag> Array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm使用介绍</title>
      <link href="2020/12244400.html"/>
      <url>2020/12244400.html</url>
      
        <content type="html"><![CDATA[<p>npm是Node官方提供的包管理工具，用于Node包的发布、传播、依赖控制。npm提供了命令行工具，使你可以方便地下载、安装、升级、删除包，也可以让你作为开发者发布并维护包。</p><h2 id="npm的安装"><a href="#npm的安装" class="headerlink" title="npm的安装"></a>npm的安装</h2><p>npm不需要单独安装。在安装Node的时候，会连带一起安装npm。通过输入 “npm -v” 来测试是否成功安装。命令如下，出现版本提示表示安装成功:</p><pre class=" language-js"><code class="language-js">npm <span class="token operator">-</span>v<span class="token number">6.14</span><span class="token punctuation">.</span><span class="token number">10</span></code></pre><h2 id="npm的更新升级"><a href="#npm的更新升级" class="headerlink" title="npm的更新升级"></a>npm的更新升级</h2><p>如果你安装的是旧版本的 npm，可以很容易得通过 npm 命令来升级，命令如下：</p><pre class=" language-js"><code class="language-js">sudo npm install npm <span class="token operator">-</span>g</code></pre><p>如果是 Window 系统使用以下命令即可：</p><pre class=" language-npm"><code class="language-npm">npm install npm -g</code></pre><h2 id="安装cnpm-淘宝镜像"><a href="#安装cnpm-淘宝镜像" class="headerlink" title="安装cnpm(淘宝镜像)"></a>安装cnpm(淘宝镜像)</h2><p>因为npm安装插件是从国外服务器下载，受网络的影响比较大，可能会出现异常,所以淘宝团队自建cnpm用此代替npmjs.org 镜像官方版本(只读)，来解决受网络异常的影响.</p><pre class=" language-npm"><code class="language-npm">npm install -g cnpm --registry=https://registry.npm.taobao.org</code></pre><p>这样就可以使用 cnpm 命令来安装模块了：</p><pre class=" language-npm"><code class="language-npm"> cnpm install [name]</code></pre><h2 id="使用-npm-命令安装模块"><a href="#使用-npm-命令安装模块" class="headerlink" title="使用 npm 命令安装模块"></a>使用 npm 命令安装模块</h2><pre class=" language-npm"><code class="language-npm">npm install module_name(模块名称)</code></pre><h2 id="npm-install-S-D-g-区别"><a href="#npm-install-S-D-g-区别" class="headerlink" title="npm install -S -D -g 区别"></a>npm install -S -D -g 区别</h2><pre class=" language-npm"><code class="language-npm">npm install module_name -S&nbsp;即&nbsp;npm install module_name --save&nbsp; 写入dependencies//dependencies 是需要发布到生产环境的npm install module_name -D&nbsp;  即&nbsp; npm install module_name --save-dev 写入devDependencies//devDependencies 里面的插件只用于开发环境，不用于生产环境npm install module_name -g 全局安装(命令行使用)npm install module_name 本地安装(将安装包放在 ./node_modules 下)</code></pre><h2 id="更新模块"><a href="#更新模块" class="headerlink" title="更新模块"></a>更新模块</h2><pre class=" language-npm"><code class="language-npm"> npm update </code></pre><h2 id="卸载模块"><a href="#卸载模块" class="headerlink" title="卸载模块"></a>卸载模块</h2><pre class=" language-npm"><code class="language-npm">npm uninstall module_name(模块名称)</code></pre><h2 id="搜索模块"><a href="#搜索模块" class="headerlink" title="搜索模块"></a>搜索模块</h2><pre class=" language-npm"><code class="language-npm"> npm search module_name(模块名称)</code></pre><h2 id="查看安装信息"><a href="#查看安装信息" class="headerlink" title="查看安装信息"></a>查看安装信息</h2><p>你可以使用以下命令来查看所有全局安装的模块：</p><pre class=" language-npm"><code class="language-npm">$ npm list -g</code></pre><p>你可以使用以下命令来查看某个全局安装的模块：</p><pre class=" language-npm"><code class="language-npm">npm list module_name(模块名称)</code></pre><h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><p>package.json 文件其实就是对项目或者模块包的描述，里面包含许多元信息。比如项目名称，项目版本，项目执行入口文件，项目贡献者等等。npm install 命令会根据这个文件下载所有依赖模块。</p><p><strong>package.json 文件创建</strong></p><pre class=" language-npm"><code class="language-npm">npm init</code></pre><p><strong>package.json 文件示例及文件配置说明</strong></p><pre class=" language-npm"><code class="language-npm">{  "name": "exchange", //项目/模块名称，长度必须小于等于214个字符，不能以"."(点)或者"_"(下划线)开头，不能包含大写字母。  "version": "0.1.0", //项目版本。  "author": "zhangsan <zhangsan@163.com>",//项目开发者，它的值是你在https://npmjs.org网站的有效账户名，遵循“账户名<邮件>”的规则，例如：zhangsan zhangsan@163.com。  "description": "第一个node.js程序",//项目描述，是一个字符串。它可以帮助人们在使用npm search时找到这个包。  "keywords":["node.js","javascript"],//项目关键字，是一个字符串数组。它可以帮助人们在使用npm search时找到这个包。  "private": true,//是否私有，设置为 true 时，npm 拒绝发布。  "bugs":{"url":"http://path/to/bug","email":"bug@example.com"},//bug 提交地址。  "contributors":[{"name":"李四","email":"lisi@example.com"}],//项目贡献者 。  "repository": { // 项目仓库地址。        "type": "git",        "url": "https://path/to/url"  },  "homepage": "http://necolas.github.io/normalize.css", //项目包的官网 URL。  "license":"MIT",// 软件授权条款，让用户知道他们的使用权利和限制。  "dependencies": { //生产环境下，项目运行所需依赖。    "react": "^16.8.6",    "react-dom": "^16.8.6", //上标号^ 向新兼容依赖    "react-router-dom": "^5.0.1",    "react-scripts": "3.0.1"  },  "devDependencies": { //开发环境下，项目所需依赖。    "browserify": "~13.0.0",    "karma-browserify": "~5.0.1" //波浪号~ 向新兼容下载最新库包  },  "scripts": {//执行 npm 脚本命令简写，比如 “start”: “react-scripts start”, 执行 npm start 就是运行 “react-scripts start”    "start": "react-scripts start",    "build": "react-scripts build",    "test": "react-scripts test",    "eject": "react-scripts eject"  },  "bin": { //内部命令对应的可执行文件的路径。  "webpack": "./bin/webpack.js"  },  "main": "lib/webpack.js", //项目默认执行文件，比如 require(‘webpack’)；就会默认加载 lib 目录下的 webpack.js 文件，如果没有设置，则默认加载项目跟目录下的 index.js 文件。  "module": "es/index.js",// 是以 ES Module(也就是 ES6)模块化方式进行加载，因为早期没有 ES6 模块化方案时，都是遵循 CommonJS 规范，而 CommonJS 规范的包是以 main 的方式表示入口文件的，为了区分就新增了 module 方式，但是 ES6 模块化方案效率更高，所以会优先查看是否有 module 字段，没有才使用 main 字段。  "eslintConfig": {//EsLint 检查文件配置，自动读取验证。    "extends": "react-app"  },  "engines" : { //项目运行的平台。    "node" : ">=0.10.3 <0.12"   },  "browserslist": { //供浏览器使用的版本列表。    "production": [      ">0.2%",      "not dead",      "not op_mini all"    ],    "development": [      "last 1 chrome version",      "last 1 firefox version",      "last 1 safari version"    ]  },  "style": [// 供浏览器使用时，样式文件所在的位置；样式文件打包工具parcelify，通过它知道样式文件的打包位置。  "./node_modules/tipso/src/tipso.css"],  "files": [ //被项目包含的文件名数组。    "lib/",    "bin/",    "buildin/",    "declarations/",    "hot/",    "web_modules/",    "schemas/",    "SECURITY.md"  ]}</code></pre><h2 id="两种标号-的解释"><a href="#两种标号-的解释" class="headerlink" title="两种标号 ^ ~的解释"></a>两种标号 ^ ~的解释</h2><p>(1)上标号^ 向新兼容依赖</p><pre class=" language-npm"><code class="language-npm">    "react": "^16.8.6"</code></pre><p>(2)波浪号~ 向新兼容下载最新库包</p><pre class=" language-npm"><code class="language-npm"> "devDependencies": { 。    "browserify": "~13.0.0",    "karma-browserify": "~5.0.1"   },</code></pre><h2 id="package-json与package-lock-json的关系"><a href="#package-json与package-lock-json的关系" class="headerlink" title="package.json与package-lock.json的关系"></a>package.json与package-lock.json的关系</h2><p>   package-lock.json是当 node_modules 或 package.json 发生变化时自动生成的文件。这个文件主要功能是确定当前安装的包的依赖，以便后续重新安装的时候生成相同的依赖，而忽略项目开发过程中有些依赖已经发生的更新。</p>]]></content>
      
      
      <categories>
          
          <category> 包管理工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教你玩转特效</title>
      <link href="2020/122243662.html"/>
      <url>2020/122243662.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-3d旋转"><a href="#1-3d旋转" class="headerlink" title="1.3d旋转"></a>1.3d旋转</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html <span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span> onselectstart<span class="token operator">=</span><span class="token string">"return false;"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>Title<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>    <span class="token operator">&lt;</span>style<span class="token operator">></span>        <span class="token operator">*</span><span class="token punctuation">{</span>            margin<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            padding<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        body <span class="token punctuation">{</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span>pink<span class="token punctuation">;</span>                    background<span class="token operator">-</span>image<span class="token punctuation">:</span><span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"https://w.wallhaven.cc/full/6k/wallhaven-6k38g7.jpg"</span><span class="token punctuation">)</span>         <span class="token punctuation">}</span>        #box<span class="token punctuation">{</span>            width<span class="token punctuation">:</span>133px<span class="token punctuation">;</span>            height<span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>            margin<span class="token punctuation">:</span> 350px auto<span class="token punctuation">;</span>            position<span class="token punctuation">:</span>relative<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/* border: 1px solid #fff; 测试用到*/</span>            transform<span class="token operator">-</span>style<span class="token punctuation">:</span>  preserve<span class="token operator">-</span>3d<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*2.transform–style属性指定嵌套元素是在三维空间中呈现。(使用此属性必须先使用transform 属性)*/</span>            <span class="token comment" spellcheck="true">/*perspective:800px;*/</span>            <span class="token comment" spellcheck="true">/*3.设置透视距离*/</span>            transform<span class="token punctuation">:</span><span class="token function">perspective</span><span class="token punctuation">(</span>800px<span class="token punctuation">)</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>15deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span>  <span class="token punctuation">;</span>                                                                                                     <span class="token punctuation">}</span>        #box img<span class="token punctuation">{</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            top<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span>            left<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            border<span class="token operator">-</span>radius<span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>            box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> 0px 0px 5px #fff<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*4.设置图片阴影*/</span>            <span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>reflect<span class="token punctuation">:</span>below 10px <span class="token operator">-</span>webkit<span class="token operator">-</span>linear<span class="token operator">-</span><span class="token function">gradient</span><span class="token punctuation">(</span>transparent<span class="token punctuation">,</span>transparent <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span><span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*方法2-webkit-box-reflect:below 8px -webkit-linear-gradient(top,rgba(0,0,0,0)40%,rgba(0,0,0,.5)100%);*/</span>            <span class="token comment" spellcheck="true">/*5.设置图片倒影:直接记住吧(3个值。1. direction 定义方向，取值包括 above 、 below 、 left 、 right。);2. offset定义反射偏移的距离;3.mask-box-image定义遮罩图像，该图像将覆盖投影区域。如果省略该参数值，则默认为无遮罩图像。*/</span>        <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"https://w.wallhaven.cc/full/95/wallhaven-95q2jx.png"</span> <span class="token operator">></span>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"https://w.wallhaven.cc/full/wy/wallhaven-wyzxvr.jpg"</span> <span class="token operator">></span>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"https://w.wallhaven.cc/full/dg/wallhaven-dgrx2l.jpg"</span> <span class="token operator">></span>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"https://w.wallhaven.cc/full/lq/wallhaven-lqw18p.jpg"</span> <span class="token operator">></span>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"https://w.wallhaven.cc/full/2e/wallhaven-2ew3yg.jpg"</span> <span class="token operator">></span>    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">"https://w.wallhaven.cc/full/ne/wallhaven-nejo6r.jpg"</span> <span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>    <span class="token comment" spellcheck="true">//     //js动态添加11个img标签</span>    <span class="token comment" spellcheck="true">//    //创建11个img标签的办法</span>    <span class="token comment" spellcheck="true">//     var box=document.getElementById('box');</span>    <span class="token comment" spellcheck="true">//     for(var i=1;i&lt;=11;i++){//有多少张图就循环多少次</span>    <span class="token comment" spellcheck="true">//    var imgs= document.createElement('img');</span>    <span class="token comment" spellcheck="true">//    imgs.setAttribute("src", "img/"+i+".jpg");</span>    <span class="token comment" spellcheck="true">//    box.appendChild(imgs);} </span>               <span class="token comment" spellcheck="true">//当页面加载完毕后再执行代码</span>               window<span class="token punctuation">.</span>onload<span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span>  <span class="token punctuation">)</span> <span class="token punctuation">{</span>                   <span class="token comment" spellcheck="true">//1.获取元素</span>                   <span class="token keyword">var</span> oWrap<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'box'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   <span class="token keyword">var</span> oImg<span class="token operator">=</span>oWrap<span class="token punctuation">.</span>children<span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">// var oImgLen=oImg.length;</span>                   <span class="token keyword">var</span> deg<span class="token operator">=</span><span class="token number">360</span><span class="token operator">/</span>oImg<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//3.每个需要旋转的度数</span>                   <span class="token comment" spellcheck="true">// 定义一个开始的度数</span>                   <span class="token keyword">var</span> roX<span class="token operator">=</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">;</span>                   <span class="token keyword">var</span> roY<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>                   <span class="token keyword">var</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x_<span class="token punctuation">,</span>y_<span class="token punctuation">,</span>xN<span class="token punctuation">,</span>yN<span class="token punctuation">,</span>time<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>                  <span class="token comment" spellcheck="true">//2.遍历所有的img标签</span>                    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>oImg<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">// oImg[i].style.cssText='transform:rotateY('+i*deg+'deg ) translateZ(350px);transition:1s'+ (oImgLen-i)*0.1 +'s;';</span>                        oImg<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'rotateY('</span><span class="token operator">+</span> i<span class="token operator">*</span>deg <span class="token operator">+</span> <span class="token string">'deg) translateZ(350px)'</span><span class="token punctuation">;</span>                        oImg<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span><span class="token string">' all 1s '</span><span class="token operator">+</span> <span class="token punctuation">(</span>oImg<span class="token punctuation">.</span>length<span class="token operator">-</span>i<span class="token number">-1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.1</span> <span class="token operator">+</span><span class="token string">'s'</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//transition:设置过渡</span>                        oImg<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ondragstart<span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span>  <span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                    <span class="token comment" spellcheck="true">//3.事件处理</span>                   document<span class="token punctuation">.</span>onmousedown<span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>                       <span class="token function">clearInterval</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>                       e<span class="token operator">=</span>e<span class="token operator">||</span>window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>                       x_<span class="token operator">=</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>                       y_<span class="token operator">=</span>e<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>                      <span class="token comment" spellcheck="true">// console.log ( "鼠标按下了" )</span>                       <span class="token keyword">this</span><span class="token punctuation">.</span>onmousemove<span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>                        e<span class="token operator">=</span>e<span class="token operator">||</span>window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//获取滚动的X和Y轴</span>                           <span class="token comment" spellcheck="true">//client:鼠标触发点相对于页面可视区域左上角距离</span>                         x<span class="token operator">=</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>                         y<span class="token operator">=</span>e<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>                           <span class="token comment" spellcheck="true">//两点之间的差值:第一次走的时候两值相等,第二次走的时候x已经更新,但x_没更新,所以两个差值就是xN;</span>                           xN<span class="token operator">=</span>x<span class="token operator">-</span>x_<span class="token punctuation">;</span>                            yN<span class="token operator">=</span>y<span class="token operator">-</span>y_<span class="token punctuation">;</span>                            <span class="token comment" spellcheck="true">//差值拼接到旋转的Y里面去</span>                           roY<span class="token operator">+</span><span class="token operator">=</span>xN<span class="token operator">*</span><span class="token number">0.2</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//水平拖影响Y轴;</span>                           roX<span class="token operator">-</span><span class="token operator">=</span>yN<span class="token operator">*</span><span class="token number">0.2</span><span class="token punctuation">;</span>                           oWrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform<span class="token operator">=</span><span class="token string">'perspective(800px) rotateX('</span><span class="token operator">+</span>roX<span class="token operator">+</span><span class="token string">'deg) rotateY('</span><span class="token operator">+</span>roY<span class="token operator">+</span><span class="token string">'deg)'</span><span class="token punctuation">;</span>                           <span class="token comment" spellcheck="true">// var oDiv =document.createElement('div');</span>                           <span class="token comment" spellcheck="true">// this.body.appendChild(oDiv);</span>                           <span class="token comment" spellcheck="true">// oDiv.style.cssText='width:5px;height:5px; background:red;position:absolute;left:'+x+"px;top:"+y+"px";这三行是测试用的</span>                           x_<span class="token operator">=</span>e<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>                           y_<span class="token operator">=</span>e<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>                       <span class="token punctuation">}</span>                       <span class="token keyword">this</span><span class="token punctuation">.</span>onmouseup<span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span>  <span class="token punctuation">)</span> <span class="token punctuation">{</span>                         <span class="token comment" spellcheck="true">//  console.log ( "鼠标抬起了" )</span>                           <span class="token keyword">this</span><span class="token punctuation">.</span>onmousemove<span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                           <span class="token comment" spellcheck="true">//设置一个定时器,实现后面惯性效果8</span>                          time<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>  <span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//无限乘以零点95它会接近0的状态</span>                        xN<span class="token operator">*</span><span class="token operator">=</span><span class="token number">0.95</span><span class="token punctuation">;</span>                        yN<span class="token operator">*</span><span class="token operator">=</span><span class="token number">0.95</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//当它小到0.1时停止计时器</span>                        <span class="token keyword">if</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>xN<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0.1</span> <span class="token operator">&amp;&amp;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>yN<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//Math.abs()是返回绝对值</span>                            <span class="token function">clearInterval</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token comment" spellcheck="true">//差值拼接到旋转的Y里面去</span>                    roY<span class="token operator">+</span><span class="token operator">=</span>xN<span class="token operator">*</span><span class="token number">0.2</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//水平拖影响Y轴;</span>                    roX<span class="token operator">-</span><span class="token operator">=</span>yN<span class="token operator">*</span><span class="token number">0.2</span><span class="token punctuation">;</span>                    oWrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform<span class="token operator">=</span><span class="token string">'perspective(800px) rotateX('</span><span class="token operator">+</span>roX<span class="token operator">+</span><span class="token string">'deg) rotateY('</span><span class="token operator">+</span>roY<span class="token operator">+</span><span class="token string">'deg)'</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>                       <span class="token punctuation">}</span>                   <span class="token punctuation">}</span>               <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p><a href="https://liang996.github.io/3d%E6%97%8B%E8%BD%AC.html">3d旋转在线预览</a></p><h2 id="樱花飘落"><a href="#樱花飘落" class="headerlink" title="樱花飘落"></a>樱花飘落</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span> onselectstart<span class="token operator">=</span><span class="token string">"return false;"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>Title<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>    <span class="token operator">&lt;</span>style<span class="token operator">></span>        <span class="token operator">*</span> <span class="token punctuation">{</span>            margin<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            padding<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        body <span class="token punctuation">{</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span> pink<span class="token punctuation">;</span>            background<span class="token operator">-</span>image<span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">"https://w.wallhaven.cc/full/k7/wallhaven-k73ryq.png"</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>        #box <span class="token punctuation">{</span>            width<span class="token punctuation">:</span> 133px<span class="token punctuation">;</span>            height<span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>            margin<span class="token punctuation">:</span> 350px auto<span class="token punctuation">;</span>            position<span class="token punctuation">:</span> relative<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/* border: 1px solid #fff; 测试用到*/</span>            transform<span class="token operator">-</span>style<span class="token punctuation">:</span> preserve<span class="token operator">-</span>3d<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*2.transform–style属性指定嵌套元素是在三维空间中呈现。(使用此属性必须先使用transform 属性)*/</span>            <span class="token comment" spellcheck="true">/*perspective:800px;*/</span>            <span class="token comment" spellcheck="true">/*3.设置透视距离*/</span>            transform<span class="token punctuation">:</span> <span class="token function">perspective</span><span class="token punctuation">(</span>800px<span class="token punctuation">)</span> <span class="token function">rotateX</span><span class="token punctuation">(</span><span class="token operator">-</span>15deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>0deg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        #box img <span class="token punctuation">{</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            left<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            border<span class="token operator">-</span>radius<span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>            box<span class="token operator">-</span>shadow<span class="token punctuation">:</span> 0px 0px 5px #fff<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*4.设置图片阴影*/</span>            <span class="token operator">-</span>webkit<span class="token operator">-</span>box<span class="token operator">-</span>reflect<span class="token punctuation">:</span> below 10px <span class="token operator">-</span>webkit<span class="token operator">-</span>linear<span class="token operator">-</span><span class="token function">gradient</span><span class="token punctuation">(</span>transparent<span class="token punctuation">,</span> transparent <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*方法2-webkit-box-reflect:below 8px -webkit-linear-gradient(top,rgba(0,0,0,0)40%,rgba(0,0,0,.5)100%);*/</span>            <span class="token comment" spellcheck="true">/*5.设置图片倒影:直接记住吧(3个值。1. direction 定义方向，取值包括 above 、 below 、 left 、 right。);2. offset定义反射偏移的距离;3.mask-box-image定义遮罩图像，该图像将覆盖投影区域。如果省略该参数值，则默认为无遮罩图像。*/</span>        <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>        <span class="token keyword">var</span> stop<span class="token punctuation">,</span> staticx<span class="token punctuation">;</span>        <span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XCpBoAAApBxJREFUeNrs/cmSI8u2LIipLnMHosnc59Z7jyxhjSg1oggn/EWO+SP8B34JhRyWCItk1at7786MBnBbWoNlZm4OOLrIvc8+t45bCjIQjibQuKuvTlUpCdva1ra2ta3zZdtHsK1tbWtbG0Bua1vb2tYGkNva1ra2tQHktra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW1rA8htbWtb29oAclvb2ta2NoDc1ra2ta0NILe1rW1tawPIbW1rW9vaAHJb29rWtjaA3Na2trWtDSC3ta1tbWsDyG1ta1vb2gByW9va1rY2gNzWtra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW0Aua1tbWtbG0Bua1vb2tY/3xr+o7+Bf/2//z/+1OfPAIgJErGbMj7M8fue+O1A7LLjcxyw+5hwZMbgQnLgKIftRsgMyYUjBYNhOn6AADiMOGDCyIQBCflwwNEdw24HHA5AzhjHJxyQwZTADLgmHJPhDRnfjo6PlPHbNOJDGZgEZsIgOAHPR/yPwxv+28MONOBghIEAiXce8LkzuAG/vRP7o+EzAcMRyNlxoJByxj4T/8su4+UgPE3A++jg5yfe/lvD73/b4eVfM17/zfE//y3h6UjsJ8f/9N8m/Of/Cnz/d0cegHES/t///Q7HHfG/+/8JT0fABGQTzIEkYMyGf/0vBh8N3/99wv/rP/1/sDs6/i//+t8DZhCATOFwzPj4/R3/MhkOmPBz/47dB+CY8LZ/w/NnQh4cu88dppSRU4abQwbQCRPhdDx/PCGbI9f7JLXbRfHpYw+n4MOkPAAUSacBmfv30f/rf+f+8m+GpyPw8Zrhl0IMAmK5KgAOWCY4Ib6r8pO+/hiV/5c/LyyVe6g8TnH5P/3f/q8bwv2zA+TfZ7HtvKbY4ScCOxCU4EaYE04hxb0hOYgEATAJTsGYkP2IQQBocAkkAGMBQcdgA47HA3aMg0cQkhmOGRhEZAMoIpdDhiREQYzXJQBDSQwygFGLdwET2/3c2luLx9fXzjhKk4hs8QTmsd2OAiHkIR4wZmFKxNMRGI7C5xPxt3+Lv+0GvL47/r/fBgBCJpAcYPwVAICbsPsE/v0VSJl49if8+/C/IEMwCIQBcCQLUBeBlOOFi4K5wanyGcgAiPEe5XSApInJsllCQkAVQNFStpTcUjoakxtNZqJIwtIx2XigpUyaG2xSdvPj9/+aPy3zoORuorKVD7OCoZfLxAUgMhegrEBYf1p8x2pYdxUKITVEXIBhewFit21bG0D+HWoQDgJwiERSAF622CFNgpsh5YypHPck4S7YEEcjQQhAsoRj/ixARHiBOVpAhsthNkCKPZwCvNvTB1Ugi7/dnpunr9mQYJjoGGWLOooVUAcDbAWV6CleN9sxJwzOeE/lczgakQ4OkzCNhBuwOwo/n+M+u4Pwsbd4dQLciJefwvR/CLDsgyWVP+SMxx0HgSCe8h7/037CwY7YY1cPeyQzwAxe3j9FeBKSwOf3p7Q7cuQ7d0oYCbPkifvDnqaULNvOhAE0c7p2ACEbTBwIjhCMYIJhAJggWICsMuQTnEdCB7m/7f6rv2XLb2781ITP6bdpSgcrgNhFhTqJChnv9eGosILijKAnCIvlxQsQbwC5AeTfM4IkACdhHtHUlBTxjYSjEYMATxHGEQyQK5GFlZ3daOWsLxgjyiphYAMVJIv9XsIC9xgHg4HIDFBzUxyM5QCUShxBYifDwYSXErlkCkmEkaAcEDFRERUKmCxA0ARMiIN5EHBIcT2JkapPgmVhShHRjZOQU5xExqPw43uNQCOqffp0iEAegDShe9Nz4DUcK6Aa9nmACLylT+ynXYlwC4CbYWLGHoTJzFxj8rTfH8ZnE14pfqP4Ctke0EBoEG0gMJLcK3J2Lx9XIrFz2kjBIhSvpx9NgI6QPgR/B/Qu6YNIo8kHTpYcU0IWcRw+NJ9HIoAjIAroTja/FhWeRIblUoGQHShSZV9J3A7bDSD/jil2xHQgiOTCNJRoToISW9rYsi2tnMZZ7ieHwSINhSJyYyBc7N8J7hmkAS7IAhgFYRRxNGFww2SOEQm5/e2IVZ3AToY3HiEMEfGWtJkIQGRJgfsIEuU1wAzKGUmEM0oHgwMYo3aWJuG4B3IidlNJlQnYFJ/JNMxvfXcUxqNw2AHjJxalgPbpuDAchePOsJsGJAz4Mb7jPx2/zyUAAPsUibbD0+v77nlwvEJ4pfEbHN9o9h20AEnoWcQe5FgvRrIU6wSjCRzNbIRAQBmug9wPcv+A9A66RR4vp7vk7hIyQTc3pckwCjo+C26atIj3r4PhalSIdSBswFeAsAEiojyjRGAgfGQ5LRBRTdjWBpB/F2ic910i9r1oHnQ1vpoml9splFSZ7XkC/AxZ7V5wCAMY4ZviEDMLgByGVEDTYSQkxyji04BnByY49khz8bBEgBkBkP9ucSBaV9+K9DRenxuQLeqC9TnqfZ3AWHJit7IBBmYgHQU8AXkE+AGYRxS5c4AufO6Ap/d4CB14+hA+98Tr74LXskWLeuNV7Y7A5154+knsfI8fw0d/WjIAw+uwG7lLT7T8QscLhb8B/AbxVcI30r6J/E7yReArpReSexhHGEeAVivEIBNrBUWYIP/UlN/o/i53wN3hzHBM5UWCJheY4cwwy0lJOEKi++dTdqUOIS80TuZwv1z3C1FhD4g1KjQ0AFyAoZWovfyhRYq/rQ0g/z4gyZq/IpXTfyYxOqJpYRGZycqODUDuYBoiNS6NmkSDKyOVWqXkAIeIIl1wd1hKyIdPjGNt1EQEeSwR5E8DkgyfzC2lriktSp1y5ylSWyqaQl2xoDaacgHI9h47gFRJ+02R0gNAAiEwABJAHuMPDpOQzcBJSBn4fDK8/MzwFK/l5V34t78ZYHMzCTWYKwXO3Qfw/h349jux0w7/y+7f4HASHEzpaWB64WivML0y41mO7yC+B0DiheR3AN9p9h3CK4QXCi8AX5H4DHJHlWoHlAMUNcl1gPs7MsiELKNzQgaZReS4rwQgR9GYmcQEV3bQkTnZu3Y05fyEI7y8rXujQs2NHdQSiUWKrH0PhoASAwgLxrfnyIiGliKjadu3tQHk32upprGtURN1O2SWRg1hU9QFkUsTptQRo/tNTCU6nKYJYzl8MoQdAJiBk8PlGC1hUmnBqEal0egZakMFbMEHu2OwrgSDIeqMQ9c3NtROdjwyW3SAWdPs2jcuzzeUjj0AmBMTiXSIDnNOhEod8rADcIiGy/ue+M/lL7oRr2+O//9/SS3qHnwZmTuF/Yfwb/9ZSJ7sv3x8p/yZlnZ7s+HVYP9C2t8A+4aBz3A8EfwO4G8k/ybhO8hvAL4B/BvEVwLfALwAeIH4VEJ2h3SE6x3SO+QfpFPQEbIRwo6uSWY7yI9AGgmMyvkIcgA50JjgHEEOFAY6Bk5INJl2BubrjRMuosI5Rdae0EmKXKcJILXHm6sBKaVF/RGurUGzAeRfC5Nexm/MgamOwCgiqADN2qgpoz4EvKS50ahJLXIKkPNlJ7uApTpYLt2Z+LvluKpZcWaN8ro8vkSVgwxHCs9eRnvK7cYAdbQ6ZAC+swSjJYIUHENJ6VVGdI5G2NEjrR5YGjXA23O82vEg/PitSzMNeH4XpgRMI8AM7HNL4xlRnWhZ9t/9D3gaNDz/H//tvzxZGp990Ctov8HSfwbtPwH2G42vAJ8B/Bbb8DfIvpN4AfgC4hniC4AR4gBglJQgOOSfdP0EPcN9kvMIMtFsiHOBEpgGAiZnYsTAiZCJTIASYANMBnmCmQmeIA12QMInjWU0oQGXz40zJEI7LFPkRMhWokKP/SoATw1UI9LUIgI9LQWBceLa1gaQf5dlAHKNwkr9Owk4lu4t5ZBx0XwgCLjXqnzbgdkQyBsaqTRqWhWfAZju5a/WbYzu+ABiStGVzgwQy2T721agdSfDkRkx+CNMc5INenRUss3znZlzJ9tLFJmc8DKuZCIwGGzKSEchjwZPMf9Yu7fjUTiOpVFTXs/uIPvb756ePmT7AwgyARgH8WV0vg6y1+T2Yjb8liz9N0rDd5l9S7TfSuT4n0H7TzT7DeQLYDsAz2B6BflMYF/qi0NpeZeOdE1bBbgTriTCYJYAGKUksv6eKCVQJiiRGkQNoCUQA+GDkBLgAwYlMg0gkkEDMAwpY0xHHc2RwZPGyVh+TwgwPI0Kc9lHSorMRdSpeZi8gqHmUiYsTlK5wLkb4WkDyA0g/6JKpJMYSif7EzO4tC5wqQVaS7GWjRqQIC1mHjG0TraBoAWo9o0aszEaNXUApetk77Ih07HDUEqkpQ1T7r9TwrtN8KlEjCxRbN+oKSMp9HJQ1eiSbI0aMUoHqZQOWDrZ2gF5IMZPlXonbJxg338XRRikJHBH4uX//P/ML0jpGbRXks8mfjOkvxntO5L9zWz4jTb8N0zpPyGlb6Q9C/YK8jst/Q3kd4A7gClCdMb+a8b5xNNNcdaB+DZuVUYFDAMcCcYBsARggDSUKsYAVyIxKvuRRESgwAhwonGQ5QGZOwAThR2TJhsxjsDgUx4+/xs7+rNpngo4AcNpJSos6fHNqLAAbE4xUuY2/+zvvKXZG0D+5SuVs/rMDomzd40ya51IcsASpEIFhJCY4HKk0qxwCKmM4sEFV4z6ZJ+Q0q7UIR1GQ9aEQYZPAs9u+BimBYbXCHIisHNDLiwTw3mjxrpO9pBxdlT27JpMRK1UMaRtk0MJOOwN40e2//SveXg62n50e/6XH3pS4p4Yni3ba5L9C2m/Uek3Mr0AfKHZNzL9C8jfMNg32PAd5DeZ/UZL30R7htmOiXvQ9rUBTVr5cNkiqPa61b3D2qwGoUhLCXII0NOoqCPumHiUcwQ0wG1E0g7EBGCMuiMGug2QBrmPzDiIHAAMoAYyJQMSpGEEh4MVNmUuJZK+cdJHhX2N8hQMLU5W2UpU2IGhuomFuRYJMKul3zWT2dYGkH/n+LFSDlm6hsJkjPGW0pCwfEo5VJthrBGb0TB5xoCumUMAaaYcjmnAYTqU7nZEmQMNDmAsqbFhnXJYj46xDMNlRM0UXce6drLFZSe7giJKpgpUiuPcyXYDhk/x+aenl5++e/7g0+j2bEzfEu03o73S+ULwBbDvNPsbLf2NKX2D2Uu5vIL2HcbfmIZvMPuGZM8wvsDsqTRFDMlIszLmwnlWc65ZtGHyGh/DS4W2lTe8zICnAe4DrKTMZgniyKwjqAGmJNcAq80YT8hIck9wGSkTUjIyRVVYKSJaJINScqTxmBNM2bwUiqUrUWFEhEolRbY5TZZhmSarn4EszRmfh9G9AGpO1kB1WxtA/l0B0k872Q5MKcI18wDI4QhMiWXULiiHaEPlbNxqz3OjRpVewplyyDQuKIf9wWU6jfQ0N2G610sQA6JRM2ruZLNUJU872T3l0MrQuiNqnUcDMsRxorl24/P/7Pv//f/ozyBeYOnV0vDNLP1Gpt9g9g3kE2ivMH6Dpd8wDL8hpW80vsLsGcZXpHJfS68kn2C2gzHBzFCH560Dxu4zmqPIOts0b2ojRLWhYdZ6IDGFj1ZzFDxF+J4S5ImUyd1gTCUFTyQTzJMcieSAXMBRiQGSyaCo/KWjp0xnPVedNk6WtcIZDE+jwqhNFhAsoFgJNW6lLpwMuYIp59Es1Kh1WxtA/r1hMvrOAZCpKNO0up/ZYgh6QTnEspONQuhgNyvMtoPPB39POWx8aUUkN1mkzo16eEI5FImxNGqoITrPIeew6GT3jZqpNmoATCUqHR1042hmuwTuTXjmgO9M9s2Mr6R9o9k3DMN3JPtOS99APsPSC82+I9lvGNJvsPQdZi+MKDHqkSk9wzjAaCyt/Dpu1MqK5Gl42803laICT0QjyvuPOcHCdnJHNGAsmjXuibJSK1WCEF1rIkE00VNoXdAgJgJJ8ZEnSoOSBiolSQNTSiYNhog+RUxrjZOzFPk0KtQ8XF6jQt+xpNlzvVGljlxPoOYqDR6169vaAPLvn2KjU7tx4DCUtFkq2++jHAIGyWFIFyiHgplFo4ZWGjVapxxS2LcBoNJDL42avQw/LEMeZYHcQX0cUGyNGpsbNZRcTjBDu72npxeMLzbaa4omyyuZvtHsN5KvoL0i2SstfUeyfynp8zONLyC/YUi/IdlvTOkVtBeQe5IDzAYYU4sEO3BbhLu12cE5bZ5BspxMvBuuNLaTT2OXKNJsmgFSIpkUnE6L35XgSKIMYoJ8IBlda5bGTulNCxpgliANMB8BO0ApUT6kbImUvX/nQgptnmOMhgxPokIZMaWICltkyXlf6zvcdMHc599PwXDLrjeA/CtX7SgndTxkYQZPLaXRYh4yaIOlxRCMGnfQUmvUNMqhA64TyqELSoKRIYsm4pPAixsOKeOpoxzWRk1QDhMmO8QsZn2Na5TDMr5EIhk5PCENL459Srvn0exvTOk7LX1jslcwvdL4Cto3pBI9WnSckdJvNLZaI81eo76YvpEstcX409FgYddUWUZXC0mcpuZhC5qINPPHu43dvFUB0FrQcxjkA+QDwSRwgJDgSjAOFEYJRzgToKF0vaPLHcdLuc4EMoE0kAOMiWZmE5MdkXiEcYTbpEXjRIz6YB4rGJ5EhZjrln1UOF/O+lEzAHtXm9wCyA0g/8pGDYqSD4r02Th1jRpFo6YBkgtMaKl4pRxmTaVRE3VHcACNsCy4hJQGTIcPjIzmjVI0ZhzCrlAOq7pPTzn0bvRo9FSkttY72RBwHIRjgo0TxidPz8PA55TshUwvNHvlkH4zS39DgF13YYhDmH2LdDkAEuQ3kC8lWnyC2UjaGKjcNVWkReS4TJuxLKrWcSl2qKD+ffeqOZ0ihs/RKI0xhOU0CKkOiUseMmcOA5noPihAb4CYKCaZDYAKmHpEvuIAs5Hyg8xGmI3GNI5HH3cfPn1KftwRXrQsaxe6jwpbp9sjyrWabnfzszqNCl2LSLQ1fFhS+cEi1t3WBpB/9+ixUuhOKYclovREpOM8OmOIiI9cUg5DG/LQmimqrBkGBFbKobyqPtY0PFg2qaMcLnDg5LhIMRY+Uw5rdAtgkNnLgUP6tOF5sv3A9C1Z+s3S8MqUXkh7jXqifceQvsMsmixM30C+wvgK8htSeiH5rTRkvpfbngAOJAmjtWix6zjXmmKNaJvAQz803wPpXFxdnrUUz9X6NewjzWXXO05UMsBGSCNcx4gUbQS0g/sEcgI5wmyEYwS1I5QV23cwTnBOJOu2PYEsINNsGvKQn96P+Zjgb//ZcprYGicBgL6MCCsl9TRF1gyGfVSo0vDRYJGKr4z/bGsDyL8kgmxipyVKi8ZGZUIE5TD4yx3l0NXogbVRQ1oLlAgid5TDFg0VdsxMOZxfR22keO2Ol0ZNTzms0dUow4GOZw9Gt4MmID35sN8d+ZxqpJjSb0zjbxxS7TTXkZzfmNJvsPQadcUWQb7C7HvUIUtaXSLGYJ90tUXyvLi4YIYQ6IByrvXqvKjGC8U2dpVilU+tpuOpfFjugJkRGuW+gyHTLUueg96ECVImmSXlKNsyI2jzU8AzXULcJmSILjED5jRNyZV3U/KXn9nfPvRBufrGyXpUWHjWJ3xqWVAR887K6A9XGz3WcbzNN7GKDSD/Qpis4rlDbdSMNX32og15QjnUFcqhO5g4n/g519tUBqPdc6TSRRuyNnJqJzsJmOgYZI1y6F1cupPhwyYgJ9t5SkTaJeNLYnrhzl4taojfYKk0VNILaS8FAF+R7BtS+h6pdNlGey2/RzptfCK5g1lapMEATnL7lQinn6w/AfhirXAeWhXw8/qZnQBph43tk6c3ewtAA4CnUqrNJF1kjujRIoRXqPqAnGBWwNK9gOZUznnRYyMdNAc9w+B0aH9E/tu/Kr+9+lEzvT5q0bk0V3yuJsRMZKTHbkXG7OQz6wGwB0V2Cj7asusNIP/SGiTqzFmk1VWlJmlGBCLP0l41XSwNnBrZWaEcsnwNHkUwGAsYJsHSCeUQYQDmcOwq5XAyTCaMLYWtaucRNO2VeKQncngelJ5pw0tKqTZXXsg5GsQwfGdKtab4DNoLkn2D2d+i3sgy5M3XEjGGlBhhTXGjfUxcDfRaCl3nWQwz0J1OVGu2mJgbTDYDXzoJx9RHp/GZN8ohu46GEZANkO9Bc8AzaBOoDMKjIMiQOKsgWPkwpIPI7ScoEi4iB5Aym5lrUt7/nqfPQZ6TJssnUWGaxSrWUmSqsLRWokSsRKGN+SRujewNIP8xVqMclpojywFAzLYF9QCt9UMWyqEVyqEtKIcxGM1JrZOd8xEp7Zp1A0lkBaPm3YBnGY6cFplnsXYwN/LZx6fvenrGwG9mwWYpIFi6z/bCxG+gvZYI8ltJoV9gfIbFSA8s7kOzVwD7Uo9LbXrbeAEI+0YLunpi1502Ow8S+yutR8MFcAo6p6csOj5YgCWWQEkQO6iLBJeXDGACmRURY+hE1u3ABDBqlrIR1A7gRNok00TDbsx+fHrD9Pbd8uGbCcLVFPmeqLAHwrO3j3Ppu21tAPn3jyJLSpQ0Uw73uQjjJoKFctgyJPcYncMsLZaYcPTphHLIpk6e5dilAdPxs1EOM4SRhiOEQdEdPaUcgjAmSwlpN5JPNvAbad9Ya4fkK0qUWBoqLzD7VmqPpRljESEanyP9DjsDGF/Aop7DhQrHEhA5lyPmkIjz9M5ippHLuqL6dPvk9xMcpDpFJMxNn/aArs6rOvJTRY2NkGigxgB8ZJBHEDuQE8Bo3AQY7kBWwAwbB3CkcZRzB+IIsylE5tNIYGfExGncPR95PE4+fRimlNF8jf6IqLCnltJLXdznz2VbG0D+3VfrZFfRB5872dGoCSOq44Jy6G2HtmLb2iiH5T5tjLu5HAo0a5TDM7DWMtjyoBymIY27RD6b2XMRh/ge9D/7RvKlpcelpkizVyS8wtIrLH2PWUeWYW97QeJrqHenl7Au6LLeKsWGrhlzFsydjuU02t9y8PviGel2e7Y1d7qm1VyILN+DV0Xuyl2y+DKlAbCR9AFmO8EngCMzR1kBQnEEeJRspDTCtFPSERk7Jkwi9nTPgE/FnWeitMPAPDqm17fJkVxTQvC0L0WF5ReufA5trLOPOisYllFPT8S027jYG0D+hRFk7UnX6mFSiOdWl8PJUjBeOINH72zXLLZoHeT2CuE8mRMMgOUJIFXKYTYVN0Ifnrh/5pBezNIrYw7xpUSKdfzmhbRvAF9h+AZLLzP9j9+Q0jekcjvtOSJIfgP4XCInsAcq8nK9se9anwAie5Ds0+/TGuXiOVdS9v6uNtcYAwwLCFbZotoeVjdyZARgpuwjyD2gieSoKB9kyjKArLBoyCHxWy5uOWZ2zEuLusSGWWB8KXSHAb4/mPBD+v27Phor9EpU2INhBULT/Bm7ET6iSfp6whmne1sbQP5lKXbTdsRMOawuh30kdY/LoVpbZ6Yc1vk+L3ax7jlYN61+WcRzRXyY8zXvxmEYnxKGV6bgPAP2EmISjHojUBkwpdGCOvQdQ93G11DcwbfClnkR8EyzZwCpAZCwmk7fcWa5L2rsgXIBnKdpNpflxh5IF4SbWUC2DlbLrEz1lNCLGmC2j06ZZkNqoa8IYhYYK3VKQTPfvmj4EIGMQax2Mnki8+5Af/7wfNj7wa14KXaZQANC74oTVgBwDBEUH9CJU8yPpUfcSg9bXubtWN0A8q9OtcNhCUlx1OXSlGlJX601VkrfCeXQgRn8aAvKIYvFgmvuZI/DALqCUUMiy/HkRgC7JxueacMrWSLASKVfCLwUEPxeosbCcLHXoqzzjU2CLH6PemM0aEjuEPqHJ5HahaLgSTFiFehqHH62eQU8yfWI8fLZa/X5iE4+7EShe+Z7awQoSF7a3oI89HRi3CdH8E8HmNs2WgYxgdrDFHOVhuICzgnME4H9IOSnT005MWvQlKYKvWWkp6j0TEPRgExdQ6ebHaMDqdIKs5rqz2nJZVsbQP7ljRp0LoFT8WcxlEaNF23Iely7Qna/iUlUvvU55TDm9RS86zRgmt6DEyNvquAC0rNsHDi8KKUXtHlG+4ZQ2SlyZEV2DGVMJwa7X1qjxkKyDAwhW6SWUu/CyuDkzZ+2y09T7AZyXZTG7raODdNG4XtBitOU+xqAXsJmXkEKzlqYsBApDqYTCShSbbMM+QSzHeWThGPpWGcQI2g70CeQR5K7YNRogjiCGgnsREwghpmVo3Fw2+0/NHFPPz7Da91QaaW7XaPJrPaTroUv9ql5Ysdu3w7UDSD/ARo1JUK00smuHO1shOXiKV2sCrIcAzsPmEI5nK5RDov9gjT7ljhE0tLTsHsysxdZegHthWTrQkcEaOHqx0inafY9utB8IdMrUv97F0HGY8e+C3yxccKVSG8BZNbV/dCJTixT7kXz5ioYnozqXIs411g4beZydu/pRTMQJcORKHVIcoK4I3UUORGYRI4gpnafUIkbFaLrE4gjYBOJUcQuuuOaSB5Ndtxljdkx/XiVW52uLN40lmd1cKtakDinIZ6CIRfSaZw52tvaAPKvadQAPeWQjqa6bRKOZhgVZl81nawmXrXmGOm01ZnFmG9slMMyDK04gIOAEY8fPA1DGp4xpG9geo5h79qd5rfSkAnQrCl2cKWDAYMuqmSpSSa+lLnIpwhh1wDn2jYsGttL5e9+5OYEKC81b26B5KXXsjA/6wbDy3fULILMolzRasZR02AEvSlAkVMBvSOAEcQYGj3sxoBahLiDFCNAsB2gwtu2oCiaRkA7unKk2j69f/rEo2T5clS4PA9xtlhozZslGHpRIs+77TjdAPIvhsnwoTEM7kgSDmVqBPKmvFNtEFpXeiYglqeZgbBu9drAqdqQlXKYM4dhGJiGZ6ThG9MQqTLw2mqIQKH/pVdCRZiWryC+weqYj9VI8VsnYPuKiJjGRbh1Jz4uDmNqCZK6kvOuNG/OQPJiyn3ltdWZSz9piplDnfBDWFUUcKwkd6cBGIE6D1l+kkeA8zbDEc49SC8d7glmR7jvC1jGdsOEzBxtlJwJ5HGCf/s3Tp9ppiGupchtTrIAYT84HgrlgO/QLBrax7YVIjeA/MtrkF0SlzyuT12jpkrg991GnVAORcDKrGOl0Dm8MWrC5RBIw2gwjmm3e0EaXsPyFKW22NLpnh/9ihpVlq513IbXIlz7isqeIZ9o3M8E8T5BXQO2C+IRutSn0QozRg8UDnUmc3b6Gshz5K6iwejEMNpAO3UuylsRMpBogHEHVaaMjgj2UDBsGj2RXpo3s8BFNHWmMvw6hdhF5XnT4XTA8tM7nvKLNCUdZyAErPiYz4IVRbNzDMk7txNBI3UfE+fHbGsDyH8YxKw87GzAmJeS/wvKoQNMbJRDVZdDz0iaxXNHFGUeF9xz2j+/7DkML7DU6IEgvoP2CvC5a768wvgbwDnt7uuLxhgIJ56RUhkI53DWjOkaKOuh2uXq7Hz1iv9oHyZWoLKV5s1a9ElejmJ5GuWrWGRrZtAUqbgFolQQrq8h1G1HsIBidKy9ux68a1dwtWdwzIXYlGH0xuUuEmmwlAFOnPLOsk37g46UT5aL9m+JCqN5M4/znEaFvTf2ormDUoPcIsgNIP8hokiiyEfkuVGTo5OtRNh0QjksNgs95dBgOGqmHNYok8k4piGNaffEIYU2YwhEvBZ/6W9zlMiQJwNLBGnfQMQ22jPIb0ypmGgFU4ZRb9xdjgZXLFV5IfVt7L5LIzxYkaY5AUlcS+d5IejklUbOaWNmQVcJ/ndhOHXacUFBdAPoBtoOVqTOqAKMjPEdZybtKPqudLOjgSMbI/G1ifQRxCgxapXhwR12ssQ4HDlOxun9VUesRYX9V2KnJwGe8LUFTw4fHJ62Ls0GkH/xuko5LC6HScCxWTkXymE5SGfKYSqUQzTKoQAmS6Ol4cnSEGM4xm8QX4uvdIkWESk2AijJ2pCxlmaTpcaYwiYhHmv7JiPUj+rwJBLkJYZMB0Z+oeh1rX64FkneYh1eUgVae23dnUktM/MEMBtkRYzYS0Rpc/rPVIRFpKRozIwkByQOoQKkncyOSBopHlWoiNHZxgjwACAFKGIs9d0MsyPkExIzpMnc9uNR+Z3KVDHOxAkrBh3rprxEN4cPOQCxgqI5VBwqt7UB5F8eQVbKocpIT4BhoRy645gGjNVfmlpoQ85DJmod61nFkUZyZ2l8YhpeYYVPXaJFNh41OhC0l07l+3uxO4gh8Jpip3AgLAerLWt8p9YHvCOFxUK/sfeROcNE/YlfxAIQT8d65hdXbW6logvpAOhBpIkRn/iubCZ8SiRlIwyjpFAYN02QTRCiW610hLiDFOmzsBMsQ17qjZhozIJN8LyL+iUUabjnQZaf35Q/XvUZNPK5BinTDIJddOjmjcpawkeYE2lKSNmQctoO0g0g//oUu8magUgufFaXQyxrQ+oyO501GaJjrXAZtKe026dhfMUwvIDptYsOq5rOa6UPkqWDDb5Eio0XgK80fgfTS5Esey2jQK+IjqytR3q4PHR9rdzYOtUn4KhL5lFdmn2JSrhIv3kHOHYAeVKTa7NYrnn+0dTKruEu2LhN85sTUeZ+UmvYBKI6pEwhS6UWaa66Pc50RY08OtlBIqSKOvnMxAndJ+T9IU3TPk+fTz7l8bgAxUVUWJg35gZza2AYF2sSaNvaAPIfDC1nl8PcXA6FUNPyNlAemKBqP9odlobJJ9sPL3sbdt8xDNFpZhn2BkrXGt/mSBKRTgNl3KfYrLINfL8Go4ZhhQDu7qJYPCJ4cDev+s7nuxXFrgnytlopz9N/aT5bEUAimHMrj7S/Ue7DaqpVO9tWJ/stIkSVOmTxD8SsQp5BTbWjXTrWRR4t5iIJTTI7AspwTlDVkfRxEHYvH3b8/PbpP//24Smz2MTaIipM2WCeELfPJYaqi6lSQyU3Js0GkP8gUWQ9GBvlMAG7Y2nUcHY5TPVYlYNIRcNHcDjHYZfM0pMNu1em4RuQvgF4IYpeIxAdaFhEiOQrYK+lKfNalL1fmSK1jm53BUd7KjJlt6PC0/usCVGcguKicX1aT7wkNtEB1K0Zx9XIdm2SWkuwXESf9W/5PPKjlaiVWvjoFM1IIIulNDGRnBRd6bEoHO1ozPI2EjQWDvskaRfzkxoBG2m+A+woaAyQ1L4qmSdhennf+TTiMOSkNFmLFNE1Ymrnmtap02MDxQ0g/wHXrMVYhFClMOwCYS54MlhxOURxOcwusKj/JIHZOI7j/gnD+NpYL80Eq7BegjIY+o1FiKIo8lR71dqMCRuEVLQcgeewL30AHO850IRVIIxSAWbb1VvqPfdEoLzyurjyuk/GgNqoUKcRWcewUJoz9Jmb3eYnuYxKCaSgH2Iq4rpTaL+HwjiJ4GQXaTQVNXJAuejdldS6EAhpcRYtRWk69fJjh/Ew6v3Fj2U4do4KEeImVUVq/QvhSclhWxtA/oURZNOGZIx5mxcwLLWtnIjxEATdefylb9SkYbd7Kt4v6SXmF/FcGDABkORzEY94otkTyKcSMbYLw02w3GbxO7CH2XBTBecRYDytPV7CO115XKvx6f5UfK0Jsxjb6cDx7KEl6gqD8Koc0qjYdQ4ovpvz+ZpOAZMQRgjPBCXWVgpV/gjn1L4PaRWhKFQKoYlMZZzLqRD0cKeihjhm+XGStOPxelTIJpnXAPehesa2NoD8O8BkjUas1CEnq6M/wpGz3L/OFBmQOKQnDOMzhCeATySfQAS4oV7nHrQnxvYKkPvycwZN4xOMzzTW+4wXI8YzrcV7osaTIfCT6FG6cL9rKfc5nK2MDHH9PRjvfOm9M4SKnWy4UM7q5mi2XI1N0/4O+lpkgrAvJkNFOBcOMxQdSQ/JTjljLAGKAcYio1Z/0ilJpEOMmiTcQU6JmJ4n5o8xu6g8fwbF5eK0KYXzkQFtEeQGkP9INci6i6aCG9mAsUnrn1AOBcidwzDuOe6foPwE8Bmw8jOiRViAJsBnEjVafAIQ95nB8gnWRZSw5wBVcE2k9zoonk6F6xzoFpHfnbJkZ2bQddDpWk59X6Tb61JcfHg/62mITlpPOaxeNdWeQZ2orrMMlQcmKhwc90ghmkshy92RKmumMGrkEySnNAEaIeygdJS0AzxHJ5zHYOxwB6RQ/Uk8DoZx0DRNzA4mXYoKtdgHefVr2dYGkH8tWrLrZBeAJBQuh4U1MzqQzEhLe9rwBOkJwhNoBfgUUWMAYWyjngtQ7su2JxBPjIhxD+Kp+FI/wdI+6HEFfR4p3J+msTrpYtwY2VlV4lmjFN5VCL0PHMmVSPNarVKlzGEsNgy589U+oRuiu94MvwofUCKdOxknJAsZNGmibFRSKP84dtGx1g7QEdIEYEdogjBJOsIVohhmpeONEQyfmx0sS8c8UVMnhHceHZ7Ul0UCmyfNBpD/eFFk7WTXRk0Rz7WgHGYL+4RkaWTa7WGpRIn2BHBPtNR5P6fZ2JWO6K7wgvfRNcUeZjuQeyQr221fHPkSfrWj2RcT9Ug4ogduuqNzdNqEIdfvwJO6JK5Ekb14BZfgR2cwbIQyN1ll0Agli3YMPRRGwpU7xHGFidKk0CuZypjPBCiLHt3qiCqPMWBuE6ESbTK3pg6UBTlhnkTfHZWnYXJPJedfqKDXRlPvrU1shoYbQP5DrUWjxkPZJxo1oTnoyTAegUMyaBjsWWnEYPui2B3gZngqPtO7th0FCAMw42K19lhA0Qpg0vaI+44Pz3vwxhjP4x/I1Vrlw6+HNyJHPlBH7SNNI5AtZrl7S9iyrbf3jT5LQBeLwK6QEsE9oMzEo2A7Vt9sY0bmBHkmkVXqklFv9OhsU2WbHJSzno0IIZkAaaDpRaY3TJ9ucNkMiMBS1acGwEmcDb62tQHkXx1BqmvUpFKHPDTKoTAl1mkSM3EH2r6lywX4iC6tZkmnWaLLmGOMNLs1ZSy61i215nOJLtOXQOgWOJ42YLQEPOlK3fIesLr4Oy6o93AdPM/ENFaA1oN2qJo+O8NeFyp9EsyptJe5SYtZRJrHXCQtABNMwLAHsoMUphDlgXtUMkXCS2fdPQDQoj2DuJQPrzPPiYF2FWEnH5h8T/rbqEOmWn/cOjBMiJ+zS/hWhNwA8h8sxe4ph+ooh3Wa91nDSKUn0BrYRW3RajpdfscTWNwEaxMm/GXKOE9cgmfNSifcL5TA7wXEe1LtVXC8kguf1h9P/bFPX9OqVezaS+f1qPEaTbKl1/PraWZZsJB2rNlA0eFkituoMEqbtccK/yk63gS0K6QpaHAieNBOZJfMm64d4YAcromQwz1LyARzKJBjAjDBUAbQ46fRxh25m3TMWT6NMMw0bJW2uWMqFh0bOG4A+Y8Jlc3EK3bQyYB9Lmf03TBEGpyekCLyK9HiC/uZxuIjQ5b7lJlHptLEKVFjzDxiX67vL36XjwDjGUPm/gNt0aC59LgL5cPrjZcr4HitVolrf6uOJ6JjzljURtrrLypFVjjZjjbqQ5TRxdo9T6RgI1xOYBI0gtgh40hpJ8dU5idHACPoY2nYjNGw0RDbWTxtNACFpWMYAe6MnF6AacoH/7Sjq8WJzfyj+alb+betDSD/gaLIGiSx2bzmcsMoJRuG6FqHx/QeQp1ZrHXIaNCgNF/M9rUpQ2tD37sKiESpTQJj0Nh+sSuzNrt4mlqfDHpLK4+/ixlza9ToCqrySgR670fApYDunKYzxnhaYDin2oTHPKOV8aRUHucRFNKYxDQAGEmNiu9lh6yJxhHwSW4jgVHCDtIx5lQ1wRXsHARoAtgXm/QJQBYwkbYbwEnK0xEfbkEuREKCgTAWWKRFOcA2gNwA8h9uFRMvX7gccnSOGNK+RHq7SKWxh7iLg0HRfY665J5QgGMZEI/HcNcAFK2bXZ+TFwGHJ3XBa3XFS2m0n9NjzqJFfaEBczNy5PUI9FdKCD0tEaUeWecdK+HFBPqsGxnzkQZZGbQxQVMZFzKBwgCkndwnShOYJtAnuU9AyjTV2ccJ0qRo0ITIBZSLj01QEUNQPsMQXW6ji/DBzJ+y54Hm7MBQRrgx9jnDNii+AeQ/VgRZlRwr5TA5cEwCmEYwBZhJT3O0aE8kS7OmMGWMzzGAXJkxFg2ZiBqfYfZEoDZnngt4jlebFOgpkV9Io3+VR32j5ngznb4FhsbHQbOfyyzAyPJcKu6SoXbGAnzsZiDLeUIxRM5kwc7xQsFh3pE2KTxpJpBOs6yoPZbh8RjnobsQoz+5FDWn+KrowfVGBjGRFkBpdHLIrwccPwb/zKlojZ7MqVrYr29rA8h/pBX5mpMYSh1yhCUbUpl3tKdCHXwGbE+zfakxPjcWTEodMNY6oz0h8Zm0+b7RvHmOOtVpGZRXE1VV0PA75hUvAKBuWbHeDZzCXfOPi0j4D4gmyeUQfN9EKr6vKCK66lPwWoP00GhsdcrUE4VSAn1PegYti8pw7MOIQxPEDCGLmMpw+B4qTRpoV8QsolZp2JE8hlsiM82OSBjT8Lwz/8xZ05QU6XUCYcUJc2NibwD5D1uDrCuJ6bc87Gcwq6wYhsJOFaGoTZiIEJ9BvsR1vlZzLsaIT+lWl851FPQXbBleAged9DUvpcXSn/8p3RMxPqrecylKvHeUqXc3NBYaYh+SYaZJ1qaNGaDcGY7NlgiiDTGwr0ziKCuRI0LlB9KR4C5Sa2RJRxA7gsX3JgbNy8B51CeNGYk7GDOGNO0nTfspTMSKTBAiDFULcv+2HZobQP4joqUIe9W4DwFbe4Y6Yy3wmSygSQT4mT0jxTaWn61RY71ARTBuYqRnNq3mIynyqUDF2u8rXtX3l2EvRJe90RTvONvwESfFC6/hEkieqpV396vU0LaN8/OEgpu6Jk83azlbnoM0KnMEfQKwD+Xx4q0tZbhCNDcEdZ3QMcCwptUMMI1tU6TXlklGqk1mI48ZyO/5cOizBj74UW1rA8i/WxSplmYPg7E0WIT9TBG0ffhP2x7GPRP3SGkP2B5WWDRmu5kxgx1phWbIXYx9cFd1rXhvSrkGDg/nYV9kwdxMq08Ebe8N0/mYoMWq4O7C0kHLKLcqkPcMG6F0h1WMvkpXuzZ15s+WHNIAZ4jhSjlSawWLxqIG2eYeiX00aJABHEuDLsNKoyaAMaLICp5mu2Q22dtxIgsNkdVJZwPIDSD/QWHSgDSkFNEfuINxT7MdaDskq6M6e7JQDYNPvWNKMzAad4TtQOwa3xqoNMT0JWB8NI3mWp2yalpWa9o7sbM1jHkZ9b4kqvGF2gdPJsd7kKzvuc5F0os1RklcC1cb5mGlES5fpbFTHW87NQ6zEcl3yB4ptWOS5xj1gaLOGJeJqKM+2CG8tUcE72AE609O7THSjsbjmIYj5Idea4PaAHIDyH/ICBI2wHahqMOSInMPS/saHbLOMtZo0orARAx+72gFOIsoBYAAV+OeKEIUD4Kh1sDxFqjpNNqcQ0498jwXwYz3RYf31BxvDoavxKsNEM/rlqTmURmvwGjFilWAF3YNZtpigNMchRYBIIMwyriDa4JppDBA5SdUZlgxgRyg8MsGkOKnxhJRhpd28HkSFD8lDQOYMBWieP06pPVG2rY2gPwLAZID0xApdNrDsGcKYIyOtdWZxT0shWdJ4pw+G4eWRofwRJ193MGwK+A43AuKvxRN9pqPq/Pj/PMaOuSvF9F4DnoXn/I0Cu4iTJKhCVlR1LumjSMUfur8pDSfRBbVAhvoGgAfBA7wAnQqP6kBYgrwU4rvWAlCApliOl2p/NUymEQrKrwGJpMmyiep6vVK2PrYG0D+dWDYFeQ1p4+WjCMtjUgWF9oA4xjgZ9XgaYQVsCMHoPwkRgL19qHwqseiCj4ATOCJOu8jlcNTJsw15syqWvgVHvYlZfJTIy3cEQF+iRXz+G1nJdhe7d0Qw9+Nb118bNgJ1KYaPWJm13hRK2/lhyInTiQYE91NNKNkCoBLpS5DiEbQQFLu1kqJhEVxWzMwtt9BDoNp+jT/OPjSqGxLsjeA/ItCxWkAfIwJm927h0iumTGlAWkYkAL0aBxBG2EcCyAmsl5HEUrFDiw83SpQgHJbjHiMxa41PRoU6FKkeEuxZxVBrmznZdsE3hzVeSCVvicNP7mdVx4X5ly87o1TGzRFeYRC4WHrZHCcMQ95irphY2nyGFLkbOBgIK2oYaQicGyAjMYKoFYiyfgJDfU+BVwHGBOGXfJ0mEArehobOG4A+ffAQi41Wi0BBziOuwQfDGkqFLUJhHGHZDukQhlkAb6oHwXgFQHccmmWoQCLKG67rT52BLhjPP7XyLVfzrhOGjN3p7+88Tt+mT5+Czx5x99r7oY1NWi+NCuCwU1jt+hEOtbl1RbMzBBPA0vKzAJ6YJrBjgXwPLaLA6VB7kOAoyLLqD+BYU7R02jD7pjH4VgkNFone1sbQP6xZS9eEK3uliGMPlnECmQkiB1SKkK3KOM5AXyo3OngU4/dyM6+AiKJuRaJrvZYQZNXmGPSdSy8Gj1ekDKTfg18O8vXuQTY6UX20mP1g+8z8YfNxPA1K9sSPXZVxw4IOxvbM+/sApSmog1ZIshqs7MAyJgcJ5hgSJJGOo6CD6XGOBY7hgG0AEFogDCQHKTSqFFr0ARARkaRICUKw8jBIHn0kTaA3ADyF6PC0+t34UBT6FeR+AM0kLQ0YEi7ovK9Y9QNd4sLuSOxn9PnqsbD9jgQI8wWAEnw60o9a3XDi8PfXALm4ml0OQLVSV5+Zs71B5y57gXpC1Yt7L+8CyB5cUeRgn0IzN40laZoRPBYeuoiAjQbP5qIaNEHuI2UDjAkRmNmiGgSg4SBYhJLFGnZICa6EsTQxJ3rltaiUiE5xAFmyDmMa7VpQm4A+WCK/Idkc4rOJeUNA0amMcAxOtBRY8S+ixR3MIvtZmNLrc0GgANrysSqB9jqlQPjerr5JrsDXGu3XRwKPwFFnYeDelS+rOLkNQXwRdj+i8C49hx1XOfK61sC64qxWKs9ls0dSBKaQdDURYroxn2slzwiYEmUQSpjOrWu6AmA0d0AJXoy0Q1uBriF900YLcDNBI/naPVLkEZzIWE6HsGNib0B5B8YFX6lIkcBYwYSaGZWO9Q90M21ImAgNLRu9HzbSNYuNUMgFYxmjWEHcQcrvtbXIqCLDZcLmo6n97klcnsRhGrNYaWux2vK4Q8yYK7dfmV+kvfc/+SxrWnTK483OmEAYz0zUjOaVnzkqUZmD7gSaR6gFl3qBJcBiapGN9HxNkZDx1TVMQxW5KJsblGrXI+fTAkKVd+tgb0BZPcG/s7voA5Q2OQYLaV5DKcAnjCC6tPkWdKs2ioUx0IBT5T2MDyXbVXt5xnEc6k73QRD3QOO9wLrCtjpUpf3KjCuRYg36H+PjOzcy0rUHRRGnYIkTmwjsBCl6BBxlkqrVUyd2EzMNxlESgrZHclAFRsuWknkQ1ySMe6D2sQJDmupenO5LVL0xGFIPljxscWfGyVsALmta2l2MgJmI20oplpVrYcBbGG+9QyEYo9gz6xKPuQLwBfAXsr9Q9ACKD419sx4vuER0NaltHuOYG7XKq+A5EMp96Wi4C997idAJ6yn7F9J17lSp23beSKHdgKcpuUMJbCsSc7fA+GWSJnkBi+D34YEZyJkmoEwle//jDnTmjRAbeiUcR8bOOwM8jAP29YGkH8JPgoY05CQdk+0IaTLtJAvewaKbmOA5p5W1Xj4VMy1omFjnJXBg01T2DYcFuhSDzZeBrbFMf4IFXAVYR8tcXwBCPkFIHs0erw3vV7ch3NTB7boSuuEU77obosnNcyz8wVb53nuQg8dGI5lznEGR2ko87ED5P32erFGPwQGmiVNPgnaypAbQP5lywDbFwHbJ0j7rimzbyl1a9hUr+syMA6OIV6BodALB7BrzLDOx50cuZcGtE/51l8uHOhO1HxQoeLB2uHN7V9t6twKaO00NT4X0uBC/af8Ts5Ne52re/cKPyUljrEdMIGNUhiRYwVQ1rlJWLGGteiEy0p3qBhzK81VH4cEunubpNrWBpB/fs2x1sRn/2VDSkEFlAojJlgysZPTQCaalaYNE2gh+wwayaCRkWUouLgvRWXKVg9jPhjp3dJxvJom8wFQvXHbvdasX603XhCiWE3L7wFldrYUXAHW03lNzEDZmuF9CHmqOVlmuCkyOtp1XKcMjKr8XHzdbShTi9NhdCPLrJkXnrhhom/1xw0g/xQoLPtVB4ZsvvJRfspAolk545ezeJjKtR29zqhJhBnLfYNeRrGMZ3B+DIJjrQKY/Bpj5o8f7tAV7NXt9NpOo7A/MJ0mb9+NvBtYr95+OrzOlQ+9NHfOt+NUBINoTyMJjIFa95i3JCGSgYrtxCyYAe5xCoV1NWUS8jKWK8BlFGgubVXIDSB/JSyctbhXgFAUvOxh6lhoMXRBErQQFKgRISsoVtCLCFFIhWdbo8WhCBeMUTdSAi0Vb5lyPz02p3Ft0Plsu9aBULeB8XrN8YKT4iPp8D3p9DVg5BfHh8g7ouprn/MMknM0WbnoPI9mibC89Fbu5Dw42g2kspyxFyk1SroNwj24CiqD6xIJYcj4k60zNoD8326KjCUYegHDyhI79XCqwNiuG81gg1TmG9l3EzH0Iz8QhmL6XpV5BoEDIzVPqCl4KbwTLFqAN470K6Hi8qYbPtdn2++tN57pg11Opx+NGB+sL/KR57p3jrSf1TxLtbl8rtNJgf57WB/SVzG/nOV2GkUHlPt8ShYgiY3DqFhF7LFPe+IOwxA6P0cD8nFLszeAvJYir0eFqiUbroBff8x3B5PIJmYwZJjYgGyUOHKuPRZJMo6k1WHwrkPJgf2wONBJoDVhitvptc4P8NU5yNUBcF4AO8xNilMwuUgb5IoSz+m2B6M6PQBsuNF3+cqUEU8+5C+m6GcBec+o0QnALd/n7DfLk+InSRpNDkIl3fYyLG5R1yYH2n4H7HdhR7utDSAjQ12PCtu5+VJUuJDbZwFPzqDYgSMgmhfmy6z8XJkzvTx+6jrTPasmGjhWbouIMYEYCKujGnb3kXcPg+ZWqtiGn3GiIM4rEavujE7u6SzrHHAeALaH8O+ujjgvn4luTBEsyjenJ63ZZpYldSak+GmVHWOxzRHy5aDRRLkZVIbHi2aajISMoUOJMmAOg5HcDxS5dbE3gIx1HJcp8mlxmheiQnRAqH57N6ZBAKmoSJvLQvCspdKJxjTLWC3GdEpUiQSL+iNtTqeL1NUQ4MiQ14/n5FVQPEv3tLR17g/GPqpbOYjPUsirh5TuRCWtp6fXRn7uif5Wosi7qYRfHiBf4VaudbYXpmOYudv9/qTF37NyojR6EG+KmTUZ0kAsjyNoRnoR5ymm1yajF+YNW/sw6pIpmaaJG9dwA8h5t+VJinwSlaxFhOJJSFBEpM0FK/oDptn8aKKQHBYAaKns5DHH2BTBm0J4iRyt/R56joWvzSJYYZzT686p8CwK5LVj90KD4ZKd66Vo8lFfmVtAdJVeyMfCwXsbMw9NJz0CIPfRLBdNlr5hc16LtK4OWZy2C32QNBiIXFzDWFNoI1yRSjsMFg1Bqj4WRiKBljrtoW1tANkD5bWocN7RKcA8GomnQMgTycIWLAikONCsT5lDXKLWGFvKXRR4qPn2XsgCqhYLJaLkWNRZ/rjT/urICW/PP+pe2s0VsLiHT303mF3zkuHjdcIvf8KXBukxa1+e1mD7z9JOuYow0AymBIGwAoSOUPThDHwwhTQakYSSkgtGIUGWGIrk/aiZxQGwoeQGkADyMNxMkXsgbNRZ4YxxIK6DTXIlkDtBA6WhjeXM4DgCGJt0mTQuQJClo92zZsCui91Jml0DKd4ZMX7l2OdKREqe1wm/0rj4EhXxzsfoDpDmpajwkVoq7wRPXa5Hxv5pkKWoM2IeFu91Ho0JXsbGWHxoiKo8Ps/gAjXKjG2EGcyU86Z5tgFkLLdo+FEFDNEBoS5HhdeODXV1S/OJgAXIteaMauQ3G2+BdXsFvXkUqHa40XFv5/pjHBiXAO6s06uLL5h9HXIBdDitgy2FFewKcNyTxv5BPOqz90RexMA/Bowvdfj5hcc/9Ak08kDQCWmwwqxRFwkGOLL9nEE0tVTd0bTtY04SxLSN+WwAWdbT8Twq7Hdd8fZxeP1go4E2AJYgjFKbf0yd5mPqQHFu0MxjPgvQnB/TUnTe9QJ1JeO7dbgu5pD14AdxAzOkP/6AvJZeX3xdj6TVp/Oc94Kj7svAL/9ZFuZURH8qHOsZFFmHvsvJrvpWnEvhVtXezuZVBhzp3AByA8go7+jBqPCBIEcAYSmBqZgkoShCl2gxmi61ez2Uxk0vPNHVK2v90cYSPVbHwvRYoKIl6i/k9blus3Dtg5BWZiVX/rBuRGePguRaNLvaqeb1RtXNCPfRbvUDe8c1kY+T5vb8aTbB21rADAa2Y/4ioxvOLpVe/7wXX3yVIaLlTTN3A8gvR4VXoKAOkTvisiMY9aLqIseRxgp01dq1gKLNzZdeJTy8sUvE2SLHoUuV+Hj6ttJ51pXHPDIzeZaW4yaQPYota4rjIq+PJf5qTfOPqH8uPi9bfkDsPzeenzSk5dxEhIg1mmQbEq9CAIboXMeJKWYd1aXntTZZapJSMYkQaLOq77b+2QHyUTCsd6+kLqEMl+O81O6CJXBUrTHS0gx0HNFqiJyFTsnOxlPWakPzdjuPDPRARrfWkOHSJfAMYO7kG6/1Gppg7B0D6GvVQi6UkC5yp+8Gx2sR62ogrMeemFfS7TUOum7UPU6mCBimg31qXT4dUqYY41EXPc71x46euGDicI5LCZqBoHKeNnTbAPL+qFAnoLh22NTj2CTICIrE1DyNizhplSsDQJiExFm6qqn7FJv5viBfo0VbKPl8hRN3j0DFPbKNq7YC10B2BZTWbBZOwfFugDulOGKdHdlTIi+Bl+6oT34Jmb9Yt7l8X56dmYoMRciZuYAOMpuquc+WOL04iMXsubtv6LYB5BIHBCBzmSpfih+s7VMsx7Ha9O5hHLH7PMIMJlZA88Q4PacuEizyZEyFDdFGNQTYkqfdUqOTbXdENLoNkjc72NeA9e763BdrjJcaLpcYPmtR4d0iu3du/MPTdD12xz7gLkXI9rpcVRCX89kr2DSEF7k5XiiJOpMl2++f8wZvG0DiwPuiwqYt1YFhm4sIBYD2oB/jC/afR+Pk0b1m6DRKlbFQ5xlhbGl3qz+WGqSlpbshRzCUxFl52v1efrXWt5L7drOLPB3z+VLEswaouCNqvAaMV8DxV0aD+IvRIHm5pnpt21dwUme/Fi72EiVrs3px0psp3IRbFH1IwJqlrOYsoLowpqZfsa0NIJG7E2kfFTatUVRAzFHJlhpAzjvtfDCYVIWaDY4EFukyVNWdWaWH4A7V55rdIDg4kph9sVGvY8fZ7XBYrQmsAcDpAX1Bv1H3pOE9uko3gOYXOtO883638OxeaiAfiHLXOvlfiW4vPXYxd7oMgVnGcjo6Q1ghigyd8bIne7FwDXL36Q67/GvdmE8VDMKWYm8ACQCJpylyiQyltl/VfUtLg86L2LH/PNBypQpyrBauNNsBCN8Zsxn8gF340mBPYA8rBlzEvt2/XcceAay8O51ezEKuN1x0K6I5HeW5ysZZYc18RYX7RmPmLNW8P2e+oXN2B1heGsDnF+rBa6UA6kQhafESy47JdTk6dc2Y5rsQE0FyoRfJbT/bexDhkvKWYW8ACWDHY4sKy+n0fjA8jagAOA1Pb5+jkPYweyqgtouLdqAVUNSumHPtYWHa1UWHBTzbTGQqqfUsiXb+p3EzT66jPLpR/bo1C4k7WTtfSalv1R1X73sniN2FXbz/5hO5u19aC7C7cPJZloytT3xQxyCFogXZCeqqbicj2jx5N2xpE2snG1sXewPISIn95NDnHQWibla3tmbUthHwofKrq64j4/cdemZMa7hYKIWH7Fk1dK/d6jR3wUHQbrdpz7rJt7UJL+LqqljFhbGgPxg077ZD+EPAsRmAX3+AVj7TSxMBX0fL5d9YNsy4SAeqsk+Z/xG7HZlGmLMIWbCNCVVVn8rL6XdgiUyJrfa0rX9ugLwnKqyKugsgXMPMODCsqPDOIraVI1tNucjEBnizswhqx7tuJQkjgyXGfrznygtYi8wYrnUV1E4aCGemh6fNnUuKPmu/X/0cb0WCvI1n/IWvc7XWqMdS6z9zXfp8z8evoj8YquBVAr9IniHEcOmEifQQk2qRI0m6OH/tZKMq1hkgS3bUBpAbQK4dOeJ5VHjxroxR7sL+EoHkIkWr6Uox5uIcAVZV6AKYpBGsoz7N9rUOlbPnZkc0ao+hRnnRlRxxqi94r+nUQxHiHSn4nZj5kMTZ3f7W/PPB8F7q5EWlcb/6RkPbWTXUbj41JZCs8va92s/SETMAc75NRUKNSjAzsw0gN4AEil8WT/jJK5hZTszhT3MlvpEPQNsxh9nUvamGJ4KpU+cJebPmca2hVwwXMYRgbk3NT10L7ykJ4Ob4SK1irT7naqNGjxUF76xD8lfS1EugxDsB/HbH506Au6d+eSGj5ok82pmKSnUshAXf2sIopPqlCwZ4YV3V7QrFHyBhJiWksu/V/bPN6BJIiXMLfFv/zBGk22pUWCNC8Xqoo05SyzwTk1LImFnQC10JVpwIyQHSKGKg2PxoNDsczp1vFWEKYWw+NPPA+OMBcg9w0nWsWHMrvGrt+ovRxq1o6+8WzDyozMNTEMPFsaKeP64awbMpRMzbVofyT9TGVeTJWKiq3tLrsAaGJdDjpAwZScqQiklXCnJse5FF+kzsMpxC5trWPz1AeloqiF88dDh7setCWsmMZMIoFFuEohAuYmR0pkvDxsIywZpi+FjmHMcmacbF3GQ19Upf1hpcUwk/w6EiknVmWK91Tve90dZpFHTP4PZXx2UeCvluhXRrz3+RmnM9Ib7y++WXd6kmiSpO0UWDpc7YG7abAgtZOoq0SN2tRJ3ejQN1zSe5/lCB+g0g/0MHkHYeFTb/64f8i5ico2wItR40t8KRVbexeV1rDMmz4o+96GxjBsTwu65GX8MsWVP3ZrsJemcH1+nBfNKNXoBk+1M8twZYmkrcD9r3sGp+ZWD8y3NB9848Pj46JF0GHOmKZ40uRKuVPCNCQYid3dfqV7XouGmefGDYxrJeiRfnZUaoDEIKWZuazwaQAGRcgOJXFiWkyQdkjS2VXgjhdhcV/nWzcsWsCr6sVyY2znb5yXs7rTeYHbr1qD461B0NnBuva9EMwtd1H/jAjOKXc3R+3ZPrSpAprZ1QrnwYZ/Jz5xlAU7qdwbDTV5EroNJBeCGUFnkBOtpj58fEdUqkMnxDyA0gC0A+CIarx9Qhl0J4a7DM4MYGfkvAi/GfVFKg0rjp71drRqj374I3XbVhvr3tRm2xDZX/icfJWnPmq6K6X8mwLz7HtRT8yoe+ep7glRrnLbDvgHQ5dtPoL6IVcJMHJs5A18bIPdKOyLBNwYf1yBZK7LiY9fKA0G1tAPkYEK6AjaQoZwtUdqNZmVMMYCRP/ENYZcpi7ILhIpfa0DiUoBjtERkD5EAq3iI3lLmvHP2L8Z4HdB1PZ/CEO8ED66rdX60xfukxl17PtaBXD551eAEd/6D5yiage8auEYxOD8LgLGWG6heLMuRaxAHiu6dFbAkxvA1rfbkSyIwCo7W9rQ0gr4Ph6X4uzYopXUOYkBmQZEWZp3aohehYg0Mx6Jq71IV6qHAzLE0dVvrhrt2XqmwcnqdmvP6ia71SVw74K6r/NzFHVw78O2uHD2XFd4/x3F95uIbv94ejK9+Fvo6JF6PJWXNzKT61vNYjnpbbOz4tIYii0ZVLHRJFCy2I2FsMuQHkBXAsALgAwwXIsDPOJDD5oBCcGKHCsxYHUDGmEw2bHRoQYoxokWnuWvdpOVhqk0Nzp2slpu6o46zAcl/080gKvlK7/MU0+tJLeIhSeEkJ/I8Aopugtian/EAn/JGywZlljU7UfSpItp99XdEhOUOYJzTGQcHhkBykg/BIyymaMkSX3CHP0M2hjm3900SQfh4VLk++TWm5sGYsrrNofrvMjrl4zqgyYJoPMecmTKUZ2syWQSKZYDSYRb3RYqCcjVVTa5RXOrvU3Zh4KVLUtcaO/mDQ6UDhvDFzi5r4R7sfXgLGW2NMt8YGTk5e7GuJuuN0sVbWaFe8NVoIDyJpAT15Ab8KkswQPBo0AY4MSy8XrQBmbexQ8vi52XZtABm73NSFhyWLlYWoaBsaZ9fpLjtq7f2Zy5jdJBqNQ6EEhgCFWYBfAGKwaKzUG60waqqALjqmDdmeo/jXnKo3rId7l2qEPHEt/DNt4R8Yy7kYOf4ZPtlr970YMfL8hgVWfkWk4/og+fl31mcK3UmbnKNHwaFIjVnEywCbz/i19lhri8FOjG3mdQBIceYPnxBCFElY2tBtA0hAA5dRYZWw73ZslsEIkxfR3Dk1H4/ZPCPNEV9REDdLsOJIWMd2mnpPsX61JmjRHAvZ0xKtWTA8UFC748B9NG3mFzLIlVnGi6rgizHDP7E9cFfPhdcdHk8/mBrxrvgG19nHanFwxqY5+6iW85Y6He5fUnYCAJtu5On303X01LFkmoFXgceS6TSHQ0shZDEMG7ptAAnk3XBWj6Q7rIBgD4YrxwddiLTainyZMQFWALPUGclEa4yH1HnP9I6GBhYvGslmjZ8yyc47wFEXNuoLNcVrA8w3QeNPSodvFjEfuvH6+76HT306m7j4CHgGlGvguZpWN5nGc0AlyXK9eln3dq48uZw6Gp46YgZQxnhQsfqSYJTn6c/MMzaA/I+yzL2BYAXEi4d+BUvNdi4MSleCGZGSlf26SpOxjfbADLQibmZF4ac4fs3PVpV/ak5vV6zfrwDjg/7WX6kl6ko6eepw2PHVV7FngREX5NOuzUBeba58QXziUvR8IRXnH6L9+Gi9YAmG0upkeedSLM0/1f+eQTgc0bmWe9bkRz9s4LgBJDBMvgqEqNFjtzuKgFI0ZzwRzMJwFGXNuJ3hXMim5QgjaVX+DAajFVwttcnZxpWzrWvXwb5w1FxNlS+RrU9mGr0eSbrjWDxt2PDOKOtGtHaNYXPL+6XXS7yKhV+YublBtebf2dRqEXESKjaGcSEcKqZJUgE9eeEhZoV2Wq6/g20UPDMaOJqfR06XzLZJyA0g16LCCoala+1V79FWSnBGkyE1KalZt7E2WWIQPDKZ2qFOMzCWbjaaDuRyW7BoLqerp34li1rUyTykLoAkihL12X1XuqlnSHEqvou7vF5KRe48FD0zqlrDuC+6BT4KiLgs/vvXCjm0dnjpSiNDyCRdXoASZZyn3E5Et1qUR+OGFUgFg+hwGRyCi5JMGLYmzQaQsbsJSCFt5la71idgWDvWJSmJpo2DjgTHrBzulWddtqnxsZv4RPzUiFD8GcLQCyOBHVS8a6CxGHqlS+DYWXqeBHo9YPIc4NZEc9GJVKxg4GVOMK9ni8Kyr3B3VFnPUmvOgCcozF8MY3mlhoq/Nmq88AF5ix5Jh6uY0eCEl12iwlJX1GJESJWTXW5D7YoLDplxS683gIw1PdnZuRmO0qRpu9GZcTZJ45SHxpqpA+DCDqoApzDoUpEuqw6Gdai8SpyRO5jV7btuqJxtwucKW0+6lnrzel2yA7MFSN6Vyt9Rs1yJKolbKuG8An4XwPFXxn0Wf/NaevsPkvOwgOL8ZblqxNgAsESKrdZYLl6hsNYiG4hW+HRgA8gNIMuyTt+kgeGlslV/3TXAa8SHoA5WjUez6kg4CtzNWpDYlVnHIYCzsmwwRByLENlVEca90qOYfy8Ubd0ztHwFxNaz4a+B4yob8E7zrlVWyVdMsW4p5VyLcpdpfnzW1040f2cAVQXBGk0uBI57hk2fKFVQVJ8WqEalNS1nliH9uSIlG0D+BwLIw4V9fKV7qTIjScDsU4OEwrFuQrdBIZRi7AelPknFthiwTC0F78cupNLcOTHl6pBxrWcxzwI/AGjSdcuFtZrlnRxo4lFJssvAdFY6uPakq32Yex0KT3FVN17jX5thY71bXSPFHiAdkAvKi/ucAmywbkJ6xSUdPzd03ADyQgbaWS+0znWvE0GAWUxZqUmYVfMttmZNdZAraj5tdIctWLE2lF7+ryOPDYV5T6S0ihu6JFfzgHzZmar4bYxo9gFNE4G3Azud1DfuPTRPRojuxq4HS5ZcZcTcW9/kymvm+kjT/ZWLXtOxASJJV4seC2smrCyjBVc711oAqkhIEEhTONeEqt7GpNkAcg4+yNnW+oa5VN3FZXUEh8V/2KqBfMhH22JbBURidjhsQEhyHuSdx35mhmFpTlzPovs0esXLpAeUX6UbCqtU5dP65UWgXO1IzyW2i5YHa6B4ExzvFLa45Fe2qgauO2qla5kIV/je95zxzj6HCoTxzITgJbKMlGJu2BTAZFE4mzUi6/6nOssbFgyWaC/fsXGxN4AEAORhvTOpAmxVtb6Zc5FIx0N/pHGOJGcv64UWZBGdYGXNWFUUX3Cwa0pe+dxnB+Tj/RLhTyNDXO35PKD/eM94zb12rldT+A7R7xkf5Z0fwrXONtd8ePQ1YDx/iVzJCrrh8YrGoRYpNJvXer/Um71LKrNsAty3GuQGkCtgeGLepc6wqqMsIOUc9UMVIy0plfQ6LFzFkVzImI0hfMulCVf1p0Hrco/F9vVB58Lbhlz3HXwnXexbPlX31h5PRR74SO6LFVWha6LAN/723X+aVyLHa4B/h7/u2gd699mvKegu+dWz2+HyzlqJn7VA1tK1DkVy5UnyjI1luAFkiSCHhZxir+NiVcG+bScsHxOFQUxhzmWMBg05NqtXY2ynjZ1d6wD2ornVpIvVqKuyZ9KXHP1upmZ/wD5/BShVHOlPr68Cxa2Gyj0WOLwRYd4Lwv0A/NX0erVDhou2C3fVQ0+sFO4CyVY+7LQgq9CtuvGdnlqIbvynXTKADMil+AnPDmaBxy3F3gByXuatldzA8HTyo2mgOA2OAMcqU2YYGghajR41G3KxRpJVvWc25wqFn6oPaamfRr7lVKC7rBF+ATR1AZUu1etuiWjw2vNfaQRdA527mjT3AKge17ZY6+4/7AqxpkPKi1+I1M0uFoADCl2QhU4YIz25aD2WrjVDIDfmHHOhFQqkk3A4Y5Yynn9bG0DGGl0LMKwsOy/FbHG+mDuHrEEqijxmiUXDMWiEmPUeOdcbuRDJpVWNSLYOeDP3Cmner568V0HyJDzWSqSyBpT3AOwvWRXgPGy/9MRnKTrP8/9HP7Rbc673ft6/XN956ENXAFvpYFfuC+BBNSwjO0AuXe4MZ24CFV7AUl0nXLEKrDozvXIUtrUBJICiNlophuyzHi2yGicBVxOZYDRkAtwC9NhGdyoQVlfCyr+e5x+LU6FCO7JSEzmrq50yZVaZMxfrdHfWLO+OLrl+261ZSF5Lp7+wbS3l5bUX9PUD/SKD5lpK/+hJozfbuvn9UXFqK5FhAFzhxhRlcK/pNWfjrn4+cp4pnS0aamqefaXTvq1/aoCcxhUwRG3YpKYs7pbw/O9vJkcqQ91prh0yNdtWIYGyMjgeArhAgntEmVbuAyWhCO2q528vpHqv49rdncYb4HnLoEuXcYf4RRvWR2urWukc64Fojn/Sa730XGs1kdNm0lod9MJ3q8aG6QAOHVGQlYKoZYtG1air/ITUWjas/pwSubVnNoA83elood5DK9dt7mq3QmVEj8xuIge4AhSNEQUCBlNv1Tor/Aizko8asNaa5BD1TMRjtHKQ3Eu/u1cX8lqAtsrHvvYUus2e+fIXc6mm6RdA8o/A5Dv9cPilJ7+vPnHxxNc1XNTnNn2jpt5NfnZ78bDpeKnqTbw8IeeKrAReN3zbAPK4f17OPCJGeSw7UnaknJGmHDHl5ElQbbQEGNbmTHSyB6KCXlwEVMAs9ymKPlG/HNs8pJgekoshz4Vp7wHD01T8zwgX/ki8PIu0LoS1d81T/kGvlV8BxItpwFKeTteUiWs6XJ5IRf9xaQMroNYdUW+fa44sgOheFYEESSSzAGXiLo3mbf0TRZBpygGIU0bKcd2yN53IMh9JuEZZkSkjB0ZKPDQPmRi+XUaJqBJo9fZmuVAFKazjZl8cX1mrP9JOJc/0ZcDTFx94V/T4q0fbaf2SvAGOXwPGu2qOvFAGeMhojJdnO9ttJyZfVTGcFOSzOk/cEh1rMFwN4wWFhSuQQTojN3e4qud1GfOBE8hyd/Pso4JUswHkBpAAgO//9XfQQ0GqORcWwdxc0m2RGPKUMJWxHfWeMq12WFJpW6TXxblw3lYEdTtzruZbczP6wGXxmzYhYl1StSaa+1X5skejPq78fknz4dG5x7UH6aSW92DOzWszVbzzS3gkqlwTO16tvS46hl2HujZelAlkkRnS1EZ9oAyyiudOAiZIE8AM+YT4/SjpCPcJ0zTR5WmDxg0gT5enqEF6cTaUnbFqOExT1BFDFDeRNszq4JzBLrrSQwd6qabfkUJzjjgDHOuw+Fm4yFu83e7IimboykjPpZy1YUh5vPqaol2sNfaRJq8XJ5cv/StjRLhQsjtr62NF8fw+pfObUeMtcPy1guf8Xio/+vR9zL8L0gQhLsAE6AjgWMEO0BHSJ6BPCAdIB7gfJB0W24RPAAep3N/9U56Pmw7kBpBn6/N5V8Z6Ouvp6iBXJiaSaMhIcnXWrR0DRphTbHbWC5I1a9e5822ts02VIfGiAHTxOOSN/PESV/tC6NYrj2vpvXzRAqcDR+JP8q2+67n460/+iGXtrzZ/bllE9Ldbdz+enJ0CAD/ni39C+IR0EPAZQKcDgOMMhDoIOEA6QjjGNi9A6cfYrsmPH0cKXns3y5Lmtv7pI0ieNv1avhoTteMEQ5ZBSOGuXmYbGyMmhCoC+MxiqpJW9Mti7CfMvGqqXeXMbP6dC/y6HwC0PPZ0MvG+Kvx4uwN+Sh3s7yNqFThXwXM1urtEmH5Ad5G8DwH5YFr95b955+23yhur340yoINchwKUBziOkI4Cjg0AI4KcCosmrkeEeQQ0xQUZqCm3H5F9gmtyuf6hdC83gPxHya+nJdB0sSSL6i2nCXKVKI8sAtPs6ooGyESLMdvCnAn716Z3ZiFs1plzwdgcEBe7Ja8Firfz1DVRh0td7K6Lekmu7OxPLWjTN1Ju3vGaz6hM/ZnrEhCtjUDdoP3xVs1xBVx5AzBugaIe9ONZ/biUpVJDjPQ6n4BhLtzqqQDjcVl3RI0gSyqOCcIBjklTPiq7B3izjKJzyRHf1j93BBm7fyphXS/qbaBPpI6mascKVS51ifysPICh6GOFXNhRChu1cGbYVMphUBOvna7/iP1UuANwq9/TnxlFXJqvXKM96vbnwQs58BprZzERsMK86V8L+cd+Cfc2xtbv5129sUSBOqIBZr1eAbBFluU6Jni77xTCFIhmDe0IV+Y06E8tjWwA+R/5DewaLC4Py6IFQBBmiUkGs6glwlIBvQRjpNxxfYDZwFJr7JoxVawilH5Y1H/QzL7srvTwLBOdN8z9in7kh3MkpjVgPBe3OB8Uv8D+uLc+95UaHq+lsHdIgvfOiLiXOscLAPzFyLHVFXnh9fFyTXK5vUSGNRrUsVi7TiLL9ZY+RxcbFp1qVb9sOMQM2kQoKyLO2gnPs5Yf54SHG0JuAAmUjq1m/v6CgABQMMgGmIZIk+sMYxhxhVgFxhn0GLeBxaWQI2A7Ll0NRwgjDDuBA8+Q5AaqrPKku0ZNa750Q8jU8qkXIz9d46YdLbqetp4Fg3/Pxs2tz+ce1L6Rkv8KdfHa/fq51btAUiWCRIztCA4pg3AKLiKAkJyNtyr4sSn/eB0sb4o9ksuzABN3dr1EvK1/4hRbhw4QV+gYk3bhXsgKbvsW+Tl2gu9oFo6FYe+6EzAGS6YAIYsd7GzutWuD5JLNDgR6DGS0fgTyNMjsGzYtEjw14ekroBfGxq+U+/5UyuEquGkh6r4uxssruHnFW/tekYq7rWk4s/vOhgp4rbutEiF2M5DwOuuodjZvdciq8uMtNZcyXBOEEjnWGiYmuB/L/TZg3ADynmii832lwImGSaEEHkA3NPdCFf40rQJgGfvRQHIsjJo2ChSUQwxFQbyojyOtkwt5O5o5HwX5wwqUuizLvdJE4e0I8tLg+MMv9RI3vYt8r7m96s/1uOYVcA2QrDXOcu/bMk25gV/Vd4wGTC51xwx5BceoOTqOqg0cV03LJ6l0wFVS8ZyPcB1Xm39bdr0B5LwzOLBmMwAQ8koJ7PjVTSh3gCGxCU8ggRqIVBV+hqb4Y8WPJlg0s1iunU5kn5hA8cGj80QBTCHPdn6nvra2oMmpzULqFBG1gjx6QBrrHpB8uD/EyyDOL6TYpzXCO6LHBeDeaMbEzY+MXilDiFGeiPxqB/ooV5lrxBHAAW1YHLEtRoLiAh2IyprBAfADPB9KpLkB4gaQ144xLVTsZ784gblZI6SZBYNZARyc5x2jITOL387zjbNj4Rny8TKN95Fh5j6i7A5A1oSbV+TOzM6HxtdA5M+wbBBuj0BeVde5p9N9y5EQWHSuLzFneB4RXkHBGyB5T8hfZhmhI6WD6vA3yhwkcADL8HcbDkdcJw4ga9c7AJM8wOwT1AHOg1zThowbQN4+Zo9+pmxTsILR3yMQBl02k51bRmkhhCJBFBT+muxTvarAZ12bmTBoFsa9O4q5lXp2L77ZxBKPmRt2jBpdYuA8gOSr7JtLwPhQLru2gV3aryvnlNPz1Bci9lvfw33FyUv1R5V5x0MBwwnEAWAZCMeR0FHAAeBnA8w6FK4aXepQR4BU0233I7IfQ/FnWxtA3lrela8SIYtJR5tITAC85pHNpIlN1eLU0zqGOsKooabS89xk6lR76vULGKjHQfJXapEXvLLnuchr4eMXClhflR27aMTFk4hSq0pIt/8Q74oeH4rsV0C0Rp/qJwn6OmTImB1r9Cfw2FEDD5COoo7I/Sxk/BS81h5z2+YFGKUM9ymix21tAHnHmp5tNtEsO6iMGKaWFs8WCbX2uFDgYQKtn28cFiZdYacwLoBxlkI7H3r80qjJuhdNSP2t1yhX5yEbuGAxF4k+ab/kRHiFw/046OHBjrG+9rn17+dGzZH8ol/3F3fLuaGiaKaoRoCaShMmQBMdtXBmzFQ+dtQdm6iFPkE/gnRcqoX+qUKhG0D+x0uxGxIYNBAaEmzK4O/HBC+qPNXHGp3mo5V65Oxa2AlVWCqPi+ZObdY0cV2kk+r+18HxztrX5XR6pTOs00YOznnZJy94bcxHXS0U96bY10SLeC+6PoDEQjfMfQFD/whwPPluVuuQsTHP7BgdJU2AH1rq3FJobw2bkl4fCnDOQhVz5/oQXG4/UDqSRR1yA8MNIG9m2P/yBCUL9xgLkLTfD8Z8nO0QwKrzWGTNMIamY4sYUxHQ7VkzKTyx63gPYjyIHGkc54mTC/WwK/XBy+BymiqfRJFroSR5/lwL1sytdvP8vIKfgKQW/7OPNM+e9nQuU3cOfK+NIC0fG091Wk/l8iRB/lpq/YVT8wUgnapkWSjx1NpidKhVa40hThE1ygqkrgPcPwF8tqaNynX3A7IfJc/96OO2NoC8DpAvI+gCJgc/DrBDRvr0iBrnwe5xjiKDNUOWuciwTRhZwK88prJoBiJuh3EE4iLQVjUW7vE86UGSF0DS9QdFl10auqAiXjrQuYDE9UHNa/7aK3OMp0ZXZySfJjF0Ho3dq6t5Lzj+Skp96TtYbnLUMZ1FswXdxQ9wfZbmzOcCBOvYT02tu2gSWdGcsQ20NoB85A38D/8OfE7g0YHsIMDENEppBH0IlkxLjWcGTFAKi/0C+tpkNzepoUu1E8LzOqlxr3/BEfCa9estwYc1ZF1THL9rtId3bzsFVi6iyRUAxBVAuUXJPgPHr0WIJP+4euMaSHIRaJdutA4xx1ilygIcBR0A1qixgWE3+jMB7H+v85OTTlkz29oA8q599t8/owZFADsLWbNPTyWtTmLpTLPYLKjVHYuTdtlmtZEDxM9WvCpajyQIqgqlrUUmq5HOSs3vhjXoldLXjed/JOK8ZC7FO4qHfv46pMv12EdOII/WKq/InvGesscXQXJm1rTPzkMBPOqMRei21h472bKm6Vhpg5U6WH7XVOwWqlnXBOUMuD801L+tDSABQE+AzOdR7p8Oz8aUShIb1AeDe5U2qxaILKDImW1HFo/rGVADNGtUWQaJuFJ7vDcauzD0rXPtxjMR3a8cCSuzj6dNFy3437r776h52dt5in32UxfqpZfqkXH/q6XMS4ybZkXxdxukVtAFC9AFIHq7XoEweNmOxqmO29Ru96roE11s6AgqhsWJfNd5jjGYts2QbwAZ+8fYMWlcUFbxufZwJwwxiWK0pdqdHgQNFBOoAeIQu5UGVK8a1e42xy7FTgLTZQ1WXQfFh87+OteluJU2L+p7p1zhy2wc/uLU90WhC30xijw7d+gKB/sXgHDNTuEyr3plu/qQulAJe6FbNb8ZoSmGH4DwlEFr4hQrhZqeS5+oPjSeP5w6inTzrnRSVZ9Wrm9R5AaQ8/rwaGqENgpxQKKQJCay2LqiORmGKZercK2VIFaLhSFAUXVGcqYbNuXxe3yveSMdPh2KPk2/1WWwhQ/Dk71+ofBz5WiQ7gYs3YVmOolBr8mN3UiDr4HdWtR5+r7Iy+aH1/72XUo/V0zTVssXytVgC+EvcwDwgeo1IxzCg8Y/IXwUIIzbomP9WWqTnw08VYCSJQW3IhRuOPc105ZebwB5aR1yJxYKs1DlMULWjLbAct2smGwt2DOFk113NyupuZFWZMlbQbI89pLU1o3h6F4cQpcOyEK36+mGF0HukqXCrwDjtZok78K3i0D9R5pprX3+Z6rjayDbvS/eqAPfx1/PDfDAg1TNuEqK3CJBHdq2efwnhCeqkddML2zNHicOcq/8rg0MN4B88PjYpWIZQ+h9osGMZgGG8bNAYbFTICqNkFCxU5hBswJlZd70kaQBNJWk8r6o6BQwa4SkyzVJab2DrTVbgxtH8AUK4sWIUWsAchkbr2pIfgkAeWWKp4++2U6Kp+BIu3Oy4FID55pa+Mn3QFKdKs8B0JHAUdAB1AFZnxA+BR3n7nR1KVRv2rWgHAa1sNYfuek9/oXrP/5U1VCGxAkYzSwlo6UARzPCaDQbWP1larOFtNJdKOztav2qjk0j621g1SQreG6itboHC1e72Fcz87mBXpvo9USwvD8Xdal7S6C3DbqW7pAzcF95Dt4Z6Z3dd4XqeGYbcAKOa899z+zjLTsCPiRZ52iug40Rc+y8rzu2jFehimmejSxdbyH418BRxdpVjOfiowXbbW0R5GJ/noeqabPBVqMNkhiaf3UFvgZ6TGHAhRkIK0ebSoD14hQ2d7BPIhDeAkDdTotuNGIemty50f2+Wm/kWjSJs7opT8PLR3yyeKUksSpSwfO/swJyXxPTvTUuheVY1vw3pBCQ6CPCT6mly58I+uAnpA84Ptp24UPuH4DeIb1DeoPwJukNQFyID6hEj18hCmxrA8ioALGzn0HiYkRH0XWOIydBMJhSeFyjDkMYYSGHZquqDXNnhAUNLx6kl6hzuA2ci6jt/HZdtH29kAKe3E/35GcPNdv78Z5H6oQrH8ZVcsyJ7uMjij28hwaq2/jZK4mH7miNHN8AvTdQA94hvEF8A/QzruMNqMCnN7h+SqiP+QnpHe5v3e8/RXwQyDorpWyR5AaQj9YISmWQgvBujECvHA0x1xguIE3PkUXh8VTNwcpQXwPC0sohTw4VnnVZT6lz4mMAtKo5oJUMfsUTu0/2TgFWt+qND65+hKgYpXE1Pb6vJPv1tOGOv8c7OfLkzVrjSUQvAJOkn5AC9GoECL0HYOoNKj/h76iA6HiD9EZ43Dc62u+IjvcH5B8wfbqUU+Xiw0+G0re11SAfeQOjKhmQ5iEkXgbCOxvMDjAZDtddPaoU+3oFBNVHVVXxohP5F64FOAqL5o5OwFEXwFG4Lr4rLS/9trPS6ok6kK6UXqWV7dc78NIDYIYV64SvAO09tcuQYQ4gdA9wE94h/4AUaTP8A23Mp4AfFD/JD8A+AH5A5feUPgB/B/wT7tOlevS2tgjy8eUejnNOIlUXhSJ+Ww2zSYJi8cCu7JhozvTjP8G/jtojS42y1SA5T6DxzrraJXaNVmh+K4igs872pchTqym67qp96jYo87bqeFNh77UddeGxp9niPaOKq5xqfp3SSN4HoEtBTi8jPB8N+CI6/ATxAcc7xAJ++oiIEnGRYpvwEdFliRxj+zukDxmOm074BpB/bGDlpY491Q61J8CMTAFqrOITTICZiBggD6HcuG5NC9KKFmTtdtuSt80rMv93AOMaUtyTOpEX0+cz6bPFoHlnvXBt8PkaWJ4qZuMEBNs7rf7cK7XFS1x1YkXYdqX2yAuAZleix2up9SXVJV07kckrmKkAGsh3ZH+H9CZXSaXL71FvfIN7pOLSm2qt0fM7XFFzdH9TAOYn2H1zveRdzWm2PHsDyC+VoyiCKr4zMbsowVjtEjiP+LAOhluNIrs5x4gqZ/fCGDInybToSNwyiLp48K0wYarp2ClbRmwaiE3af20o8XTOcUHW+QPSMq3YR3AJwOu89BsnkrvA8Zyb/VAK/QeehiH/gONN8gA+6CdcPyF/l1rNMYDP9Q55qUe2CPK9dK1r1PkO+bsT7xA+KeW6P9RznJ3tTBtAbjXIB1eMQBKQzeM6kpGaf2+K4epmHzmgDYNXhg0NZrUTXofF7aRpcxIlnhgeXioZ9ffXlRLTyuwfr3XNeULA7eqMKv/W6466UHO8o1Z5Mde/M429qWbUg7Ju1GN/5ex663cCgVWfMaaD2oSpqfFHuV4aMnqLWqMHILoq3fBdro8ATr3D/UM5vyvnGP2xEKKoPILZbk1BvpI2gNwiyK+tLECi8WhWhCZK5NdTCGuNsVi8miWYxb5IskWYNGNr5sQgOSsPe+m4ff3AWmRml0xl1hof511qnd7WR6OnNUi/0JTB/dTDPybgwhckzf6A+15K7R+pPfKstnssM43vgn8E6KmvKb61mqTrQ7W+qDL60yLKOvIzjwQ58GHHnH0/gtnL2y2ptGEx4hOd7K1Rs0WQD67jETge3NxlkKKK46TUUwRVj436e+FVlzaO5u0z5bAdTWnOJHkCPKdRzUno5Vh4dp8Blq7dXp9jJbo7BcdyEe7oFusLYHdl8FxnrXPdPzT+iHNhrz7eRfEXu9e3GDQ8id65EtGTxxIhvrX0GfgJcZ5vjJ8/44J3BjjW1PoNLPOR1BtYZiapN98PH++/PU88PfHxsn3atjaAfHj5JOggImdTdsKzQTlOtyqgCYQEmkpxL/LcLjJUE4xSO02HZqTQuSOdjbzocqqoS2i0NhZz/pyX/tQS8C50qa9R8dYuX4kQv3THP8or5gbS33p9vCsTmKK7vIz6ECM7AXQqg+JCzDRKb0LMOqJ2rt3fJY8aJfEO9w8of+YxrFv9SmQrbiC5AeSvLgrMgLwbfBQICXKVESBhYdAndpW5vpvKJh8ewCrd7d7HOw/CP6qetsJlJjqhonrAmS0jqEsK3PeMy/CLaHrJgkF64D12G8R1Tva15763AxzPmbtU+r3VGBstMK6rRYv1PmWER/goM5LvAD5IvoN8h/guw7uOPNokwQBPFlJ9Z4SDRRW6jfJudcgNIB88/gikKtJTJa5ttqhqyi+n6SB7qdEGtkvQYC/c3wHNnRHRvSC5Ej2uRn+4Ehl2f5S40e3lg+K2N0BmOSzOE2bQg3YJV+9zp9cOcbtBdPnG3KLEOs4DvSkaLrUL/dkaNXUAPABznnFUHSDHu0okiZzfAXwSzMxB2vKUYO49RyFeSWfcJt7xWW5rA8jVlRIwGpjI6MWUoXAyBnjO9qzS9tZZTlrDMHUeo7Ng7mkN8mIYdhKOXaoHXuxac0XI5o6pagIrhc3zlPwSM+ZLafalfP0atfHe/PfGbRfnOu8E49XoVCgqOx+l5hjgOA9zl3S6zkKiRZiS3gqn+h3yMgbkP+X5J6b8A+4/M/yD7i4jMAmUkAcDszdR5DrzSADe8c8JfVGMY1u/sv7jM2liONrU8WZa8wWsLJly16L1KAbdcEYiNiyZc1ScbLsgvnriQb0Y51lTAF/h+J5ZItTOJc5x/OIws84juq+C3yUguSD2wLvsBbsrtxTDcf4R34yebjVobj6FVMDxDfKYcQxw/AnXDyiEJgog/oTjB+Q/4rpmsQn3H5B+RNRZnsfw5gnHnM3TMUfGMzlMQh7SPMta369da9RsILkB5EMlSAKfYbsgiEwdvUJ9Os1uCLFFUiyD4pwLW7Bm3FVG0Ll2ILcDt5tR40oqiAuRyuUM+3Kt7rSxc0JF1L0K45dR6E5NxTVw1PVa5dnn9Wggecfj7vXCPt+US9r8E0K9/IDwBsdPAD8A/Kwd6xjlUWxz/JACTDE3c4qQhf+E4S27Dlac0VTyEjpgckxp2KqKW4r9J69cGjJQHRarTZYiXrEQngj71joCpBZ3WgNSluexahlLnnWJ761D3lX7uqPk14PnJaD8cubKXwxO+Pgb1Ree+uxl8/bzaeVktbzvVGqLP+D6HfAf8ADEAnw/5yjR30u6HR3sOv5TfWXcP8t85CfcP+D6nAY7tsriaTk7x0nFjcVlg2ejsmJfW8ZfwCLaAPI/9nIRZkXXkT0DhnX4u9QQa2ExBsIjJS/WC6hMmTmSZFP8Ifo5yLV5vYV4Lq+ne9eOet6BCuq0AQn0g3NdjaEDvI5tc0tNG7g843lhpEiLB1xRnXj0hHIt8taF8alrQeb6ZJBDOMCLaERT39FneMtoeUEMg9f7QPhQ3d5Ue0qNkniX/CDJK/CRpa5YXBobQCYD3We1+PJ2rXy6vDcD2dYGkGd7OEGYrMWJ5FxHjNpeiR/JYrOADi1mVKkPIM87D+R94HgWld0h338m6DC3vmdcK1YLaymqnUSAXMQb654r9wPIDaA/tV040zm7O0y+aE62EABeRozShWbQtRGfudMeNUfXrKgTUV+hA84NmK6TXSJHfy/36+qO+Sfcf8L9DdJPAB8yxSC4ca5AWBSWZQCn0skeEpDnTjZ7c7fynS8ph1sUuQHk/YkoNbkBTnXGmKzRYMz5GJeodaoBybBqqGk4ToHyesTXBZv95TrAnIg8cA3oeN6fuCcK/NrnONcReSMn/qXZzpPbSPyhmeNdTfLarcY74D+hqriD2ph5gwrQlYvq/GNjx+hNtYsNvEN8g6U30GIkSMikgYoZx9J7gYyooMkMJHl0st07e1+0gqVOPvStk70B5MOZl1zwRhdEh1JmcyiGTkT3RNeR61JlhZpd65ZLYOseuwqIJ4B5GVxuq49L1248j5CaSMUlAHwgQvylIuqvPt1qFPmF5z2NzoVjRIb+BqFEg0EPVFUEb8IUqOK25bp/tBlHKFTA5R/w/KHp+CHPn2JRdSSBMuMYjWrBYfE2LFJsSvCUzt/3RjncAPIPCRi8ZsblrIszQNIqKM2gSZBkY2dYBbfZWJnSzRrbH/aGdBkle842dBEcV8HzHjXxvt54bVbykijvpec7y77PueTShTRdv/h5n08fZMg/y4B3SZ/xIeld7nONcRageJd7Fad4g4f2o9zf4TlmH7MH2Hp+B3Xsx7dYRniEWa2nLyUyR7vQr4w9nVEOaRtybQB55zoqZnGiLzMPeVcz5T56YJuVLFhqs5xEISgWemEcsmHO5NCJ5tYciT6W8nDFovWe6PHUH+VujxldzzsvgeGlF3UPk0b3Fjh1JoQhXXpDDzB/TlXMe+R1TQUQ30rNMcRt5TWlDvWdSKd/yovTYMw//oDrp2YR3JmnTfz0Ib37uD9erEU06ueMjgRgFSBtTscXZpHqObLEZgO7AeRjAYLDzcyN5hbAJRBeZLSLZVf5GfZdBfSUS5XfEfSy+rNen+I6w+kGd47CXKgR8pf4zLhguX0D+BaR4wX9x1vRrHTX61k3BtPV6HMtlZb6AFPr0W0HyFf/7nJNQR8s9UYvIBhD30X8Vm8BhB6R4SyO+wHXZ6k3vjUnwsawwYfIg8xcZ8xUgvIGfIYY60FNs6cASh+sdLVPKIf9x0M8wEja1gaQAGwwYKCnZBlpyDTzADVmMMCOPQCKGWAG6304hRETc4AnM4CJLPcBpgKSCwAkVyKER42jLo2+XFLjuWigdVp35P3SZmusRN1ZAtAdkeQCqE/BeaHu2+4jrQhc6EJN9aa1LsKmNUZ15igRKhzpTunb9Q7XAdLHnG4rdB7dSwpeZh2hz6g96gOuA13zFFlPvyKbGIU6gKQEGYGswqgZViiHRXD+jHJoWxS5AeSd6297IZkwJGcyhzHDLCMxIzEAk8yxnZlEhtEL+DkIESXqLL93qbaXUXL1ALgAxzWdwQs867Mo8gwEsNB8bJjgK3OIHYjoatPmMqhejeZugvraTXdYqN4TnV56mHTfizk/OR0h/4TrE9BB0kGuzxIV1p8fkH9I+lDW7EQo/4gaZJmBLGk5XG/K/ib4Z4SI8YGq1AfFckomy4xjd64ojcXWqIHDh6KQe8vwbFt/1/W/AS42wNEUUz5ymEUdklSJ/HxpS1CPtHafAohAScnLVMbZYOEVSfH7cmStCs9qBdhW7kssGzVrUdtdwPRrn/Wa7sfNeutdKHuDSviQCrnmGnQogr/VrrMcVVSiKn6/V0ZMqIN7UA0jlf4Jb9TB+RJqPT8BfgDKoGBCqetwmRe3Rk2dcdQ8EF4ph1mYjI99NZuJ1xZB3rNSNFBcYW9Y8jNUoEMDQqOzryfOCFLqi5yTPLFr2sDBUJs8K0Je4hzfm9reAi1dF4XVNfHdS4/lvUCIx/Uj7xXhvZKmX/wsHrFomM8yUwPAqDf+CBEKdHXIMvvYQLCK4OoNjiqAW71oYvzH/d2NH27IrcVcxniunRh63Y2+M9062daBad/qWaMcbin2BpD3LC+QBlekyiUKXKTFkT4rmNmmqD+W5s0MhHMtnK2gpy5M+3NP19Klwt7y570isdcGynkB1G4BH3gvOAF/5kem0/Jkb/LVPoupsF7eivNgY8QA6IVw3+dZyMaqeYtUus44+kfrXHuRQSNOOtY+T4OdfMAsr61RDjHbuC4phwn0UptcHKEb5XADyC+urAxPLOGiz23OVtlWG+VhPZpUDFxqtBldAV+0SFndFq60Lh5KcXgBRHCZecIVpZxuO/GgB/Q9UeDVx+m6OPA9jJ+rTKDzcoO0UpPjIoxee4oc3OgARnnpOlePai/daXmdaZy3ZY/aosclHuM/4flDefp5HPWWTYca6WklRFQnX0edpNknAFkph4bQhkTOS8oh+vnJmXJIbpTDrQZ5T4oNAAPhR4c0t0mLRtnpkLg6l/v+4ic/T7ZHj/LhmvkagNbi/cV60ppm5Eq0wAtg+0cHFhcrCnw8/b33j63RyGsN1ri8w+ksqtS8ZKRSa5QqMP4EUMRt53lHSD/Ue10DP+G58Kz1A/I3UD8s4f34mvLwE7JjV0tsFey5UWPwWeezNGrcEpQjKslkixaZBZPDhwS+H+DsReRYGDinX/wGjhtA3pVtCTA45C4t0uwKbn0K3YMgVmW6aspeAbaELl9qKJ4U0tuvbe/v0Ixcj4guRUq/8DrujhoX4Mj1TH9VUJfXhTmuojAuK6iTp9W808/pGPxo/9HADwpNR+n39rtQ5Mv0E9CPEJmYwbKJUKjOTeIHdukdUh6Ojjwadp8hfHsuoza/NnURZE85NJSmzKR4jslBL/40p+c8u3VC2dLsLcW+cUwHQzBpRV6i1BKrZkWvAhG5SnBkej2wQFj0nMVL9beHDLB0FxCtR6C8opDWh1u8et+HI17Nf6UfTSSuKRf9QnDDe7af/4FSNTkUlsu/F7HbuGT8gPRDRd9RGbVR81YEcd+lYtG6cC3UR2HKvOeRnx8vYyaANDl8mP3cVKVHGefUlj6fjHv1lEOcUA5j3qJSDnlOOVzOjne75BZFbhHkrXUsvVySCmEIsXEAixN2LXLPdgitey1SpArDhg6DszZyULZJ3gpB/AP0DB8LkW9H0Lce8NVxkL7Wx5XuKW+96Fuf1ZpP9cmsaf/zNLKcf53g/lFA7iM8YYpxFqraTp1txCeAz9Kk+ZzdCKvJlj4BfhQ/mg+RH0opO0KJxyYsmyirpQ6767Ot3jONcjgCnggrg+W9cVeVOjtRWdkQbAPIG/vZVMtTcpbmi6KWXUFPEMpgeO1el6FwwIN2TZURtgqGHo+J+iNmCqL9KfulLgeOa4IUd9c7vxKOr26+y7bggc/lcqjIi+wirpQdyoSCilBtdRrU7C6oar7V7uPFbMs/VOuQdS7SS0oNvMv1k8QHyANLnqGi/B0dZ658Fyp86qU6eFXVozzAVcVviJ30WaUcpoQ0Zagq/Ih1unI29+D8vUhbPXJLsa8daglggpDkytmVsxDlSBWKWeVe1+tFhEIVJINmWOmIXABijkHgBbiup5aXMGAtnb7Kb75jRrDLd4kVAP2Kx/aFtJ9r9cCzzwCXZdxuybudamFeCrp1Qv+J1+WzbFkRlYhB8PeuW915WfsbXD/k/lOOyr3+aPcN+bM3SD+ZWCxaJRZfdU9Fe9mBnEqE11sfLb4zw8LUrVEOraMcYh7rqZTDMTjZ6j++Zskw5+ebeO4WQd4XfNlchnLPbp6DbghOgDKkCoAV+KYOEOMS95nm3wtQCoWfXbncF1q6p+oxrY50ClacIwC/rHq93lPR12vyPZf7nojuDBx5G/i/ElryQRBffl4TgEM0Vprg7ZsiAnxrArgqzZg6BB4iE8WZsEaOsU3AG4U3GN58sAOP7vQYnTWPzvNAwrLDR4CTlzN0y4O7TnZUdyqfukWQyQoYxvNJDli4HFKOnIrRQk9H3TBwiyC/DJDeJhjdhawpT8hyZA+Ac8Ul1HscLofcIWa4XFXRRyWylDug3M9PwiXJPQbScdua4BSI7klRydvD2LqVm19Jvy8yay7wyNeC0UfB8cuzerfkzZQhHcps4zty2CGERqPeI5Jsw95vcP8os40/y0zkT7iX2qT/lMKilZ5/wvATAz4Bzco8EswVKjwk0hSdbPjcqFmQVde8W9lHnJztF8pRSAfMHTI713+89iltjZotgrwOkG3P9AxkTtmJKVNDFrKYTHAINJcj0+QQwycWdIgudy+iFg7BFQpABSgX6fac2N47GHlv1Cfdi4o3tv9CzVHL6FEP4dhXm1eX3tvFJ4oh8JpGR3f6DTVyjFnHn5VFI/Bns0qIFPpH+92L1Bnwg8BPGd5IHQVTSJTNSt/MQB4JJSJlx+feFm9dYi8n2kQr1r7/3m2it5+xDGCHuUHDpbd6S7P1lR1sW/+UANkFehLl2U3MdDM6RZeQSTocGSYXlANLmcGUIU0gs6RM9wxahinLPRfJs5BNE7KgieTw8LH+0H11G5BOjpJWrP/VY4W38e/+iIX333TmS3OpfIEM4KOkxAUcy5xim3FU52GNLv1W8bfWLEQBvcHwRuGHkr1DfigsK5CKkZsughQYnexjRH26MM5F1dmCK5RDF5jmRg1JYBKwDxOvwb0Nkfe1axXjpHaS3gbHN4C8ttwzOv0v1zFnuKZkyInIQIp0OiHTzUG5DJnQrA3pNsGKQC5V65BRl3SV26KmKSgTSHcNX+vO0HIBbCVpaxYSOhe2YH+AXHD3uxqVXgetGj3yEZC7J3q84Fixqux1/lxTmU382YRuZ6Otny0iFH4KnSBFb7bVvKzxBvINxDtyflPiu5NHy9D6CUmojRqRSCWV9mEeyVHv7KEKoHOmUdXCm5qP65xymGfK4fBxBNLQTogxdB73g9Rqm3Fy3MBxA8iLmWme6dXumZMmZWTCMpyTgRNTngBkGSfCj4DtRE6ET6BNMGUIk8gj3ScwTQAmSZnABPEIqDRxlEHaXEj6hWjtCpNGrXZ4AqjX1Hr0x4EjHq09nukYLihDJ2k4V84fa42gdj1D+Kwd5qKwMxtnodgfFOMtAFXpe770s5BVscc9ZM6YjrXmSHX+2pxBLchVQLYASHNHHgg76Ezfk00kykBM867SUw5RTLzKiE9POczJQFejHDbxXGCjHG4A+diajgd0jn0OQ/YjciYzwcmNE8mJ5BFAAKLziIQBwgRognyCpwxqAnmMtBtHiEcQA6QxHssD5AOEATBC/EKbawXg1uwTqu5GL6rr54+V9Dg4XnBgXELZjZriqngElhxEXg4Hr0aMy+cN/2pVCbKmwlNVed6KKviboDamM/Os8R4ca48UO1LwN8rfNNibMg6QO8y6z25W766ZQhvvsfAotwnw0cCPE8ohZ1M19ba9RTy3Ug5dQBIw1fJIMuDoMfaThlURjF8vdG/rnw4gzRZ0PGmfJ590yBNHJhtt4tGSHUCONBwhDBCPkI0AjqCOAI+AHyAbQB4AjIAGyA8SR9KOAA4QBpAHAWODxms776P7bXMrvGBw9WhkeAscb9EX7wTXu/Jr3ik8fFpzlA6RVntnoOU/OyCMlBuqArc/CpMm6o3Bjvkp9+BdQz9p/Jl3fPdkx+E9O0rNUJ2orcqsoTMhwVua7QmAEcPk+HxKJ5TDYol0Sjk8E8/FarQcICwgoQ2UgyelmGX1eZGmb2sDyAuRDBoL0J45Zddxes8H5mnAYMndBjM7SjywGDRAGgsYDpAGkAnAIGAg9AlxgHEAeICQQAzl80rxWE8xwMbLc5CLTOi0qP4nrgcPGOICz/rasPvddUlewNabfyfog9K7QmXnR5ldLDVIvEUUqR9t3rEOgwMlWvTCtVZT9SHxU4O9fb7sj8PxqDrAjVbuY9WVj2jQorACCZaFvLPSqPEis3fpZHiDcthVG3rKISeAY7gcRn2zcLlKOYaru9CWZv9pAdh/+DewE1K9jILtTPbEo2M65Hw8ep6O7joKOkA6AjoKfoR0UMjxHyOS5IT+d7BeP8TvmK8HsB5XkY68EWndXVy96Xx6H2hxeVnW9hav9Rwc7zEi++qs41XKTy7gWFXA30ok+Napfhf2TBG/rRYKYAXDD4jvIN5IvtP4DvJDg30AOnoaJM6RGlek406rsfQiB2VETVyaQ+FJFtDEKZqHdbNgby6HKtQDL40XpEI5lEod0mef9laHnMVza+OG3FLsLYK8BJCpYEkGPAvKDj8o03T0KR91nBIGH5X9aGYHSiOFI4QjpAPIMdJnpRpFImQmR8RITzq59BGnQRgf4yD7eQTQF6pCzRJAl14tfscJ64ZzLZKo6hVepkHqK6u0SpaTIvu5RV1Jh2+D4/XokUtq4JXoEfPrlz6B2ljB+wyIeINY6o8VKFEB8Ue5/hPgG4gfIH7WrjeMPwG8H16fDvvf38TSfcZCvduiRrj2VqoCngIUU6lJaiAsX+hkd99ri0wLi0rGkDkDoxmTyzYPCQAfEniY4ENnhV6637WTvcxKtihyA8iVdfjXDGXN7T0SNML2Non8lMs854E+JAgGcCincisgsgBARofaQCWI6ew+PTiiXpddract0m2WQeJaY7JFYwAxagSSptlOrB9U7529Cs+8DLVLXuKc3LjmTWuVA8g9yD2APaChhSc4bcqcyqytRJb31ijXujGXGzK50QCln3L9LDTBt6bLCP8RIz6oVMEy0tPMtspjUPQfY0DczT7pONYBbHOHm0HV0be4DKq6EGq2Kop0NywVzDEzanJ0soejA4PNJz7TiXhu7mTOLGqcRfvRpGj8TA4kgx0AEzANtkpG2GBwA8gHMzWGN3ayIPUbIxJIzPjUp78refaU3JO7zKCBgsV7ZwI4BFjIACVAKSLHiCzZgBEJ1Bg1SSUJicYR8AGw3dVUmVgfAm9KE5ogHYv81iel4H6H104uKtkZkiTl0ryYWgtbqHYRtUyQy8FlAeTcw7gH+AzwFeALyCcQewDDdeuGK1Ei76k13tGQYetUf0D+U1Fv/H0xx+h6E/QDrh9w/xHRZXEYRBkUlxqLRmUwnEN6d/BTxEQA9OBD2+SYdgYZYHUWsSspFJ3Qs8idLuQhIs90dBzGVKLO2dyItVZYT3onI1DMGcAAR0SiTfCi/jl3KA3wByiH2jrZG0Cuptjf9pF6LJolpYa0t6zJP3VUgmsgMDD0ACvoDaIOhA0tfa7ptXAAkQQNEAZSR8A+y30MwqCsAw0DTLHttFmzLGkt/a4jXfPC3vgJ11sHDB+QH1EiGwUYTp2fDjplovnZGq9czqAWDTQ8AfYMyGFGgAYpomdjKscoF2lhjVz6aPLOmirvUe9ZRpEO4VDYMT/lTQn8Z2nKvKt0sQtjpjBlqiJ47WZjBkjgJ4kfMLzJcFBKGR5eB5wETwabMrDfwQ1IXVNr1k9WSSQc6shT5mU0x4poRerg6UR9aEE5vFCFRU0iFpRDL51smymHuEQ55Jcac9v6Z4kgB1sAUJy5rSqoCHtOBA5yHwAfIA2CDoRGQEeAB0BjRJI4SBjoOoA+QBzhPIJIcR0DoAMMQzRrcAA4wnEAtUcvaHi6w57vvI4A65n2xtaJrV3ZrAakcrhrBlZ1zyx0JmRepoIMxJPAEZBTRZ0I6iTdpBq+8bS5dNpx1u365FVw7G+z9n1lQMezUZ0yjlOYMe9AU+uZARKa02vgJ4g3gIVVo59I9gboE9PkTLtSqiPoGT6OSJ8HCPsyilNqf2ym6K3eSHZ+MKWTfUo5dLsAfxdcDufMogfXQjms2pB7BKMmd5TD2lnvKIdq8nnb4PgGkGsRi1tzf8NaFjvQkXDIP6fRjuloKR1gNpZ0NhoujkNJsweYjoKOhB0hHICIsiR8Ej6AVuYkIxKNmUgNBWCHs3BKOrtetFRj+Jkh66+Z8fEB4gPSm6KbPgNffX/qxsNVwdFP7Wn34cwIsdjeloPSu6ZNGSDpEO4kCsc1Pch7ZiIv39cBHIoXTAXEt9aAKWM9wZrBO+roDvGjCEzUBs0PkOUEwzfQfmiwt2k3fI5vH4Ln9kLUWCvBhAGii131GC9mqDZ/f32jZihA6olItenTzaxSpXBDCwZr525I96h5rlIOUTrZCePxABXKYYXTnnJYB9pZ/G62tQHkCUAuR1eYYoSbsye2IOT8Nh3S5KOmHLONZCIYg+J1OFyqTZjobMfnM0I6lo72saTfE9i0I48gpjjgpbMuBMtZ3xcQfmwK1+UnAySrVcA7xA9An6hOjcX7W65KqSmhTGgVBTi2sGSAcQToJIv/d/sZYVGUJcLkjFgR/+UFtYpbNcdbne2aVhd6YIkANfOq39rMY40U222In8TP0s0uQFnGfKSfID60Hw4AhcHiG+v/fKfAba6QFzOfy8EkziiHmC0Q5OXrLN1vy8GdTodZPJeLv1XnIXPX2C5D6ClB2ZuJV6UcIntQDocl5bBXUfPVD3aLHjeAPN0tdqUx05lWRZBVSPwl1dZOx3z0Q8p5sJSOlEZAJRpkoRKiCueWmh+DfghGk4Q2FXAs98FEFn62MJXmzrr4I5u69CR5HVWpcv9lmLnS6BCG9q4PSBnRVS3FS69SMdXb+6SqxRhqJ6NSujh+OrfHCq88rYrdYsTgJEU8bbZqmZYT551qFF510P/CnnUxyhOGWZFye40UP0paHXxqcjbZCguFNyS+6+ifcDmSNWYMWh2v/J4DGC1neLJS/zuRsOsGBqwCZG3ANMqhIU3RtOGHN8qhRNA6Xn1/7llQDlvTO1L7QjnksbB5Unqw7bI1ajaAPEt/xjib+orlaOXFZgmkO3zyacpMadKQJqoAG1QUyDFVdXEBmVGnm4qyT1XyqeCYQWQFMB5Zt0F2rrPYdtpJ0EfxPnmr3imK0ZYPyD/g+pD0AffPApClm918vxEeOt6n2HMySFlMIDW8U/vXW+vx3CTgOjhqCXr3oOip8Va8+ENT1AHepeoRow4gUeuRc+RYa47Ez8Ke+YFasyR/YkhvMBx4cEd2YEgxYkOGBnJKc+/JVTrZGXkYI62t84lpSTmsqkmt2VLFcwvlMGXH8ckWlMP60bI1as6jb0qXe1maTbxmyiHOND82yuEGkDeXuoo/JMC9zEWWSwWKRAeR8zRNtJQ5DBMteYyX20RoghjRYWhEltEbjiFcoQmOCYYMx7HIo0XKHduPEAdQyyhyBjCH/Aj3zwAJHOI6jnAcIP8soy7zBfgEkeGiFh1s1zzis5CwHnFufUsYCGOxsS0lx4U/1q+6D14Ax6VKei7g+BOuH6pzi637rJ9FiOJHAcffw6O6Ct2q8KvrAHi5zfAG4kNDOgRGZKA0OVSEJeABmDV6s5zhYwCk2DdqOhGQEjGq6Yp1e1wG8o5RyzwI+jLlcAY+Wkc5ZEifcQfkZEhZpY7pG+VwA8gHAfJjmsGwP6MaYh6y7vxGgD5pOh5Rx2ZQABA6llriLrZzQti6TwxFn7HcfpRwJNsYUKTmWGyfAI1L5BAgHBWNoUMwRQIAJX0A/gHwE/JP1RSy1iIhL2XIiALdl+5VLK0AcQfaGKM8wMyjYU2t48JWo43Kvp0i3cnrfuj44xJAa70xhtirXNnvcP8x0wabX8xPQFGLDL717xB+LzXKSiX8CeB3CD9g/ImU3ny0I4UJU1HVMQDZ54jKDJxyeTcsTRBH3o8Y8zHuZ5hZLJojyNZUOzFSYxHPdSt0pVKTpE4LFbPLYSCgt1vYpM/KEHpJgpL3LodRpxwOEzSkGX85C2pYBXP55nK4AeTKymVEpR4cNVA6H1sRyMxRUUfMPinrSOoIV+hDUtGYCWm0yr3eYeZi95exu89A4oiafsfn2u+lh9AtxGLGr4i+Ric7+MY/Cbwp0swfxcY0NxLbPPtYjr5m1r2DcZg1/1mSLgOMmgGSABm+3/H4akaW1hHwktzPnQrgdXB9LikEt1repchebA/0ozVq4vI7gN9Lal3qjfoB8HcQP0F+YLCJoGTBSHEi6tFTLko8hTSg6SS99VIWDgBzsxhwXH8PbVMbxVE03dyIVBsuAzEUyuEseTajpWNp4qUTERMDka1SDg3M8R7yYOBneW8tID2hHK4IaG5rA8gIlHbDuRDDSgBED7NM7McJH9MROY+Y8hGDHeE8MJWONVrqXDrWOrYmTnVFjJbk1KJOICwboqFTHRRTY8nUCGhWtn6H8NbAEDPfWHNkVTyclVXVc+WnHRmV1zy07nR0q3P3OryAoXfujj43bOgPCWFcGxi3xWs71uaJvNNndMwzjkABxTLb6K1J86PMQv5YcK6JMNUCPpDdgx6IODlWsLESqVWhh3RBtrw0biog1fT2EuWw8amLTmdQDuMNh4kXMR6LFlTLm7UQzwVzVxuO59eYutGdSjlEa9R42iiHG0D+ykp2BoS1P8PTZoERGpn96Ee6T0l5gg8ZVtTD59pjdKZh4UnjPsGsNHSaN01YNsiatazMQ8k8ut+pdLc/AH9XE3rFB1zvUjG5b+rX+igp+EfUH3UohvdBG3QthsPLAVMc6QvQRZLnnD28Z7/vGRgdzdq2ejTyel62EAe/aVZWxSaqNFk1yXqfU+ei0hP1xbkO2TNoajodohPxeOOHxnTgMftcuuCi9qdSYaAXsKqpfp07VKnzlREfmzKmfWqUQxWAPKMcVt58bb64kAtBNWUVyuFUSsGCnKX6cVKH7CJHypdVyp5y6EByx1Q72Xf0XjbK4QaQ50FL7vt4Xe2rCH7Hzt6lhYmuwbI+pknZM7JPNGVQM0gCAXJh3jXBLFPdOI8x6pOzp3ZElsIkKJNe/G5wAPSpaL58QvqE+6GrRZbtOAj6BPDZcbIPAA6Kn3O9Mfo0zpD82UXdlLk5MJJFqIIdOCqHg6NUPL8FFnYO6Lfw8TprZsGn9tnKAL8rao0/Oz71T0F1249gyhTmzMJjBm+AfofxB8AfSPah/XBQknOSN+pdEZeNHcFQI0oC0OTBISqdbBR+c2tnucOHGPUBh0hXq/oQTymHkR7n7sSQPGorbVzoaR2e5k725Q+1dZ87yiERjRokwJv02brLITfK4QaQF49dCwHTFimw7uhrgU6Zud7R/ZOZk6Y0eFbyicaSNndAozrmozmKpAplD1O5Tx0Uz+Wxk4BjKZfPHWvUDjU+55/4LKM+8wXNV6WaS310w+KuSPEowwhYIpBnsAt/bzFUfCgKJhUQDNAUlja31bwsuu+PpdTz6E6uYhOaVXZ+j1qjfkgFNGv6XKLIOWLELFVGVJCs4PgOw6RkChHG3Im4FWfAEjkyR9SIMmyNrlGD0ghplMPs8GFAOh6j4dJRDtFFczEwXoyra6m2mnjBADPYMV7TLcqhmnJT9yF3lMO54VKAfsJMOZxCZGONctgAeKMcbgB5tvvt0gUFLp1V2VvzZs+MT59wKPau7i63ifQsWKZhAkszh8yQjiJHBqOmzDsiSzoyxnxi7CduOzanGLX6Y+vUqgLBzDn+0Qm+/ixMkd9jkBo/QHyUlBjK2RESgns4ExjIyVpjnIfAvTRswtHRTrbV6DLKZd7Cpjlpn+UGaxf3koxZiAp/FKGJ9yYiESD4e0mr3zuLhBjVAWJ+EfwJlt/lbyCjeUP8REqf8d69dXx7Be7WZVbt/Hp8LAUgiVLXMwOmYwMmGcFjSbFr57qnHPqVWsMFyqF5NGpS73K4VLmbO+Id5dDkcFoTz50ph1ZMvKKTzUOGRps79AvKYc2hNsrhBpBn3cWVUZQKhqdSU01CUcIuTZ6niXk6YmIAHYYcpl08wD0sF5SGYtwVHWvHAEMRy2W1Ykhh5KVqYwdUybKQH/sA8KNZlM4Uux+dkX0Flx+ztmGZDXSflCfAS1ods5klnGqgV2uKGVBudUir21BMySxHw6bVJ+N1XhAP77FzRtCYHyifyRukH/LOWjXkx36H63dVemDxse7UeCqVcAZM4A3UTyR+Kg1HTkVBApESR/eim0usxmaOiK5qt9oIHLzR9Joobi803I9ZqzZqfNEpPqUckieUQy9RI1kA0pA+Qhl80divDl2wEuTPlEPUIfaMVcohFaUASk3xeKMcbgD5QIrNfuZuPhBUpmLWbVLlO8uY0oGTUsqeYNmC2yVKSkQTzo04qyFumzCMU7Xq3krCdSyUippuF1TGISJJ/WTzbW6c4zcFYLzP+ocxHK1Cs5PxSNIElY51bbjAyRK5ogAhkUurqgNA5jbqE6XZHC3WmadNzpI+yz7MWdpddSc/K+BJ/vv/2t7V9cax5cYiT/eMfDfJBkHy/39dkJcAC3sszUf3YeWBPB89GvlugnvzsixA8FiS7RlrupqHxSoGoU9rEXgZ/cZpZ4yP7rz3XTKNJBUfUL1S+BDSq96m/hrGnOvsG+///08/fx2WQizq5Bk/iIPlMAQZ3Q22SI899g7F85bDIFLRbjlUA+oSBBmWwxNdPe9LvCbLoak6TwLDclgNWF5ZDj1nSo1DqPmFhvZKrkkkQaKPBxq+3hkt4ndpUUDj11Iql+2G6wZsFsPmpqDGEmThRIQa/R7x012vKoxN4TR7+GUaPcpYfTDNDm9xzLyOAAbeYjD6NoQMu4K80uwGq1cAV57XTXZZoVKc5NQAWAx7N8NwRVs3JTEjOX+dJPr8Y1MT/HXKU8P2FytZW0TbdeyLsZhZ7MnfXlG2FastqWfYBb1iVLkA+BDgnaVcAdxRZIeFVfATC0xZHLOzZc4vKuLVZMt3rwasxas+CcIs2v8az3Ms0Lqjrs1y2KyJOinZrfrjYYhcjdjFe+DLbth+myyHc4RjE2qeHTXyYn/kcyfD3HJobfaxizKvCsW0HCZBPl83ez0SoQioJVw0BZzdNNPFRhJyWkxE7/W6sWzWqMT85h9bjdkrEvd5kQS15+cEBT4AKiXcLl5hHYePSAuXzS1UaxdlYnNfe0yzCKkIoixyExoJlilwAuI9xzbw7aM6GiM77NXiUAlcufavuSjQxoIYqvgUCnm4+jgJUN4q8JCJUKLtfQgyuLIn8OAC8scQXPARARN+/FZXp+23012u24baQziexItJkCEH2fW5HnbxhdpixIIhnx01Zu5IibOqVvtsOexHW/RVsEP2OFoO2xIvqleQVHmhVj/VeS+Ku5nUDpZDhPC0ArUULO21Vet/UbcKpOUwCfLl225Z/UijGsO4+qnv+Kqq7BfVIrWe17vKJrRKmAxnTjteGemOFJVICFKhRWQLbiB9tUGM4ThB0qZ8xpb0TQA76eM/MPuA8RKpPje2QWnwHcL3el5udtLtdDMxKEEbA96zfRBzlYgh3LSESM+FRA+s8IO2QKWZjeWT88gvvBrq+w3Ala5EX7oThu33/MlWKbog03qNP4AgSeEVIu/xcbWl3Ki6q6o3NHaO2Ju+2AqHRO3WK8Qs1Ng0ky8K2A6WEGr2I0Fir2OHdRChnRec6uNoOayfhKjPwjBjDKeF58aXrUgfu+F0j2qWQ0YfclgO4zXE0bptOSzmHm/Z/a3HpUDuD1hZnDw5LIe+uoHdcpijPkmQk4r99kSA/GX7hc9dGnomOJflbtedhUZYrVAYqfTVWVJBMRh9pKZWUmSL0KuWzK2hKVaANxg2F0u8XoWItbWzMGwC3tiO24Ir4Z5sAW5U3MWw72fd67nwdDcV9ZyJXoeQU1+UfuXFDhoRicfxIVLiPFdi1YL0ZWQq/v3H814kfbvy3N0ubXwn5htjedYlfNM/ew/Sj9Q/AX73X+VdRK4+siMPQva6ngiaB9c+Dft3IWR2kUQMJosc2ojHcFrpfTyoeGgFJ6FmJo0DmYzB8e40AL+wHHJYDqOK9C2HEtmQ7qhheTr+t2AgUShsshzGjKYWYJ8sh5t1JbtZGeX6dAOLYzf06bzyOccu8Q/bg/zFnZJPup6EAaU/ji/6amOpOJW7VewKbKA9hHaVqu9c8AbRM0ROEC7i1sNCgRn4gKAKpIrRKKgg7lTuVLGISNtgMAEqBcYTSBEDsSuxoaJSQVsLuVU73WEQwXo3qBd7AmGBShEnQlfRPWjCfy+d6BQaBDk+BCoqUAmCDEIUFVXt1xRaxWi3WHz1AzWGvSPxuy/OQh/2bip080239O8LIBcUuXBd7lyXB24P27XgZEatFbUUoO5dRBlhYd7K9dZGWAaDxA5K+izUEE60XagJD3azHKq+Prq3SqwarCnXk4BztBxOS7xCQW/ZkKu45dBWgdyj1/nKctie+7TCQo2oImN0pz0/lUmo0S/lmEQS5K858unN0lVGweFeKl+pfu34pGImYjBUtfrx+Ouy1DeV8w+LQCtTCtRUhQUGwSaGXSopoNgqShGiyGZCEwK607VlFewnH1zU4tPc2OkFSVwoPBV3FN5DXTVC72yySqvyIomik2OrFqNtJfPnYqshopJEGStrpUh77K2BD4A3GtwSSbuA/N5aAGOZFhpBjrEl4OLH6e6Z/gmRDyzLhwgeti7GtxXl+hjzgI0IdgKrfp5vfnXfo40fpE7HAE6WQ5Wj5bDGUgyVrkuN+HlfvcBSUMywLQqW2HLYwiAOlsMnJZuecWGL/7taif1cAO5dqHm2HPZcyTajo3EzkC8shxzP0eaAi5eNzPlhUmcSJHx2bEQPEvKLa4y/w7JT0opJBfZvpW7/suB8uaOqop78QrKpiJmb7BYXZ7t4ugVMSDH67pwWEdFOzO1ardPOZSVsWfvFqY9NYaZh5ShRUpW2Lwf49DF2eRMFisXX14qvtKX4LKeKq9KMpCGzdxg+YHyH2QXghd5vfA8xZqxCYFuLwAtELhBcAPmA4Iql3LmWh/37P9vyX9/pA9xy3H562CLYKj4OkjN87vtZOwoH6cgQasYbQnr1JxKWw1PshVF30HBZRkFYrYfn4rxENJm0UKRPlkNBHNnj2at5cjJVvILU1yM2Q8l+rvtGn/Ol5TDeG1jgA+M2hWZgCDTWyBXyxShC4h+SIFfhJ/L7P7enZYQSUIH1suP2b+sYreDrcpWRUi3H5MBR6XzlzJBXcfxAXRcnWLe9KSoH8am2x4uvbVUF4NWg+lEbbX2tf659X/HSSAjVHYKrLweLY7XZO5vNUXiF4gcMPwD8iNTuadCbF0gE2raUndPyjmp3nIuhokZuJbAUSBvbKXGEfCJIXy/g7pZP7ZMuOERKz3xE/sJyqHv07GbLoWpXgH3PY/Qhd4O9LVgeDxBvo1+5W6/WPlsOx/NTa1sOFcqwHJZZ5JmbkOwC07PlUF5ZDs3XDckOyJuH5667jVbCZDls/09Hy2EiRZo/thzt7zuKYLmbX5fFL7rf5dev9CF5+vqwUhxegZi5lxiGcucQwQmgLCJFWzJ4FLzhq9CwGWqp0wykQWQXwQbRe5TYG0R/Ts/Jwn5yR5EPMdypvIPyAcN3KP8mJt+hbcOgfGDRd8B+Anpl0TvWcofIXv/jX/fyn/9NOStwoxNM9Tgv2asfWZcC2W2IHOY3I4ldLNhqDzzvQk3zWE+OGivlF5ZDBWzzJZMHyyE+Ww7Fd1tX1ch5xPD1/96baxKODpZDErUIFmMfJejH85jR9JavHSyHQLh5wmreXjeLTEJNgT521LX45kMMy6HJk0STFWQS5J8KAXQjJOL1deexx8OD+vMkVeJpNUFcwMaRTwgee00x2lKqoLxXsEjkGRZj0U0hdxRViBYAqhJVZJ+BkeqhGSKxfOzDY6tbD5LFa1R7RJL61lPVgQcgV4CbgBvBW/ijf2DVd+pyheABq5vsVqnrg0UqBGQp3j7YK3BagccDKAWyAdirE+SHzxxy8WAHU0GJ3poVhVY77jfvQkbbRTCtJujOmaiedAgm3ntUHFZJWFgO8cJy+LzE0ax7sjvxfmU5bCERfLIc7m45xM1dPAfLYQ+tkGPLtVWLbW9OO8Yz5h73seXwuGsd3XKIlG+SIP8/SLG3hMSDC8rdUM+C9d2DA+bj0fNBRuaRPBkdJxeMpy13h0GMoYwKFpSq4D+th0xCCDZ5e3vH9e6rIlQegNwiJ/HUeosCFgrWMQYpTvEiuwA7jBU0Tz5XqVQxz7zEQ8gHRYzW9kxpRdG7lWXzz1TI3cTKAn77jVIfwOMeJ/wgw/MJ8uMGfIs9zlsFz6u/4r3C1oLCR8SGEQrDJotXmqclqJ5jsL/aMB+Hkv3Zcng8wf7SctjCLvhiy2FUk7YoqNUPExyTjJhWkwvaCE6zHPp4jy/xIrZVIB8Vgs+WQ4G5UDO3VVQh+94th4XA3m6ecap3JVv+l5bDRBLkH6/6RNq0Xz/lWrF/8/FGCcVSnm7iLUdwVIife0DsjXrBPPHB3oeU+HFwJHPP1slS9kjeeUDlHYIikMWrRHfVmKgRpkrxIXbFAyoGwmBEPa9ENUqt7DtppqdoywKaQR97PAeOPSo+s+clU/WAhd4BEIFsO/i2An+zsfpiq+Bfzi6YVAPfTsOhMis0babv7zkWPlsOD5+fxmPMWyMC+HF/Le6FboPZZTlYDlkKyl7dctiFmhgRmpRsQkevr/chg9BCqHmc9XjT5bGC/Luqu2fLYcuGjNxLfrUZsSf7JJIg/4SGpr/xgrgUWD4qHn9dQd1iWZN6ehifK85hESZfVKXyC7HmUAJ98bzMIKoGFdJtP9N2Kb9eawxc624vpXxfAuVN//CAHKJ6JBTduTqW6SYAVU90a1sCp2Oo7BX2l2/HP7jXQx7jc0jnEGqmER3j1JrAi7nFZ8thzOabQYovAmeJf09jT1FkQTpxayjZ6NKvVoOd/PhPOY9tiC8sh17sz8/JCbJbDreIO/tqkSEm0n1auCvTCaVbDsMB6q4dwBbFEq0A1OEzbJkYmlfxH3uoZFqSEolE4ssDZSKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQiCTKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEkmQiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIgkwkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIJEEmEolEEmQikUgkQSYSiUQSZCKRSPzZ+B+GrlwhibMxxQAAAABJRU5ErkJggg=="</span><span class="token punctuation">;</span>        <span class="token keyword">function</span> <span class="token function">Sakura</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        Sakura<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>cxt<span class="token punctuation">)</span> <span class="token punctuation">{</span>            cxt<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> xc <span class="token operator">=</span> <span class="token number">40</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>            cxt<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>            cxt<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>            cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">40</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">,</span> <span class="token number">40</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">)</span>            cxt<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        Sakura<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">></span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">></span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fnr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        SakuraList <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>sakura<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sakura<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>cxt<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>cxt<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token keyword">get</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> ret<span class="token punctuation">,</span> random<span class="token punctuation">;</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">case</span> <span class="token string">'x'</span><span class="token punctuation">:</span>                    ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'y'</span><span class="token punctuation">:</span>                    ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token punctuation">:</span>                    ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'r'</span><span class="token punctuation">:</span>                    ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'fnx'</span><span class="token punctuation">:</span>                    random <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>                    ret <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">0.5</span> <span class="token operator">*</span> random <span class="token operator">-</span> <span class="token number">1.7</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'fny'</span><span class="token punctuation">:</span>                    random <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.7</span>                    ret <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> y <span class="token operator">+</span> random<span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'fnr'</span><span class="token punctuation">:</span>                    random <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.03</span><span class="token punctuation">;</span>                    ret <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">return</span> r <span class="token operator">+</span> random<span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">function</span> <span class="token function">startSakura</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            requestAnimationFrame <span class="token operator">=</span> window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>msRequestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>oRequestAnimationFrame<span class="token punctuation">;</span>            <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                cxt<span class="token punctuation">;</span>            staticx <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>            canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>            canvas<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'position: fixed;left: 0;top: 0;pointer-events: none;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            canvas<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'canvas_sakura'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>            cxt <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> sakuraList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SakuraList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">var</span> sakura<span class="token punctuation">,</span> randomX<span class="token punctuation">,</span> randomY<span class="token punctuation">,</span> randomS<span class="token punctuation">,</span> randomR<span class="token punctuation">,</span> randomFnx<span class="token punctuation">,</span> randomFny<span class="token punctuation">;</span>                randomX <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                randomY <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                randomR <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                randomS <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                randomFnx <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fnx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                randomFny <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fny'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                randomFnR <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fnr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                sakura <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sakura</span><span class="token punctuation">(</span>randomX<span class="token punctuation">,</span> randomY<span class="token punctuation">,</span> randomS<span class="token punctuation">,</span> randomR<span class="token punctuation">,</span> <span class="token punctuation">{</span>                    x<span class="token punctuation">:</span> randomFnx<span class="token punctuation">,</span>                    y<span class="token punctuation">:</span> randomFny<span class="token punctuation">,</span>                    r<span class="token punctuation">:</span> randomFnR                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                sakura<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>cxt<span class="token punctuation">)</span><span class="token punctuation">;</span>                sakuraList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sakura<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            stop <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cxt<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>                sakuraList<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                sakuraList<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>cxt<span class="token punctuation">)</span><span class="token punctuation">;</span>                stop <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token punctuation">}</span>        window<span class="token punctuation">.</span>onresize <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> canvasSnow <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_snow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        img<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">startSakura</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">function</span> <span class="token function">stopp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>staticx<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"canvas_sakura"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                child<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>                window<span class="token punctuation">.</span><span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span>                staticx <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token function">startSakura</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p><a href="https://liang996.github.io/snowflake.html">樱花飘落在线演示</a></p><h2 id="3-3d烟花"><a href="#3-3d烟花" class="headerlink" title="3.3d烟花"></a>3.3d烟花</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html<span class="token operator">></span> <span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>3D烟花<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span>style<span class="token operator">></span>html<span class="token punctuation">,</span>body<span class="token punctuation">{</span> margin<span class="token punctuation">:</span>0px<span class="token punctuation">;</span> width<span class="token punctuation">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span> height<span class="token punctuation">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span> overflow<span class="token punctuation">:</span>hidden<span class="token punctuation">;</span> background<span class="token punctuation">:</span>#<span class="token number">000</span><span class="token punctuation">;</span><span class="token punctuation">}</span>#canvas<span class="token punctuation">{</span> width<span class="token punctuation">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span> height<span class="token punctuation">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span> <span class="token operator">&lt;</span>body<span class="token operator">></span><span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">"canvas"</span> width<span class="token operator">=</span><span class="token string">"825"</span> height<span class="token operator">=</span><span class="token string">"631"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">></span><span class="token operator">&lt;</span>script<span class="token operator">></span><span class="token keyword">function</span> <span class="token function">initVars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> pi<span class="token operator">=</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">;</span> ctx<span class="token operator">=</span>canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> canvas<span class="token punctuation">.</span>width<span class="token operator">=</span>canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span> canvas<span class="token punctuation">.</span>height<span class="token operator">=</span>canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span> cx<span class="token operator">=</span>canvas<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> cy<span class="token operator">=</span>canvas<span class="token punctuation">.</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> playerZ<span class="token operator">=</span><span class="token operator">-</span><span class="token number">25</span><span class="token punctuation">;</span> playerX<span class="token operator">=</span>playerY<span class="token operator">=</span>playerVX<span class="token operator">=</span>playerVY<span class="token operator">=</span>playerVZ<span class="token operator">=</span>pitch<span class="token operator">=</span>yaw<span class="token operator">=</span>pitchV<span class="token operator">=</span>yawV<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> scale<span class="token operator">=</span><span class="token number">600</span><span class="token punctuation">;</span> seedTimer<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>seedInterval<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>seedLife<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>gravity<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">02</span><span class="token punctuation">;</span> seeds<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> sparkPics<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> s<span class="token operator">=</span><span class="token string">"https://cantelope.org/NYE/"</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">10</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> sparkPic<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> sparkPic<span class="token punctuation">.</span>src<span class="token operator">=</span>s<span class="token operator">+</span><span class="token string">"spark"</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">".png"</span><span class="token punctuation">;</span> sparkPics<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sparkPic<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> sparks<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pow1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow1.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pow2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow2.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pow3<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow3.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pow4<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow4.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> frames <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">rasterizePoint</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">var</span> p<span class="token punctuation">,</span>d<span class="token punctuation">;</span> x<span class="token operator">-</span><span class="token operator">=</span>playerX<span class="token punctuation">;</span> y<span class="token operator">-</span><span class="token operator">=</span>playerY<span class="token punctuation">;</span> z<span class="token operator">-</span><span class="token operator">=</span>playerZ<span class="token punctuation">;</span> p<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> d<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token operator">+</span>z<span class="token operator">*</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> x<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>p<span class="token operator">-</span>yaw<span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">;</span> z<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>p<span class="token operator">-</span>yaw<span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">;</span> p<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> d<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>y<span class="token operator">*</span>y<span class="token operator">+</span>z<span class="token operator">*</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> y<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>p<span class="token operator">-</span>pitch<span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">;</span> z<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>p<span class="token operator">-</span>pitch<span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">;</span> <span class="token keyword">var</span> rx1<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">,</span>ry1<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>rx2<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>ry2<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>rx3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>ry3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>rx4<span class="token operator">=</span>x<span class="token punctuation">,</span>ry4<span class="token operator">=</span>z<span class="token punctuation">,</span>uc<span class="token operator">=</span><span class="token punctuation">(</span>ry4<span class="token operator">-</span>ry3<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>rx2<span class="token operator">-</span>rx1<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>rx4<span class="token operator">-</span>rx3<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>ry2<span class="token operator">-</span>ry1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>uc<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>d<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">var</span> ua<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span>rx4<span class="token operator">-</span>rx3<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>ry1<span class="token operator">-</span>ry3<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>ry4<span class="token operator">-</span>ry3<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>rx1<span class="token operator">-</span>rx3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>uc<span class="token punctuation">;</span> <span class="token keyword">var</span> ub<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span>rx2<span class="token operator">-</span>rx1<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>ry1<span class="token operator">-</span>ry3<span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>ry2<span class="token operator">-</span>ry1<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>rx1<span class="token operator">-</span>rx3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>uc<span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>z<span class="token punctuation">)</span>z<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">000000001</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>ua<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>ua<span class="token operator">&lt;</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>ub<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>ub<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span>cx<span class="token operator">+</span><span class="token punctuation">(</span>rx1<span class="token operator">+</span>ua<span class="token operator">*</span><span class="token punctuation">(</span>rx2<span class="token operator">-</span>rx1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>scale<span class="token punctuation">,</span> y<span class="token punctuation">:</span>cy<span class="token operator">+</span>y<span class="token operator">/</span>z<span class="token operator">*</span>scale<span class="token punctuation">,</span> d<span class="token punctuation">:</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token operator">*</span>x<span class="token operator">+</span>y<span class="token operator">*</span>y<span class="token operator">+</span>z<span class="token operator">*</span>z<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span>cx<span class="token operator">+</span><span class="token punctuation">(</span>rx1<span class="token operator">+</span>ua<span class="token operator">*</span><span class="token punctuation">(</span>rx2<span class="token operator">-</span>rx1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>scale<span class="token punctuation">,</span> y<span class="token punctuation">:</span>cy<span class="token operator">+</span>y<span class="token operator">/</span>z<span class="token operator">*</span>scale<span class="token punctuation">,</span> d<span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">spawnSeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> seed<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> seed<span class="token punctuation">.</span>x<span class="token operator">=</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">;</span> seed<span class="token punctuation">.</span>y<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">;</span> seed<span class="token punctuation">.</span>z<span class="token operator">=</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">;</span> seed<span class="token punctuation">.</span>vx<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">;</span> seed<span class="token punctuation">.</span>vy<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1.5</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//*(1+Math.random()/2);</span> seed<span class="token punctuation">.</span>vz<span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">1</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">;</span> seed<span class="token punctuation">.</span>born<span class="token operator">=</span>frames<span class="token punctuation">;</span> seeds<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>seed<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">splode</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">{</span> t<span class="token operator">=</span><span class="token number">5</span><span class="token operator">+</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span> sparkV<span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2.5</span><span class="token punctuation">;</span> type<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">switch</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span> pic1<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> pic1<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">do</span><span class="token punctuation">{</span> pic2<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>pic2<span class="token operator">==</span>pic1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> pic1<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">do</span><span class="token punctuation">{</span> pic2<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>pic2<span class="token operator">==</span>pic1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">do</span><span class="token punctuation">{</span> pic3<span class="token operator">=</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">while</span><span class="token punctuation">(</span>pic3<span class="token operator">==</span>pic1 <span class="token operator">||</span> pic3<span class="token operator">==</span>pic2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">for</span><span class="token punctuation">(</span>m<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>m<span class="token operator">&lt;</span>t<span class="token punctuation">;</span><span class="token operator">++</span>m<span class="token punctuation">)</span><span class="token punctuation">{</span> spark<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> spark<span class="token punctuation">.</span>x<span class="token operator">=</span>x<span class="token punctuation">;</span> spark<span class="token punctuation">.</span>y<span class="token operator">=</span>y<span class="token punctuation">;</span> spark<span class="token punctuation">.</span>z<span class="token operator">=</span>z<span class="token punctuation">;</span> p1<span class="token operator">=</span>pi<span class="token operator">*</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> p2<span class="token operator">=</span>pi<span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> v<span class="token operator">=</span>sparkV<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">6</span><span class="token punctuation">)</span> spark<span class="token punctuation">.</span>vx<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token operator">*</span>v<span class="token punctuation">;</span> spark<span class="token punctuation">.</span>vz<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token operator">*</span>v<span class="token punctuation">;</span> spark<span class="token punctuation">.</span>vy<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token operator">*</span>v<span class="token punctuation">;</span> <span class="token keyword">switch</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span> spark<span class="token punctuation">.</span>img<span class="token operator">=</span>sparkPics<span class="token punctuation">[</span>pic1<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> spark<span class="token punctuation">.</span>img<span class="token operator">=</span>sparkPics<span class="token punctuation">[</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">?</span>pic1<span class="token punctuation">:</span>pic2<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span> spark<span class="token punctuation">.</span>img<span class="token operator">=</span>sparkPics<span class="token punctuation">[</span>pic1<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> spark<span class="token punctuation">.</span>img<span class="token operator">=</span>sparkPics<span class="token punctuation">[</span>pic2<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> spark<span class="token punctuation">.</span>img<span class="token operator">=</span>sparkPics<span class="token punctuation">[</span>pic3<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> spark<span class="token punctuation">.</span>radius<span class="token operator">=</span><span class="token number">25</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">50</span><span class="token punctuation">;</span> spark<span class="token punctuation">.</span>alpha<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> spark<span class="token punctuation">.</span>trail<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> sparks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>spark<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span> pow<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow1.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span> pow<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow2.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span> pow<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow3.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span> pow<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Audio</span><span class="token punctuation">(</span>s<span class="token operator">+</span><span class="token string">"pow4.ogg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> d<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">-</span>playerX<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>x<span class="token operator">-</span>playerX<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>y<span class="token operator">-</span>playerY<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>y<span class="token operator">-</span>playerY<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>z<span class="token operator">-</span>playerZ<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>z<span class="token operator">-</span>playerZ<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pow<span class="token punctuation">.</span>volume<span class="token operator">=</span><span class="token number">1.5</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>d<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> pow<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">doLogic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">if</span><span class="token punctuation">(</span>seedTimer<span class="token operator">&lt;</span>frames<span class="token punctuation">)</span><span class="token punctuation">{</span> seedTimer<span class="token operator">=</span>frames<span class="token operator">+</span>seedInterval<span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token function">spawnSeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>seeds<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vy<span class="token operator">+</span><span class="token operator">=</span>gravity<span class="token punctuation">;</span> seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token operator">=</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vx<span class="token punctuation">;</span> seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">+</span><span class="token operator">=</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vy<span class="token punctuation">;</span> seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token operator">+</span><span class="token operator">=</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vz<span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>frames<span class="token operator">-</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>born<span class="token operator">></span>seedLife<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token function">splode</span><span class="token punctuation">(</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> seeds<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sparks<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">></span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>radius<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">{</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">.</span><span class="token number">01</span><span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>radius<span class="token operator">/</span><span class="token operator">=</span><span class="token number">1.02</span><span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vy<span class="token operator">+</span><span class="token operator">=</span>gravity<span class="token punctuation">;</span> point<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> point<span class="token punctuation">.</span>x<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span> point<span class="token punctuation">.</span>y<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span> point<span class="token punctuation">.</span>z<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span> x<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">[</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span> y<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">[</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span> z<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">[</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">;</span> d<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>y<span class="token operator">-</span>y<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>y<span class="token operator">-</span>y<span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>z<span class="token operator">-</span>z<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>z<span class="token operator">-</span>z<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d<span class="token operator">></span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">{</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">5</span><span class="token punctuation">)</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vx<span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">+</span><span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vy<span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token operator">+</span><span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vz<span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vx<span class="token operator">/</span><span class="token operator">=</span><span class="token number">1.075</span><span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vy<span class="token operator">/</span><span class="token operator">=</span><span class="token number">1.075</span><span class="token punctuation">;</span> sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>vz<span class="token operator">/</span><span class="token operator">=</span><span class="token number">1.075</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span> sparks<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> p<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">atan2</span><span class="token punctuation">(</span>playerX<span class="token punctuation">,</span>playerZ<span class="token punctuation">)</span><span class="token punctuation">;</span> d<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>playerX<span class="token operator">*</span>playerX<span class="token operator">+</span>playerZ<span class="token operator">*</span>playerZ<span class="token punctuation">)</span><span class="token punctuation">;</span> d<span class="token operator">+</span><span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>frames<span class="token operator">/</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1.25</span><span class="token punctuation">;</span> t<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>frames<span class="token operator">/</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">40</span><span class="token punctuation">;</span> playerX<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>p<span class="token operator">+</span>t<span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">;</span> playerZ<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>p<span class="token operator">+</span>t<span class="token punctuation">)</span><span class="token operator">*</span>d<span class="token punctuation">;</span> yaw<span class="token operator">=</span>pi<span class="token operator">+</span>p<span class="token operator">+</span>t<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">rgb</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">var</span> r <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">var</span> g <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">+</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>col<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">.</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token string">"#"</span><span class="token operator">+</span>r<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token operator">+</span>g<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token operator">+</span>b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>cx<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span>cy<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">"#ff8"</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">+</span><span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">100</span><span class="token punctuation">;</span>j<span class="token operator">+</span><span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span> x<span class="token operator">=</span>i<span class="token punctuation">;</span>z<span class="token operator">=</span>j<span class="token punctuation">;</span>y<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">;</span> point<span class="token operator">=</span><span class="token function">rasterizePoint</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>d<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> size<span class="token operator">=</span><span class="token number">250</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>point<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x <span class="token operator">*</span> x <span class="token operator">+</span> z <span class="token operator">*</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span> a <span class="token operator">=</span> <span class="token number">0.75</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>d <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.75</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span> ctx<span class="token punctuation">.</span>globalAlpha <span class="token operator">=</span> a<span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span>y<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>size<span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>seeds<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> point<span class="token operator">=</span><span class="token function">rasterizePoint</span><span class="token punctuation">(</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>d<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> size<span class="token operator">=</span><span class="token number">200</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>point<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span>y<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>size<span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> point1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>sparks<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span> point<span class="token operator">=</span><span class="token function">rasterizePoint</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>d<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> size<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>radius<span class="token operator">*</span><span class="token number">200</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>point<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">&lt;</span><span class="token number">0</span><span class="token punctuation">)</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span> point1<span class="token punctuation">.</span>x<span class="token operator">=</span>point<span class="token punctuation">.</span>x<span class="token punctuation">;</span> point1<span class="token punctuation">.</span>y<span class="token operator">=</span>point<span class="token punctuation">.</span>y<span class="token punctuation">;</span> <span class="token keyword">switch</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>img<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#f84"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#84f"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#8ff"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#fff"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#4f8"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#f44"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#f84"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#84f"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#fff"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token keyword">case</span> sparkPics<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">:</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span><span class="token string">"#44f"</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">;</span>j<span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token operator">--</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span> point2<span class="token operator">=</span><span class="token function">rasterizePoint</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span><span class="token punctuation">(</span>point2<span class="token punctuation">.</span>d<span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span> ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span>j<span class="token operator">/</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token operator">*</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>point1<span class="token punctuation">.</span>x<span class="token punctuation">,</span>point1<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span>lineWidth<span class="token operator">=</span><span class="token number">1</span><span class="token operator">+</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>radius<span class="token operator">*</span><span class="token number">10</span><span class="token operator">/</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>trail<span class="token punctuation">.</span>length<span class="token operator">-</span>j<span class="token punctuation">)</span><span class="token operator">/</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>point2<span class="token punctuation">.</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>point2<span class="token punctuation">.</span>x<span class="token punctuation">,</span>point2<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> point1<span class="token punctuation">.</span>x<span class="token operator">=</span>point2<span class="token punctuation">.</span>x<span class="token punctuation">;</span> point1<span class="token punctuation">.</span>y<span class="token operator">=</span>point2<span class="token punctuation">.</span>y<span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha<span class="token punctuation">;</span> ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>sparks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>img<span class="token punctuation">,</span>point<span class="token punctuation">.</span>x<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>point<span class="token punctuation">.</span>y<span class="token operator">-</span>size<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>size<span class="token punctuation">,</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">if</span><span class="token punctuation">(</span>frames<span class="token operator">></span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">{</span> seedTimer<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> frames<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> frames<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">doLogic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>frame<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span> canvas<span class="token punctuation">.</span>width<span class="token operator">=</span>canvas<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span> canvas<span class="token punctuation">.</span>height<span class="token operator">=</span>canvas<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span> cx<span class="token operator">=</span>canvas<span class="token punctuation">.</span>width<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> cy<span class="token operator">=</span>canvas<span class="token punctuation">.</span>height<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">initVars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p><a href="https://liang996.github.io/3d%E7%83%9F%E8%8A%B1.html">3d烟花在线演示</a></p><h2 id="情人节表白"><a href="#情人节表白" class="headerlink" title="情人节表白"></a>情人节表白</h2><pre class=" language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">></span><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">"en"</span><span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span>    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>title<span class="token operator">></span>情人节表白<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span>    <span class="token operator">&lt;</span>style<span class="token operator">></span>        <span class="token operator">*</span> <span class="token punctuation">{</span>            margin<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            padding<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        html<span class="token punctuation">,</span>        body <span class="token punctuation">{</span>            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">/*text-align: center;*/</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span> #ffc5b3<span class="token punctuation">;</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            top<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>            left<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>            transform<span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">-</span>webkit<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">-</span>ms<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">-</span>moz<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">-</span>o<span class="token operator">-</span>transform<span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            background<span class="token operator">-</span>image<span class="token punctuation">:</span> radial<span class="token operator">-</span><span class="token function">gradient</span><span class="token punctuation">(</span>#ffeded<span class="token punctuation">,</span> #ffc7c7<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>textCon <span class="token punctuation">{</span>            <span class="token operator">-</span>webkit<span class="token operator">-</span>user<span class="token operator">-</span>select<span class="token punctuation">:</span> none<span class="token punctuation">;</span>            <span class="token operator">-</span>moz<span class="token operator">-</span>user<span class="token operator">-</span>select<span class="token punctuation">:</span> none<span class="token punctuation">;</span>            <span class="token operator">-</span>ms<span class="token operator">-</span>user<span class="token operator">-</span>select<span class="token punctuation">:</span> none<span class="token punctuation">;</span>            user<span class="token operator">-</span>select<span class="token punctuation">:</span> none<span class="token punctuation">;</span>            width<span class="token punctuation">:</span> 700px<span class="token punctuation">;</span>            height<span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>            margin<span class="token punctuation">:</span> 50px auto<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>text <span class="token punctuation">{</span>            font<span class="token operator">-</span>size<span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>heart <span class="token punctuation">{</span>            width<span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>            height<span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span> #cc2a5d<span class="token punctuation">;</span>            margin<span class="token punctuation">:</span> 200px auto<span class="token punctuation">;</span>            position<span class="token punctuation">:</span> relative<span class="token punctuation">;</span>            transform<span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            animation<span class="token punctuation">:</span> heart 1s ease<span class="token operator">-</span><span class="token keyword">in</span> infinite<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>heart<span class="token punctuation">:</span><span class="token punctuation">:</span>before<span class="token punctuation">,</span>        <span class="token punctuation">.</span>heart<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>            content<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span> #cc2a5d<span class="token punctuation">;</span>            border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>heart<span class="token punctuation">:</span><span class="token punctuation">:</span>before <span class="token punctuation">{</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            left<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            transform<span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>heart<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            left<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            transform<span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        @keyframes heart <span class="token punctuation">{</span>            <span class="token number">0</span><span class="token operator">%</span> <span class="token punctuation">{</span>                transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>                opacity<span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token number">50</span><span class="token operator">%</span> <span class="token punctuation">{</span>                transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>                opacity<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token number">100</span><span class="token operator">%</span> <span class="token punctuation">{</span>                transform<span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>                opacity<span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>textCon <span class="token punctuation">.</span>item <span class="token punctuation">{</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            opacity<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span> #cc2a5d<span class="token punctuation">;</span>            transform<span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            animation<span class="token punctuation">:</span> hearts 3s ease<span class="token operator">-</span><span class="token keyword">in</span> infinite<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>textCon <span class="token punctuation">.</span>item<span class="token punctuation">:</span><span class="token punctuation">:</span>before<span class="token punctuation">,</span>        <span class="token punctuation">.</span>textCon <span class="token punctuation">.</span>item<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>            content<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>            width<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>            background<span class="token operator">-</span>color<span class="token punctuation">:</span> #cc2a5d<span class="token punctuation">;</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>            top<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            left<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>            border<span class="token operator">-</span>radius<span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>textCon <span class="token punctuation">.</span>item<span class="token punctuation">:</span><span class="token punctuation">:</span>before <span class="token punctuation">{</span>            transform<span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>textCon <span class="token punctuation">.</span>item<span class="token punctuation">:</span><span class="token punctuation">:</span>after <span class="token punctuation">{</span>            transform<span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        @keyframes hearts <span class="token punctuation">{</span>            <span class="token number">0</span><span class="token operator">%</span> <span class="token punctuation">{</span>                opacity<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>                transform<span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">%</span><span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token number">20</span><span class="token operator">%</span> <span class="token punctuation">{</span>                opacity<span class="token punctuation">:</span> <span class="token number">0.8</span><span class="token punctuation">;</span>                transform<span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token operator">%</span><span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token number">100</span><span class="token operator">%</span> <span class="token punctuation">{</span>                opacity<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>                transform<span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1000</span><span class="token operator">%</span><span class="token punctuation">)</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>days<span class="token operator">-</span>label <span class="token punctuation">{</span>            font<span class="token operator">-</span>size<span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>seconds <span class="token punctuation">{</span>            margin<span class="token operator">-</span>top<span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>            font<span class="token operator">-</span>size<span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>            font<span class="token operator">-</span>family<span class="token punctuation">:</span> <span class="token string">"Monda_bo"</span><span class="token punctuation">,</span> Georgia<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>            width<span class="token punctuation">:</span> auto<span class="token punctuation">;</span>            text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>seconds<span class="token operator">-</span>label <span class="token punctuation">{</span>            margin<span class="token operator">-</span>top<span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>            font<span class="token operator">-</span>size<span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>            font<span class="token operator">-</span>family<span class="token punctuation">:</span> <span class="token string">"Monda_no"</span><span class="token punctuation">,</span> Georgia<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>            width<span class="token punctuation">:</span> auto<span class="token punctuation">;</span>            text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>container <span class="token punctuation">{</span>            position<span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>days <span class="token punctuation">{</span>            font<span class="token operator">-</span>size<span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>            width<span class="token punctuation">:</span> auto<span class="token punctuation">;</span>            text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span>words <span class="token punctuation">{</span>            font<span class="token operator">-</span>size<span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>            font<span class="token operator">-</span>family<span class="token punctuation">:</span> <span class="token string">'Regular'</span><span class="token punctuation">,</span> cursive<span class="token punctuation">;</span>            width<span class="token punctuation">:</span> auto<span class="token punctuation">;</span>            text<span class="token operator">-</span>align<span class="token punctuation">:</span> center<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"textCon"</span><span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"words"</span><span class="token operator">></span>情人节快乐<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"days"</span><span class="token operator">></span>            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"days-number"</span><span class="token operator">></span><span class="token number">1921</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>            <span class="token operator">&lt;</span>span cl ass<span class="token operator">=</span><span class="token string">"days-label"</span><span class="token operator">></span>天<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"seconds"</span><span class="token operator">></span><span class="token number">15</span> hours <span class="token number">24</span> minutes <span class="token number">30</span> seconds<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"heart"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>        <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token string">"2019-05-29 18:06:00"</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/[- :]/</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//改这里</span>        <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'textCon'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> width <span class="token operator">=</span> box<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>            <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>width <span class="token operator">/</span> <span class="token number">50</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">var</span> size <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token function">ran</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">var</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                ele<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> size <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> size <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>                ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token function">ran</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">;</span>                ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token function">ran</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">;</span>                ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>animationDelay <span class="token operator">=</span> <span class="token function">ran</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token string">'s'</span><span class="token punctuation">;</span>                box<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">function</span> <span class="token function">ran</span><span class="token punctuation">(</span>min<span class="token punctuation">,</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>            min <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>            max <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">function</span> <span class="token function">timer_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">var</span> start_time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// var start_time =  new Date(beginTime);</span>            <span class="token comment" spellcheck="true">// var start_time = Date.parse(beginTime);</span>            <span class="token keyword">var</span> duration <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start_time<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> seconds <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>duration <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>                seconds <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> seconds<span class="token punctuation">;</span>            duration <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>duration <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> minutes <span class="token operator">=</span> duration <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>minutes <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>                minutes <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> minutes<span class="token punctuation">;</span>            duration <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>duration <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> hours <span class="token operator">=</span> duration <span class="token operator">%</span> <span class="token number">24</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>hours <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span>                hours <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> hours<span class="token punctuation">;</span>            duration <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>duration <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">var</span> days <span class="token operator">=</span> duration<span class="token punctuation">;</span>            document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'days-number'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> days<span class="token punctuation">)</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'seconds'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token punctuation">(</span>hours <span class="token operator">+</span> <span class="token string">" 时 "</span> <span class="token operator">+</span> minutes <span class="token operator">+</span> <span class="token string">" 分 "</span> <span class="token operator">+</span> seconds <span class="token operator">+</span> <span class="token string">" 秒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span>timer_start<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">timer_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>    <span class="token operator">&lt;</span>script<span class="token operator">></span>        <span class="token operator">!</span><span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">,</span> t<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">function</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token string">".love{width: 20px;height: 20px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.love:after,.love:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.love:after{top: -10px;}.love:before{left: -10px;}"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> e <span class="token operator">&lt;</span> d<span class="token punctuation">.</span>length<span class="token punctuation">;</span> e<span class="token operator">++</span><span class="token punctuation">)</span>d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">)</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token operator">--</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>scale <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">004</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha <span class="token operator">-</span><span class="token operator">=</span> <span class="token punctuation">.</span><span class="token number">013</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">"left:"</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">"px;top:"</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">"px;opacity:"</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>alpha <span class="token operator">+</span> <span class="token string">";transform:scale("</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>scale <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>scale <span class="token operator">+</span> <span class="token string">") rotate(45deg);background:"</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">";z-index:99999"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function">o</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token string">"function"</span> <span class="token operator">==</span> <span class="token keyword">typeof</span> e<span class="token punctuation">.</span>onclick <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>onclick<span class="token punctuation">;</span> e<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> t <span class="token operator">&amp;&amp;</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">i</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function">i</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> a<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"love"</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> el<span class="token punctuation">:</span> a<span class="token punctuation">,</span> x<span class="token punctuation">:</span> e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">,</span> scale<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> alpha<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> a <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"style"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> a<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"text/css"</span><span class="token punctuation">;</span> <span class="token keyword">try</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">t</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> a<span class="token punctuation">.</span>styleSheet<span class="token punctuation">.</span>cssText <span class="token operator">=</span> e <span class="token punctuation">}</span> t<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"head"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">function</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">"#cc2a5d"</span> <span class="token punctuation">}</span> <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> e<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> e<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> e<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> e<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span> e<span class="token punctuation">.</span>oRequestAnimationFrame <span class="token operator">||</span> e<span class="token punctuation">.</span>msRequestAnimationFrame <span class="token operator">||</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span> <span class="token number">1e3</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> document<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span></code></pre><p><a href="https://liang996.github.io/%E8%A1%A8%E7%99%BD%E7%89%B9%E6%95%88.html">情人节表白在线演示</a></p>]]></content>
      
      
      <categories>
          
          <category> 特效 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实现深浅拷贝的几种方式</title>
      <link href="2020/122132924.html"/>
      <url>2020/122132924.html</url>
      
        <content type="html"><![CDATA[<h2 id="实现浅拷贝-6种"><a href="#实现浅拷贝-6种" class="headerlink" title="实现浅拷贝(6种)"></a>实现浅拷贝(6种)</h2><p><strong>1、ES6：object.assign()</strong></p><p> Object.assign方法用于对象的合并，将源对象（source）的所有可枚举属性，复制到目标对象（target）。</p><p>Object.assign方法的第一个参数是目标对象，后面的参数都是源对象。(如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性)。</p><ul><li>语法：</li></ul><pre class=" language-js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token function">target</span><span class="token punctuation">(</span>目标对象<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">sources</span><span class="token punctuation">(</span>源对象<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><ul><li>实例：</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> copy <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { a: 1 }</span></code></pre><ul><li>Object.assign使用注意事项：</li></ul><ol><li><p>只拷贝源对象的自身属性（不拷贝继承属性）</p></li><li><p>不会拷贝对象不可枚举的属性</p></li><li><p>undefined和null无法转成对象，他们不能作为Object.assign参数，但是可以作为源对象</p></li><li><p>属性名为Symbol 值的属性，可以被Object.assign拷贝</p></li></ol><p><strong>2、通过for in方法</strong></p><p>for…in 语句用于遍历数组或者对象的属性（对数组或者对象的属性进行循环操作）。<br>for … in 循环中的代码每执行一次，就会对数组的元素或者对象的属性进行一次操作。</p><ul><li>语法：<pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span>变量 <span class="token keyword">in</span> 对象<span class="token punctuation">)</span><span class="token punctuation">{</span>  在此执行代码<span class="token punctuation">}</span></code></pre></li><li>实例：<pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>b<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//{ a: 1, b: 2 }</span></code></pre></li></ul><p><strong>3.通过Es6 扩展运算符…方法</strong></p><p>对象中的扩展运算符(…)用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中,如果将扩展运算符用于数组赋值，只能放在参数的最后一位，否则会报错。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>bar <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { a: 1, b: 2 }</span></code></pre><p>上述方法实际上等价于:</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> baz <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// { a: 1, b: 2 }</span></code></pre><p><strong>4.直接用赋值运算符（=）</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    b<span class="token operator">=</span>a<span class="token punctuation">;</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//[ 1, 1, 2, 3, 4 ] [ 1, 1, 2, 3, 4 ]</span></code></pre><p><strong>5.用数组方法slice</strong></p><p>slice() 方法可从已有的数组中返回选定的元素。</p><ul><li>语法</li></ul><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span></code></pre><p>start:    必需。规定从何处开始选取。如果是负数，那么它规定从数组尾部开始算起的位置。也就是说，-1 指最后一个元素，-2 指倒数第二个元素，以此类推。</p><p>end    ：可选。规定从何处结束选取。该参数是数组片断结束处的数组下标。如果没有指定该参数，那么切分的数组包含从 start 到数组结束的所有元素。如果这个参数是负数，那么它规定的是从数组尾部开始算起的元素。</p><ul><li>返回值：</li></ul><p>返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素。</p><ul><li>实例</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>b<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token keyword">let</span> array1 <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array1<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ { a: 1 }, { b: 2 } ]</span></code></pre><p><strong>6.用数组方法concat</strong></p><p>concat() 方法用于连接两个或多个数组。</p><ul><li>语法</li></ul><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arrayX<span class="token punctuation">,</span>arrayX<span class="token punctuation">,</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">,</span>arrayX<span class="token punctuation">)</span></code></pre><p>arrayX    必需。该参数可以是具体的值，也可以是数组对象。可以是任意多个。</p><ul><li>返回值<br>返回一个新的数组。该数组是通过把所有 arrayX 参数添加到 arrayObject 中生成的。如果要进行 concat() 操作的参数是数组，那么添加的是数组中的元素，而不是数组。</li></ul><ul><li>实例</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>b<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token keyword">let</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array1<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ { a: 1 }, { b: 2 } ]</span></code></pre><p>但是浅拷贝存在一个问题，那就时拷贝的地址存在共享问题，属性值发生改变时，两者都会受影响，那么深拷贝就来了</p><h2 id="实现深拷贝-5种"><a href="#实现深拷贝-5种" class="headerlink" title="实现深拷贝(5种)"></a>实现深拷贝(5种)</h2><p><strong>1.通过JSON.parse( )和JSON.stringify( )</strong></p><p>JSON.parse() 方法用于将一个 JSON 字符串转换为对象。</p><ul><li>语法<pre class=" language-js"><code class="language-js">JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>text<span class="token punctuation">[</span><span class="token punctuation">,</span> reviver<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></li><li>参数说明：</li></ul><p>text:必需， 一个有效的 JSON 字符串。<br>reviver: 可选，一个转换结果的函数， 将为对象的每个成员调用此函数。</p><ul><li>返回值：<br>返回给定 JSON 字符串转换后的对象。</li></ul><ul><li>实例：</li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    a<span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>    b<span class="token punctuation">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">let</span> obj1 <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>obj1<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">"王五"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>obj1<span class="token punctuation">)</span></code></pre><p>结果：</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//{ a: '张三', b: '李四' } </span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// {"a":"王五","b":"李四"}</span></code></pre><p><strong>补充：JSON.stringify()</strong></p><p>JSON.stringify() 方法用于将 JavaScript 值转换为 JSON 字符串。</p><ul><li>语法</li></ul><pre class=" language-js"><code class="language-js">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span><span class="token punctuation">,</span> replacer<span class="token punctuation">[</span><span class="token punctuation">,</span> space<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><p>value:必需， 要转换的 JavaScript 值（通常为对象或数组）。</p><ul><li>缺点：</li><li>无法实现对对象中方法的深拷贝，会显示为undefined</li></ul><p><strong>2.手动实现深拷贝</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>   a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>   b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span>   a<span class="token punctuation">:</span> obj<span class="token punctuation">.</span>a<span class="token punctuation">,</span>   b<span class="token punctuation">:</span> obj<span class="token punctuation">.</span>b<span class="token punctuation">}</span>newObj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//3</span></code></pre><p><strong>3.使用扩展运算符实现深拷贝</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token keyword">var</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj<span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token number">3</span> <span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>newObj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//{ a: 1, b: 2 } { a: 1, b: 3 }</span></code></pre><p><strong>4.用slice实现对数组的深拷贝</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">var</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组的原始值："</span> <span class="token operator">+</span> arr1 <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数组的原始值：1,2,3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组的新值："</span> <span class="token operator">+</span> arr2 <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数组的新值：1,4,3</span></code></pre><p><strong>5.concat实现对数组的深拷贝</strong></p><p>当数组里面的值是基本数据类型，比如String，Number，Boolean时，属于深拷贝</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>arr2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组的原始值："</span> <span class="token operator">+</span> arr1 <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数组的原始值：1,3,5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组的新值："</span> <span class="token operator">+</span> arr2 <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数组的新值：1,2,5</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js浅拷贝与深拷贝理解</title>
      <link href="2020/121962661.html"/>
      <url>2020/121962661.html</url>
      
        <content type="html"><![CDATA[<h2 id="深拷贝与浅拷贝理解"><a href="#深拷贝与浅拷贝理解" class="headerlink" title="深拷贝与浅拷贝理解"></a>深拷贝与浅拷贝理解</h2><p><strong>浅拷贝</strong>：浅拷贝会对对象逐个成员依次拷贝，但只复制内存地址，而不复制对象本身，新旧对象成员还是共享同一内存；</p><p><strong>深拷贝</strong>：会另外创建一个一模一样的对象，新对象跟原对象不共享内存，修改新对象不会改到原对象。</p><p><strong>补充1</strong>：如果是基本数据类型，名字和值都会储存在栈内存中。如果是引用数据类型，名字存在栈内存中，值存在堆内存中，但是栈内存会提供一个引用的地址指向堆内存中的值</p><p><strong>补充2</strong>：深浅拷贝是相对于引用类型的，以便于我们对引用类型父对象的保存</p><h2 id="深拷贝与浅拷贝区别"><a href="#深拷贝与浅拷贝区别" class="headerlink" title="深拷贝与浅拷贝区别"></a>深拷贝与浅拷贝区别</h2><p><strong>相同点</strong>：深拷贝和浅拷贝都只针对引用数据类型。</p><p><strong>不同点</strong>：浅拷贝只拷贝一层对象的属性，而深拷贝则递归拷贝了所有层级。</p><h2 id="浅拷贝例子及解析"><a href="#浅拷贝例子及解析" class="headerlink" title="浅拷贝例子及解析"></a>浅拷贝例子及解析</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token keyword">var</span> b <span class="token operator">=</span> ab<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//[3, 2, 3]</span></code></pre><p>对数组b进行修改时，而a内数据也会随之改变。这种直接赋值的方式就是浅拷贝现象。</p><p>因为JavaScript存储对象都是存地址的，所以浅拷贝会导致 a 和b 指向同一块内存地址，当修改b中的数据时，由于a也指向此处，所以a的数据也就被“修改了”。</p><h2 id="深拷贝例子及解析"><a href="#深拷贝例子及解析" class="headerlink" title="深拷贝例子及解析"></a>深拷贝例子及解析</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">"张山"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">14</span> <span class="token punctuation">}</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> age<span class="token punctuation">:</span> a<span class="token punctuation">.</span>age <span class="token punctuation">}</span>b<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"李四"</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//{ name: '张山', age: 14 } { name: '李四', age: 14 }</span></code></pre><p>可以看出，对数组b进行修改时，而a内数据不会随之改变。这种直接赋值的方式就是深拷贝现象。</p><p>因为深拷贝不会导致 a 和b 指向同一块内存地址，而是会另外创造一个一模一样的对象，新对象跟原对象不共享堆内存，所以修改b中的数据时，不会改变原对象a数据</p><h2 id="形象总结"><a href="#形象总结" class="headerlink" title="形象总结"></a>形象总结</h2><p><strong>浅拷贝</strong>：</p><p>a同学有一台笔记本电脑并且配置了触感舒爽的鼠标、按键响亮的机械键盘等。b同学没钱买电脑，但是又很想体验，所以先买了和a同学一样的鼠标键盘自个先看着爽。然后向a同学借电脑过来玩。a同学和b同学各自的鼠标键盘出了啥问题，两个人之间互不影响对方的使用。而对电脑的操作就是谁最后操作了电脑，电脑就是显示最后那个人的操作界面（数据修改）。</p><p><strong>深拷贝</strong>：<br>a同学有笔记本+全套装备，b同学羡慕不已，自己让a同学照着买了一整套一模一样的给自己，但是他们各自的使用电脑情况，取决于他们各自的操作，电脑之间互不影响（数据结果）。</p>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react事件绑定的方法总结</title>
      <link href="2020/121834248.html"/>
      <url>2020/121834248.html</url>
      
        <content type="html"><![CDATA[<h2 id="React事件绑定"><a href="#React事件绑定" class="headerlink" title="React事件绑定"></a>React事件绑定</h2><p>由于类的方法默认不会绑定this，因此在调用的时候如果忘记绑定，this的值将会是undefined。<br>通常如果不是直接调用，应该为方法绑定this</p><p>下面是我练习react事件绑定的方法例子,联合用到了最常见的4种写法</p><pre><code>import React, { Component, Fragment } from 'react';class BindDemo extends React.Component {    constructor(props) {        super(props);        this.state = {            inputValue: '请输入喜欢的明星',            list: ['王力宏', '林俊杰'],        };        // 1. 在构造函数中使用bind绑定this        this.inputChange = this.inputChange.bind(this);    }    //    inputChange(e) {        console.log(' e.target.value,,,,', e.target.value);        this.setState({            inputValue: e.target.value,        });    }    //删除选中的单项    deleteItem(index) {        let list = this.state.list;        list.splice(index, 1);        this.setState({            list: list,        });    }    //删除选中的单项    deleteItem1 = (index) =&gt; {        let list = this.state.list;        list.splice(index, 1);        this.setState({            list: list,        });    };    //增加列表项    addList() {        this.setState({            list: [...this.state.list, this.state.inputValue],        });    }    render() {        return (            &lt;Fragment&gt;                &lt;div&gt;                    &lt;input value={this.state.inputValue} onChange={this.inputChange} /&gt;                    &lt;button onClick={this.addList.bind(this)}&gt; 增加明星 &lt;/button&gt;{' '}                    {/** 2. 在调用的时候使用bind绑定this*/}                &lt;/div&gt;                &lt;ul&gt;                    {this.state.list.map((item, index) =&gt; {                        return (                            &lt;li                                key={index + item}                                // onClick={(index) =&gt; { this.deleteItem(index) }}//3.在调用的时候使用箭头函数绑定this                                //或                                onClick={this.deleteItem1} //4.使用属性初始化器语法绑定this(实验性)                            &gt;                                {item}                            &lt;/li&gt;                        );                    })}                &lt;/ul&gt;            &lt;/Fragment&gt;        );    }}export default BindDemo;</code></pre><h2 id="1-在构造函数中使用bind绑定this"><a href="#1-在构造函数中使用bind绑定this" class="headerlink" title="1. 在构造函数中使用bind绑定this"></a>1. 在构造函数中使用bind绑定this</h2><p> 优点为仅需要一次绑定，不需要每次调用去执行绑定。</p><pre><code>class Button extends React.Component {constructor(props) {    super(props);    this.handleClick = this.handleClick.bind(this);  }  handleClick(){    console.log('this is:', this);  }  render() {    return (      &lt;button onClick={this.handleClick}&gt;        Click me      &lt;/button&gt;    );  }}</code></pre><h2 id="2-在调用的时候使用bind绑定this"><a href="#2-在调用的时候使用bind绑定this" class="headerlink" title="2. 在调用的时候使用bind绑定this"></a>2. 在调用的时候使用bind绑定this</h2><pre><code>class Button extends React.Component {  handleClick(){    console.log('this is:', this);  }  render() {    return (      &lt;button onClick={this.handleClick.bind(this)}&gt;        Click me      &lt;/button&gt;    );  }}</code></pre><h2 id="3-在调用的时候使用箭头函数绑定this"><a href="#3-在调用的时候使用箭头函数绑定this" class="headerlink" title="3. 在调用的时候使用箭头函数绑定this"></a>3. 在调用的时候使用箭头函数绑定this</h2><pre><code>class Button extends React.Component {  handleClick(){    console.log('this is:', this);  }  render() {    return (      &lt;button onClick={()=&gt;this.handleClick()}&gt;        Click me      &lt;/button&gt;    );  }}</code></pre><h2 id="4-使用属性初始化器语法绑定this"><a href="#4-使用属性初始化器语法绑定this" class="headerlink" title="4. 使用属性初始化器语法绑定this"></a>4. 使用属性初始化器语法绑定this</h2><pre><code>class Button extends React.Component {  handleClick=()=&gt;{    console.log('this is:', this);  }  render() {    return (      &lt;button onClick={this.handleClick}&gt;        Click me      &lt;/button&gt;    );  }}</code></pre><h2 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h2><p><strong>方式2和方式3都是在调用的时候再绑定this。</strong></p><p><strong>优点</strong>：写法比较简单，当组件中没有state的时候就不需要添加类构造函数来绑定this</p><p><strong>缺点</strong>：每一次调用的时候都会生成一个新的方法实例，因此对性能有影响，并且当这个函数作为属性值传入低阶组件的时候，这些组件可能会进行额外的重新渲染，因为每一次都是新的方法实例作为的新的属性传递。</p><p><strong>方式1在类构造函数中绑定this，调用的时候不需要再绑定</strong></p><p><strong>优点</strong>：只会生成一个方法实例，并且绑定一次之后如果多次用到这个方法也不需要再绑定。<br>缺点：即使不用到state，也需要添加类构造函数来绑定this，代码量多一点。。。</p><p><strong>方式4</strong>：利用属性初始化语法，将方法初始化为箭头函数，因此在创建函数的时候就绑定了this。</p><p><strong>优点</strong>：创建方法就绑定this，不需要在类构造函数中绑定，调用的时候不需要再作绑定。结合了方式1、方式2、方式3的优点<br><strong>缺点</strong>：目前仍然是实验性语法，需要用babel转译</p><h2 id="总结1"><a href="#总结1" class="headerlink" title="总结1"></a>总结1</h2><ol><li><p>方式1是官方推荐的绑定方式，也是性能最好的方式。</p></li><li><p>方式2和方式3会有性能影响并且当方法作为属性传递给子组件的时候会引起重渲问题。</p></li><li><p>方式4目前属于实验性语法，但是是最好的绑定方式，需要结合bable转译</p></li></ol><h2 id="总结2"><a href="#总结2" class="headerlink" title="总结2"></a>总结2</h2><ol><li><p>构造函数内绑定：<br>在构造函数 constructor 内绑定this，好处是仅需要绑定一次，避免每次渲染时都要重新绑定，函数在别处复用时也无需再次绑定，需要注意的是，使用这种方式要在构造函数中为事件回调函数绑定this: this.doAction = this.doAction.bind(this)，否则doAction中的this是undefined。这是因为ES6 语法的缘故，ES6 的 Class 构造出来的对象上的方法默认不绑定到 this 上，需要我们手动绑定。</p></li><li><p>用bind绑定：<br>Function.prototype.bind(thisArg [, arg1 [, arg2, …]]) 是ES5新增的函数扩展方法，bind()返回一个新的函数对象，该函数的this被绑定到thisArg上，并向事件处理器中传入参数，要注意的是，跟在this（或其他对象）后面的参数，之后它们会被插入到目标函数的参数列表的开始位置，传递给绑定函数的参数会跟在它们的后面。</p></li><li><p>用箭头函数：</p><pre><code>这种方式最大的问题是，每次render调用时，都会重新创建一个事件的回调函数，带来额外的性能开销，当组件的层级越低时，这种开销就越大，因为任何一个上层组件的变化都可能会触发这个组件的render方法。当然，在大多数情况下，这点性能损失是可以不必在意的。这种方式也有一个好处，就是不需要考虑this的指向问题，因为这种写法保证箭头函数中的this指向的总是当前组件。</code></pre></li></ol><p>注：文章借鉴</p><p><a href="https://segmentfault.com/a/1190000011317515">React事件绑定的几种方式对比</a></p>]]></content>
      
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js闭包</title>
      <link href="2020/121635891.html"/>
      <url>2020/121635891.html</url>
      
        <content type="html"><![CDATA[<p>闭包是一种特殊的对象。是指有权访问另一个函数作用域中的变量的函数。大多是在一个函数内部创建另一个函数,清晰的讲：闭包就是一个函数，这个函数能够访问其他函数的作用域中的变量。</p><h2 id="闭包的3大特性"><a href="#闭包的3大特性" class="headerlink" title="闭包的3大特性"></a>闭包的3大特性</h2><ol><li><p>函数嵌套函数</p></li><li><p>函数内部可以引用函数外部的参数和变量</p></li><li><p>参数和变量不会被垃圾回收机制回收</p></li></ol><h2 id="闭包的3大优点"><a href="#闭包的3大优点" class="headerlink" title="闭包的3大优点"></a>闭包的3大优点</h2><p>1.变量长期驻扎在内存中</p><p>2.避免全局变量的污染</p><p>3.私有成员的存在 </p><h2 id="闭包的缺点"><a href="#闭包的缺点" class="headerlink" title="闭包的缺点"></a>闭包的缺点</h2><p>常驻内存 会增大内存的使用量 使用不当会造成内存泄露，详解：</p><p>（1）由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。</p><p>（2）闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。</p><h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><p>要理解闭包，首先必须理解Javascript特殊的变量作用域。</p><p><strong>全局变量</strong><br>全局变量:变量在函数外定义，整个代码都可以调用的变量。</p><pre class=" language-js"><code class="language-js"> 　　　<span class="token keyword">var</span> msg<span class="token operator">=</span><span class="token string">"你好"</span>　　<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>　　<span class="token punctuation">}</span><span class="token function">　　f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//"你好"</span></code></pre><p><strong>注意：</strong><br>变量声明时如果不使用 var 关键字，那么它就是一个全局变量，即便它在函数内定义。</p><p><strong>局部变量</strong><br>局部变量：指只能用于定义它函数内部。对于其他的函数或脚本代码是不可用的。</p><pre class=" language-js"><code class="language-js">　　<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 　　　<span class="token keyword">var</span> msg<span class="token operator">=</span><span class="token string">"你好"</span>　　<span class="token punctuation">}</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//msg is not defined</span></code></pre><p><strong>从外部读取局部变量</strong></p><p>正常情况下，我们需要得到函数内的局部变量这是办不到的，不过可以在函数的内部，再定义一个函数才能实现。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'变量1'</span><span class="token keyword">function</span> mag1 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"结果："</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//变量1</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span> </code></pre><p>闭包是站在作用域的角度上来定义的，因为mag1访问到mag作用域的变量，所以imag1就是一个闭包函数。既然mag1可以读取mag中的局部变量，那么只要把mag1作为返回值，就可以在mag1外部读取它的内部变量了吗！</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'变量1'</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">mag1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"结果："</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//变量1</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"打印："</span><span class="token punctuation">,</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//或</span><span class="token keyword">function</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'变量1'</span>  <span class="token keyword">var</span> mag1 <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"结果："</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//变量1</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> mag1    <span class="token comment" spellcheck="true">// mag1 就是一个闭包函数，因为他能够访问到mag函数的作用域</span><span class="token punctuation">}</span><span class="token keyword">var</span> w <span class="token operator">=</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">// 获得inner闭包函数</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"打印："</span><span class="token punctuation">,</span> <span class="token function">w</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//或</span><span class="token keyword">function</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'变量1'</span> <span class="token keyword">function</span> mag1 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"结果："</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//变量1</span>  <span class="token punctuation">}</span>  <span class="token function">mag1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">// mag1 就是一个闭包函数，因为他能够访问到mag函数的作用域</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"打印："</span><span class="token punctuation">,</span> <span class="token function">mag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//结果： 变量1</span><span class="token comment" spellcheck="true">//打印： undefined</span></code></pre><p>现在我们明白了闭包，已经对应的作用域与作用域链，那我出几道考题：</p><p><strong>考题1</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>  nAdd <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> n <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span>  <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> f2<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 999</span><span class="token function">nAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 1000</span></code></pre><p>在这段代码中，result实际上就是闭包f2函数。它一共运行了两次，第一次的值是999，第二次的值是1000。这证明了，函数f1中的局部变量n一直保存在内存中，并没有在f1调用后被自动清除。</p><p><strong>考题2</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>a<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>a<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 5个5</span></code></pre><p>按照预期它应该依次输出1 2 3 4 5，而结果它输出了五次5，这是为什么呢？原来由于js是单线程的，所以在执行for循环的时候定时器setTimeout被安排到任务队列中排队等待执行，而在等待过程中for循环就已经在执行，等到setTimeout可以执行的时候，for循环已经结束，i的值也已经编程5，所以打印出来五个5，那么我们为了实现预期结果应该怎么改这段代码呢？（ps:如果把for循环里面的var变成let，也能实现预期结果）</p><p><strong>破解方案1</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> a <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//</span></code></pre><p><strong>破解方案2</strong></p><pre><code>for (let a = 0; a &lt; 5; a++) {  setTimeout(() =&gt; { console.log(a) }, 1000)}//0,1,2,3,4</code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>http请求方法理解</title>
      <link href="2020/121517223.html"/>
      <url>2020/121517223.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#http%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95%E5%85%B18%E7%A7%8D">HTTP请求方法（共8种）</a></li><li><a href="#get%E8%AF%B7%E6%B1%82%E5%92%8Cpost%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8C%BA%E5%88%AB">GET请求和post请求的区别</a></li><li><a href="#%E8%A1%A5%E5%85%85%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3">补充：重定向和请求转发简单理解</a></li></ul><p>HTTP/1.1协议中共定义了八种方法（有时也叫“动作”），来表明Request-URL指定的资源不同的操作方式</p><h2 id="HTTP请求方法（共8种）"><a href="#HTTP请求方法（共8种）" class="headerlink" title="HTTP请求方法（共8种）"></a>HTTP请求方法（共8种）</h2><p>HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。</p><p>HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</p><p><strong>HTTP常用的请求方法</strong> </p><ul><li>GET（查）:请求指定的页面信息，并返回实体主体。</li><li>POST（增）:该方法用于将数据发送到服务器以创建或更新资源，它要求服务器确认请求中包含的内容作为由URI区分的Web资源的另一个下属。另外post被封bai装在了http协议中发送，安全du（哈哈，不是绝对安全除非你加密传输），没有大小限制，有些请求get发很方便，post发就显得破烦，有些需要post，比如数据比较大</li><li>PUT(更)：从客户端向服务器传送的数据取代指定的文档的内容。</li><li>DELETE（删）：请求服务器删除指定的页面。</li><li>HEAD方法：类似于 GET 请求，只不过返回的响应中没有具体的内容，用于获取报头。</li></ul><h2 id="GET请求和post请求的区别"><a href="#GET请求和post请求的区别" class="headerlink" title="GET请求和post请求的区别"></a>GET请求和post请求的区别</h2><ul><li><p>get请求：get是从服务器上获取数据，使用get请求,请求的数据信息会在浏览器的地址栏里以（（名称/值对）的形式显示，如<code>/test/login?name1=value1&amp;pwd=value2</code><br>,并且GET的URL会被放在浏览器历史和WEB 服务器日志里面，我们可以从浏览器历史记录中查找到GET请求，还可以把它收藏到书签中，这样显然不安全，而且它还有大小限制最大为1024k</p></li><li><p>post请求：post是向服务器传送数据，使用post请求,请求的数据被封装在了http协议中发送，安全性比get安全性强，但post请求不是绝对安全除非你加密传输，它没有大小限制。</p></li></ul><h2 id="补充：重定向和请求转发简单理解"><a href="#补充：重定向和请求转发简单理解" class="headerlink" title="补充：重定向和请求转发简单理解"></a>补充：重定向和请求转发简单理解</h2><p><strong>重定向解释</strong>：<br>重定向是作用在客户端，相当于客户端重新发送一次新的请求。重定向后地址栏会发生改变。重定向可以跳转到任何网络资源。但重定向不能获取请求中的数据及不能访问被保护的资源。请求次数最少有两次， 服务器在第一次请求后，会返回302 以及一个地址， 浏览器在根据这个地址，执行第二次访问。4. 效率稍微低一点， 执行两次请求。 </p><p><strong>请求转发解释</strong>：<br>请求转发是作用在服务端，是在服务器内部进行，转发后地址栏不会改变，转发后能获取到请求中的数据，转发只能在服务器内部之间进行，转发可以访问受保护的资源，请求次数只有一次， 因为是服务器内部帮客户端执行了后续的工作。 效率上稍微高一点，因为只执行一次请求。</p><p><strong>生活实例解释</strong>：<br>比如，项目经理交给你个任务，但是这个项目你处理不了，张三能处理它，那么有两种解决办法</p><ul><li>重定向：第一种办法，你跟项目经理说，你说你不会，张三会，你去找张三吧，然后项目经理走了，去找张三了！</li><li>转发：第二种办法：    你不好意思跟项目经理说这个问题你不会，你说好，交给我，硬着头皮答应了，然后你知道张三可以解决这个问题，你就自己去找张三帮你完成了。</li></ul><p><strong>巧记</strong></p><p>1、获取资源的get方法；</p><p>2、传输实体的post方法；</p><p>3、传输文件的put方法；</p><p>4、获取报文首部的head方法；</p><p>5、删除文件的DELETE方法</p><p>借鉴网址：<br><a href="https://www.runoob.com/http/http-status-codes.html">菜鸟教程</a></p>]]></content>
      
      
      <categories>
          
          <category> http </category>
          
      </categories>
      
      
        <tags>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Es6函数简写技巧</title>
      <link href="2020/121531851.html"/>
      <url>2020/121531851.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E7%AE%80%E5%86%99%E7%9B%B8%E5%85%B3">箭头函数简写相关</a></li><li><a href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E7%AE%80%E5%86%99">属性的简写</a></li><li><a href="#%E6%96%B9%E6%B3%95%E7%9A%84%E7%AE%80%E5%86%99">方法的简写</a></li><li><a href="#%E4%B8%89%E5%85%83%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%AE%80%E5%86%99">三元操作符简写</a></li><li><a href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E7%AE%80%E5%86%99">扩展运算符简写</a></li><li><a href="#%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%AE%80%E5%86%99%E6%96%B9%E6%B3%95">声明变量简写方法</a></li><li><a href="#if%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E8%AF%AD%E5%8F%A5%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5%E5%A4%A7%E6%8B%AC%E5%8F%B7">if只有一个语句,可以省略大括号</a></li><li><a href="#if%E5%AD%98%E5%9C%A8%E6%9D%A1%E4%BB%B6%E6%88%90%E7%AB%8B%E7%AE%80%E5%86%99%E6%96%B9%E6%B3%95">if存在条件成立简写方法</a></li><li><a href="#if%E5%AD%98%E5%9C%A8%E6%9D%A1%E4%BB%B6%E4%B8%8D%E6%88%90%E7%AB%8B%E7%AE%80%E5%86%99%E6%96%B9%E6%B3%95">if存在条件不成立简写方法</a></li><li><a href="#%E7%BB%99%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E5%88%86%E9%85%8D%E7%9A%84%E5%80%BC%E6%98%AF%E9%80%9A%E8%BF%87%E5%88%A4%E6%96%AD%E5%85%B6%E5%80%BC%E6%98%AF%E5%90%A6%E4%B8%BAnull%E6%88%96undefined">给一个变量分配的值是通过判断其值是否为null或undefined</a></li><li><a href="#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2">模板字符串</a></li><li><a href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%AE%80%E5%86%99%E6%96%B9%E6%B3%95">解构赋值简写方法</a></li></ul><p>ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，于 2015 年 6 月正式发布</p><h2 id="箭头函数简写相关"><a href="#箭头函数简写相关" class="headerlink" title="箭头函数简写相关"></a>箭头函数简写相关</h2><p><strong>基础语法</strong></p><p>通常函数的定义方法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> ab <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">ab</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><p>使用ES6箭头函数语法定义函数，将原函数的“function”关键字和函数名都删掉，并使用“=&gt;”连接参数列表和函数体。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> fn1 <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">}</span></code></pre><p>当函数参数只有一个时，括号可以省略.当函数体（中括号）中有且只有一行return语句时，中括号及return 关键字可以省略。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"hellowEs6"</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//简写为：</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"hellowEs6"</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//由于函数体（中括号）中有且只有一行return语句时，return 关键字可以省略：</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token string">"hellowEs6"</span></code></pre><p>但是没有参数时，括号不可以省略。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"hellowEs6"</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//简写为：</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"hellowEs6"</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//由于函数体（中括号）中有且只有一行return语句时，return 关键字可以省略：</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token string">"hellowEs6"</span></code></pre><p>当函数参数有多个时，圆括号不可以省略,当函数体（中括号）中有且只有一行return语句时，中括号及return 关键字可以省略。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//简写为：</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//由于函数体（中括号）中有且只有一行return语句时，return 关键字可以省略：</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span>a<span class="token operator">+</span>b<span class="token punctuation">;</span></code></pre><h2 id="属性的简写"><a href="#属性的简写" class="headerlink" title="属性的简写"></a>属性的简写</h2><p>如果属性名与key名相同，则可以采用ES6的方法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x <span class="token punctuation">:</span> x<span class="token punctuation">,</span> y <span class="token punctuation">:</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="方法的简写"><a href="#方法的简写" class="headerlink" title="方法的简写"></a>方法的简写</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> run<span class="token punctuation">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'es6'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//ES6 新写法（如果键和值一样的话，可以简写）</span><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>   run <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'es6'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h2 id="三元操作符简写"><a href="#三元操作符简写" class="headerlink" title="三元操作符简写"></a>三元操作符简写</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> name<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>x <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        name <span class="token operator">=</span> <span class="token string">'小红'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        name <span class="token operator">=</span> <span class="token string">'小刚'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> name <span class="token operator">=</span> x <span class="token operator">></span> <span class="token number">10</span><span class="token operator">?</span><span class="token string">'小红'</span><span class="token punctuation">:</span><span class="token string">'小刚'</span></code></pre><h2 id="扩展运算符简写"><a href="#扩展运算符简写" class="headerlink" title="扩展运算符简写"></a>扩展运算符简写</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> odd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> odd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">...</span>odd<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h2 id="声明变量简写方法"><a href="#声明变量简写方法" class="headerlink" title="声明变量简写方法"></a>声明变量简写方法</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> x<span class="token punctuation">;</span><span class="token keyword">let</span> y<span class="token punctuation">;</span><span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span></code></pre><h2 id="if只有一个语句-可以省略大括号"><a href="#if只有一个语句-可以省略大括号" class="headerlink" title="if只有一个语句,可以省略大括号"></a>if只有一个语句,可以省略大括号</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js">  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"true"</span><span class="token punctuation">)</span></code></pre><h2 id="if存在条件成立简写方法"><a href="#if存在条件成立简写方法" class="headerlink" title="if存在条件成立简写方法"></a>if存在条件成立简写方法</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">===</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token punctuation">}</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token punctuation">}</span></code></pre><h2 id="if存在条件不成立简写方法"><a href="#if存在条件不成立简写方法" class="headerlink" title="if存在条件不成立简写方法"></a>if存在条件不成立简写方法</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">!==</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token punctuation">}</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token punctuation">}</span></code></pre><h2 id="给一个变量分配的值是通过判断其值是否为null或undefined"><a href="#给一个变量分配的值是通过判断其值是否为null或undefined" class="headerlink" title="给一个变量分配的值是通过判断其值是否为null或undefined"></a>给一个变量分配的值是通过判断其值是否为null或undefined</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> mag<span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>    mag <span class="token operator">=</span> <span class="token string">"小刘"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    mag <span class="token operator">=</span> <span class="token string">"小将"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> mag <span class="token operator">=</span> <span class="token string">"小刘"</span> <span class="token operator">||</span> <span class="token string">"小将"</span><span class="token punctuation">;</span></code></pre><h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p>let age=8;</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> mag<span class="token operator">=</span><span class="token string">'我今年'</span> <span class="token operator">+</span>age<span class="token operator">+</span>  <span class="token string">'岁'</span></code></pre><p>ES6可以使用反引号和${}简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> mag<span class="token operator">=</span><span class="token template-string"><span class="token string">`我今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁`</span></span></code></pre><h2 id="解构赋值简写方法"><a href="#解构赋值简写方法" class="headerlink" title="解构赋值简写方法"></a>解构赋值简写方法</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span>  store <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>store<span class="token punctuation">;</span><span class="token keyword">const</span> form <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>form<span class="token punctuation">;</span></code></pre><p>简写：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span><span class="token punctuation">{</span>store<span class="token punctuation">,</span> form<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span></code></pre><p>也可以分配变量名：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span><span class="token punctuation">{</span>store<span class="token punctuation">,</span> form<span class="token punctuation">:</span>form1<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//最后一个变量名为form1</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Es6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Es6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js常见判断</title>
      <link href="2020/120922090.html"/>
      <url>2020/120922090.html</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>这里是我的笔记，记录一些JavaScript常见判断的常用方法，这个笔记后面慢慢增加了许多内容，如果有错误之处，请各位多多指教。</p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#js12%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%B1%87%E6%80%BB">js12种数据类型汇总</a></li><li><a href="#javascript%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E4%B8%BA%E6%95%B0%E5%AD%97">JavaScript判断是否为数字</a></li><li><a href="#javascript%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA">JavaScript判断字符串是否为空</a></li><li><a href="#JavaScript%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA-1">JavaScript判断数组是否为空</a></li><li><a href="#js%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E5%90%AB%E6%9C%89%E6%9F%90%E4%B8%AA%E5%80%BC">js判断数组是否含有某个值</a></li><li><a href="#js%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA">js判断一个对象是否为空</a></li><li><a href="#js%E5%88%A4%E6%96%AD%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E7%9B%B8%E7%AD%89">js判断两个数组是否相等</a></li><li><a href="#js%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AF%B9%E8%B1%A1%E8%BD%AC%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95">JS中如何对象转数组方法</a></li><li><a href="#js%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E6%95%B0%E7%BB%84">js判断是否是数组</a></li><li><a href="#js%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0">js判断数组是否存在重复元素</a></li><li><a href="#js%E5%A6%82%E4%BD%95%E5%8E%BB%E9%99%A4%E6%95%B0%E7%BB%84%E9%87%8D%E5%A4%8D%E5%80%BC">JS如何去除数组重复值</a></li><li><a href="#js%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E9%87%8D%E5%A4%8D%E7%9A%84%E5%85%83%E7%B4%A0">JS如何获取数组重复的元素</a></li></ul><h2 id="Js-12种数据类型汇总"><a href="#Js-12种数据类型汇总" class="headerlink" title="Js 12种数据类型汇总"></a>Js 12种数据类型汇总</h2><ul><li>基本类型：String、Number、Boolean、Symbol、Undefined、Null、BigInt(7种)</li><li>引用类型：Object、Array、RegExp、Date、Function (5种)</li></ul><p><strong>区别</strong>：引用类型值可添加属性和方法，而基本类型值则不可以。</p><p><strong>基本类型</strong></p><p>1.基本类型的变量是存放在栈内存（Stack）里的</p><p>2.基本数据类型的值是按值访问的</p><p>3.基本类型的值是不可变的</p><p>4.基本类型的比较是它们的值的比较</p><p><strong>引用类型</strong></p><p>1.引用类型的数据是存放在堆内存中的</p><p>2.引用类型的值是按引用访问的</p><p>3.引用类型的值是可变的</p><p>4.引用类型的比较是引用的比较</p><h2 id="JavaScript判断是否为数字"><a href="#JavaScript判断是否为数字" class="headerlink" title="JavaScript判断是否为数字"></a>JavaScript判断是否为数字</h2><p><strong>使用isNaN()函数：</strong></p><p>isNaN()函数是js自带的全局函数，isNaN() 函数用于检查其参数是否是非数字值。</p><p><strong>实例参考：</strong></p><pre class=" language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//数字 输出：false</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//字符串输出：true</span></code></pre><p><strong>缺点：</strong></p><p>isNaN()会将 null、空格以及空串按照0来处理，所以检查不严谨。<br>所以用加工一下，和typeof运算符一起使用。</p><p><strong>实例参考：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">myIsNaN</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'number'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isNaN</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"&lt;br>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js"><span class="token function">myIsNaN</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span><span class="token function">myIsNaN</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span><span class="token function">myIsNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span><span class="token function">myIsNaN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//false</span></code></pre><h2 id="JavaScript判断字符串是否为空"><a href="#JavaScript判断字符串是否为空" class="headerlink" title="JavaScript判断字符串是否为空"></a>JavaScript判断字符串是否为空</h2><p><strong>实例参考：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">==</span> <span class="token string">"undefined"</span> <span class="token operator">||</span> obj <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> obj <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//false</span></code></pre><h2 id="JavaScript判断数组是否为空"><a href="#JavaScript判断数组是否为空" class="headerlink" title="JavaScript判断数组是否为空"></a>JavaScript判断数组是否为空</h2><p><strong>实例参考：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组为空"</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组不为空"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h2 id="js判断数组是否含有某个值"><a href="#js判断数组是否含有某个值" class="headerlink" title="js判断数组是否含有某个值"></a>js判断数组是否含有某个值</h2><p><strong>实例参考：</strong></p><p><strong>(1). 使用indexOf()方法</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组含有2"</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组不含2"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>(2).使用includes()方法</strong><br>数组中含有某值返回true，没有返回false。ES7新方法。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组中有2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组中无2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>(3).使用find()方法</strong><br>数组中含有某值返回true，没有返回false。ES7新方法。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数组含有2"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="js判断一个对象是否为空"><a href="#js判断一个对象是否为空" class="headerlink" title="js判断一个对象是否为空"></a>js判断一个对象是否为空</h2><p><strong>实例参考：</strong></p><p><strong>(1). 使用Object.keys(obj)方法</strong><br>返回一个给定对象自身可枚举属性组成的数组。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"空对象"</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"非空对象"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>(2).使用JSON.stringify() 方法</strong><br>从一个对象中解析出字符串</p><p><strong>用法</strong></p><pre class=" language-js"><code class="language-js">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>结果是：<span class="token string">"{"</span>a<span class="token string">":"</span><span class="token number">1</span><span class="token string">","</span>b<span class="token string">":"</span><span class="token number">2</span><span class="token string">"}"</span></code></pre><p><strong>实例</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"{}"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"空对象"</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"非空对象"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h2 id="js判断两个数组是否相等"><a href="#js判断两个数组是否相等" class="headerlink" title="js判断两个数组是否相等"></a>js判断两个数组是否相等</h2><p><strong>实例1</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">===</span> JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><p><strong>实例2</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//true</span></code></pre><p><code>注意</code>，经验证，上述方法对复杂数组结构不适用。</p><h2 id="JS中如何对象转数组方法"><a href="#JS中如何对象转数组方法" class="headerlink" title="JS中如何对象转数组方法"></a>JS中如何对象转数组方法</h2><p><strong>(1).使用Array.from()方法</strong></p><p>Array.from() 方法，用于数组的浅拷贝。就是将一个类数组对象或者可遍历对象转换成一个真正的数组。</p><p><strong>用法</strong></p><pre class=" language-js"><code class="language-js">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>结果是：<span class="token string">"{"</span>a<span class="token string">":"</span><span class="token number">1</span><span class="token string">","</span>b<span class="token string">":"</span><span class="token number">2</span><span class="token string">"}"</span></code></pre><p><strong>实例</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'nihao'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'haha'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'gansha'</span><span class="token punctuation">,</span><span class="token string">'length'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//['nihao', 'haha', 'gansha']</span></code></pre><p> <strong>(2).使用Object.keys(object)</strong></p><p><strong>实例</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'nihao'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'haha'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'gansha'</span><span class="token punctuation">,</span><span class="token string">'length'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span></code></pre><h2 id="js判断是否是数组"><a href="#js判断是否是数组" class="headerlink" title="js判断是否是数组"></a>js判断是否是数组</h2><p> <strong>通过Array.isArray()判断</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//true</span></code></pre><h2 id="js判断数组是否存在重复元素"><a href="#js判断数组是否存在重复元素" class="headerlink" title="js判断数组是否存在重复元素"></a>js判断数组是否存在重复元素</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Set { 1, 2, 4, 3, 5 }</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//5</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//6</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span>size <span class="token operator">!==</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"存在相同的元素"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><code>注意</code>，经验证，上述方法对复杂数组结构不适用。</p><p> <strong>补充js里size和length的区别</strong></p><p><code>length</code></p><ul><li>length是js的原生方法，用于获取元素的个数和对象的长度</li><li>var length = $(obj).length;</li></ul><p><code>size</code></p><ul><li>size()属于方法，只能作用于对象上，获取元素的个数</li><li>var size = $(obj).size();</li><li>注：如果想要获取字符串的长度只能用length属性，如</li><li>var length = $(obj).html().length;</li></ul><h2 id="JS如何去除数组重复值"><a href="#JS如何去除数组重复值" class="headerlink" title="JS如何去除数组重复值"></a>JS如何去除数组重复值</h2><p><strong>运用ES6的Set数据结构</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> newArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">set</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Array.from方法可以将 Set 结构转为数组。</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [ 1, 2, 4, 3, 6 ]</span></code></pre><p>简化后：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>lconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [ 1, 2, 4, 3, 6 ]</span></code></pre><h2 id="JS如何获取数组重复的元素"><a href="#JS如何获取数组重复的元素" class="headerlink" title="JS如何获取数组重复的元素"></a>JS如何获取数组重复的元素</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">refrain</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> b <span class="token operator">&amp;&amp;</span> tmp<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> tmp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">return</span> tmp<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">refrain</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// [ 3 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">refrain</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// [ '1' ]</span></code></pre><h2 id="js常见过滤json数组某个字段"><a href="#js常见过滤json数组某个字段" class="headerlink" title="js常见过滤json数组某个字段"></a>js常见过滤json数组某个字段</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arrObj <span class="token operator">=</span> <span class="token punctuation">[</span>   <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">800</span><span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'小红'</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">801</span><span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">'小刚'</span><span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token number">802</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token keyword">let</span> aArr <span class="token operator">=</span> arrObj<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'小刚'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//[ { name: '小刚', id: 802 } ]</span></code></pre><h2 id="随机生成颜色"><a href="#随机生成颜色" class="headerlink" title="随机生成颜色"></a>随机生成颜色</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> randomColor<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token punctuation">{</span> <span class="token keyword">let</span> rgb<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">;</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">let</span> color<span class="token operator">=</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>color<span class="token operator">=</span><span class="token punctuation">(</span>color<span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token template-string"><span class="token string">`0</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">:</span>colorrgb<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rgb<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js常见正则表达式运用</title>
      <link href="2020/120951485.html"/>
      <url>2020/120951485.html</url>
      
        <content type="html"><![CDATA[<p>由于项目中经常要用到正则表达式对字符串处理、表单验证，为此，我总结了一下我在项目中常用的正则</p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#1%E9%AA%8C%E8%AF%81%E6%89%8B%E6%9C%BA%E5%8F%B7">1.验证手机号</a></li><li><a href="#2%E9%AA%8C%E8%AF%81%E5%AF%86%E7%A0%816-20%E4%BD%8D%E5%85%81%E8%AE%B8%E5%AD%97%E6%AF%8D%E6%95%B0%E5%AD%97">2.验证密码（6-20位，允许字母、数字）</a></li><li><a href="#3%E9%AA%8C%E8%AF%81%E4%BA%8C%E4%BB%A3%E8%BA%AB%E4%BB%BD%E8%AF%81">3.验证二代身份证</a></li><li><a href="#4%E9%99%90%E5%88%B6%E5%9B%BE%E7%89%87%E5%90%8E%E7%BC%80">4.限制图片后缀</a></li><li><a href="#5%E9%AA%8C%E8%AF%81%E9%82%AE%E7%AE%B1">5.验证邮箱</a></li><li><a href="#6%E9%AA%8C%E8%AF%81%E7%BA%AF%E6%95%B0%E5%AD%97">6.验证纯数字</a></li><li><a href="#7%E9%AA%8C%E8%AF%81%E5%B8%90%E5%8F%B7%E6%98%AF%E5%90%A6%E5%90%88%E6%B3%95">7.验证帐号是否合法</a></li><li><a href="#8%E9%AA%8C%E8%AF%81%E5%8C%B9%E9%85%8D24%E4%B8%AA%E6%B1%89%E5%AD%97">8.验证匹配2~4个汉字</a></li><li><a href="#9%E9%AA%8C%E8%AF%81%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F">9.验证时间格式</a></li><li><a href="#10%E8%87%AA%E5%AE%9A%E4%B9%89%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F">10.自定义时间格式</a></li><li><a href="#11%E8%AE%A2%E5%8D%95%E7%BC%96%E5%8F%B7%E5%89%8D%E5%8A%A0%E6%97%B6%E9%97%B4%E6%88%B3">11.订单编号前加时间戳</a></li></ul><h2 id="1-验证手机号"><a href="#1-验证手机号" class="headerlink" title="1.验证手机号"></a>1.验证手机号</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyPhone</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> phoneReg <span class="token operator">=</span> <span class="token regex">/^1((3[\d])|(4[5,6,7,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[\d])|(9[1,8,9]))\d{8}$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> phoneReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>phone<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="2-验证密码（6-20位，允许字母、数字）"><a href="#2-验证密码（6-20位，允许字母、数字）" class="headerlink" title="2.验证密码（6-20位，允许字母、数字）"></a>2.验证密码（6-20位，允许字母、数字）</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 6-20位，允许字母、数字</span>  <span class="token keyword">const</span> passwordReg <span class="token operator">=</span> <span class="token regex">/^[0-9A-Za-z]{6,20}$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> passwordReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="3-验证二代身份证"><a href="#3-验证二代身份证" class="headerlink" title="3.验证二代身份证"></a>3.验证二代身份证</h2><p>二代身份证号(18位数字),最后一位是校验位,可能为数字或字符X</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyIDCard</span><span class="token punctuation">(</span>iDCard<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> iDCardReg <span class="token operator">=</span> <span class="token regex">/^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> iDCardReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>iDCard<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="4-限制图片后缀"><a href="#4-限制图片后缀" class="headerlink" title="4.限制图片后缀"></a>4.限制图片后缀</h2><p>限制图片后缀只能是’png’, ‘jpg’, ‘gif’, ‘jpeg’</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyImage</span><span class="token punctuation">(</span>ext<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'png'</span><span class="token punctuation">,</span> <span class="token string">'jpg'</span><span class="token punctuation">,</span> <span class="token string">'gif'</span><span class="token punctuation">,</span> <span class="token string">'jpeg'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>ext<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="5-验证邮箱"><a href="#5-验证邮箱" class="headerlink" title="5.验证邮箱"></a>5.验证邮箱</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyEmail</span><span class="token punctuation">(</span>Email<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> emailrule <span class="token operator">=</span> <span class="token regex">/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> emailrule<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>Email<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="6-验证纯数字"><a href="#6-验证纯数字" class="headerlink" title="6.验证纯数字"></a>6.验证纯数字</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyNumber</span><span class="token punctuation">(</span>isNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> numberReg <span class="token operator">=</span> <span class="token regex">/^([0-9])*$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> numberReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>isNumber<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="7-验证帐号是否合法"><a href="#7-验证帐号是否合法" class="headerlink" title="7.验证帐号是否合法"></a>7.验证帐号是否合法</h2><p>匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)</p><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyAccount</span><span class="token punctuation">(</span>isAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> numberReg <span class="token operator">=</span> <span class="token regex">/^a-zA-Z][a-zA-Z0-9_]{4,15}$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> numberReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>isNumber<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="8-验证匹配2-4个汉字"><a href="#8-验证匹配2-4个汉字" class="headerlink" title="8.验证匹配2~4个汉字"></a>8.验证匹配2~4个汉字</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">verifyChinese</span><span class="token punctuation">(</span>isChinese<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> ChineseReg <span class="token operator">=</span> <span class="token regex">/^a-zA-Z][a-zA-Z0-9_]{2,4}$/</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> ChineseReg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>isChinese<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="9-验证时间格式"><a href="#9-验证时间格式" class="headerlink" title="9.验证时间格式"></a>9.验证时间格式</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> dayjs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Time</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY/MM/DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="10-自定义时间格式"><a href="#10-自定义时间格式" class="headerlink" title="10.自定义时间格式"></a>10.自定义时间格式</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> dayjs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">const</span>  <span class="token function">verityTodayTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前时间</span>    <span class="token keyword">const</span> todayTime <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前时间，如2019-11-29 00:00:00</span>    <span class="token keyword">return</span> todayTime<span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre><h2 id="11-订单编号前加时间戳"><a href="#11-订单编号前加时间戳" class="headerlink" title="11.订单编号前加时间戳"></a>11.订单编号前加时间戳</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//转时间</span>    <span class="token keyword">const</span> dayjs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dayjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">export</span> <span class="token keyword">const</span>  <span class="token function">verityOrderNoDate</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> lowerLimit <span class="token operator">=</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYYMMDDHHmmss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> lowerLimit<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//拼接</span>   <span class="token keyword">export</span> <span class="token keyword">const</span>  <span class="token function">getOrderNo</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> orderNo <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//订单号</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//4位随机数，用以加在时间戳后面。</span>    <span class="token punctuation">{</span>      orderNo <span class="token operator">+</span><span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">const</span> CodingDate <span class="token operator">=</span> <span class="token function">verityOrderNoDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    orderNo <span class="token operator">=</span> CodingDate <span class="token operator">+</span> orderNo<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//时间戳，用来生成订单号。</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>      orderNo <span class="token operator">=</span> orderNo <span class="token operator">+</span> num<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> orderNo<span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> javaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何用TypeScript创建一个工程</title>
      <link href="2020/120857766.html"/>
      <url>2020/120857766.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#typescript%E5%BC%80%E5%8F%91%E7%9A%84%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">typescript开发的准备工作：</a></li><li><a href="#%E5%BC%80%E5%A7%8B%E5%BB%BA%E7%AB%8Btypescript%E7%9A%84%E5%B7%A5%E7%A8%8B">开始建立typescript的工程</a></li><li><a href="#%E8%A1%A5%E5%85%851tsconfigjson%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3">补充1：tsconfig.json配置详解</a></li><li><a href="#%E8%A1%A5%E5%85%852react-ts-%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA">补充2：React ts 项目搭建</a></li><li><a href="#%E4%BD%BF%E7%94%A8ts%E5%B0%8F%E6%8A%80%E5%B7%A7">使用TS小技巧</a></li></ul><p>TypeScript 是 JavaScript 的一个超集，由于现在TypeScript比较热门，学习掌握它已成为一种趋势，今天来说说如何用TypeScript创建一个工程</p><h2 id="typescript开发的准备工作："><a href="#typescript开发的准备工作：" class="headerlink" title="typescript开发的准备工作："></a>typescript开发的准备工作：</h2><p><strong>1.node安装</strong></p><p>下载地址：<a href="https://nodejs.org/en/">https://nodejs.org/en/</a><br>安装成功后，配置环境变量 在path中添加：<br>在命令窗口测试node 是否配置成功：</p><pre class=" language-bash"><code class="language-bash">node -v</code></pre><p>输出node版本即为成功</p><p><strong>2.安装TypeScript</strong></p><p>1.NPM 安装 TypeScript</p><pre class=" language-node"><code class="language-node">通过命令：npm install -g typescript</code></pre><p>2.Yarn 安装 TypeScript</p><pre class=" language-node"><code class="language-node">通过命令：yarn add  TypeScript</code></pre><p>安装完成后我们可以使用 tsc 命令来执行 TypeScript 的相关代码，以下是查看版本号：</p><pre class=" language-node"><code class="language-node">$ tsc -vVersion 3.2.2</code></pre><h2 id="开始建立typescript的工程"><a href="#开始建立typescript的工程" class="headerlink" title="开始建立typescript的工程"></a>开始建立typescript的工程</h2><p><strong>1.初始tsc环境，生成tsconfig.json文件</strong></p><p>在命令窗口输入：</p><pre class=" language-bash"><code class="language-bash">tsc --init</code></pre><p><strong>2.初始化 npm环境，生成package.json文件</strong></p><p>在命令窗口输入：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> init -y</code></pre><h2 id="补充1：tsconfig-json配置详解"><a href="#补充1：tsconfig-json配置详解" class="headerlink" title="补充1：tsconfig.json配置详解"></a>补充1：tsconfig.json配置详解</h2><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">{</span>  <span class="token string">"compilerOptions"</span><span class="token keyword">:</span> <span class="token punctuation">{</span>    <span class="token string">"allowUnreachableCode"</span><span class="token keyword">:</span> true, // 不报告执行不到的代码错误。    <span class="token string">"allowUnusedLabels"</span><span class="token keyword">:</span> false,    // 不报告未使用的标签错误    <span class="token string">"alwaysStrict"</span><span class="token keyword">:</span> false, // 以严格模式解析并为每个源文件生成 <span class="token string">"use strict"</span>语句    <span class="token string">"baseUrl"</span><span class="token keyword">:</span> <span class="token string">"."</span>, // 工作根目录    <span class="token string">"experimentalDecorators"</span><span class="token keyword">:</span> true, // 启用实验性的ES装饰器    <span class="token string">"jsx"</span><span class="token keyword">:</span> <span class="token string">"react"</span>, // 在 .tsx文件里支持JSX    <span class="token string">"sourceMap"</span><span class="token keyword">:</span> true, // 是否生成map文件    <span class="token string">"module"</span><span class="token keyword">:</span> <span class="token string">"commonjs"</span>, // 指定生成哪个模块系统代码    <span class="token string">"noImplicitAny"</span><span class="token keyword">:</span> false, // 是否默认禁用 any    <span class="token string">"removeComments"</span><span class="token keyword">:</span> true, // 是否移除注释    <span class="token string">"types"</span><span class="token keyword">:</span> <span class="token punctuation">[</span> //指定引入的类型声明文件，默认是自动引入所有声明文件，一旦指定该选项，则会禁用自动引入，改为只引入指定的类型声明文件，如果指定空数组<span class="token punctuation">[</span><span class="token punctuation">]</span>则不引用任何文件      <span class="token string">"node"</span>, // 引入 node 的类型声明    <span class="token punctuation">]</span>,    <span class="token string">"paths"</span><span class="token keyword">:</span> <span class="token punctuation">{</span> // 指定模块的路径，和baseUrl有关联，和webpack中resolve.alias配置一样      <span class="token string">"src"</span><span class="token keyword">:</span> <span class="token punctuation">[</span> //指定后可以在文件之直接 <span class="token function">import</span> * from <span class="token string">'src'</span><span class="token punctuation">;</span>        <span class="token string">"./src"</span>      <span class="token punctuation">]</span>,    <span class="token punctuation">}</span>,    <span class="token string">"target"</span><span class="token keyword">:</span> <span class="token string">"ESNext"</span>, // 编译的目标是什么版本的    <span class="token string">"outDir"</span><span class="token keyword">:</span> <span class="token string">"./dist"</span>, // 输出目录    <span class="token string">"declaration"</span><span class="token keyword">:</span> true, // 是否自动创建类型声明文件    <span class="token string">"declarationDir"</span><span class="token keyword">:</span> <span class="token string">"./lib"</span>, // 类型声明文件的输出目录    <span class="token string">"allowJs"</span><span class="token keyword">:</span> true, // 允许编译javascript文件。    <span class="token string">"lib"</span><span class="token keyword">:</span> <span class="token punctuation">[</span> // 编译过程中需要引入的库文件的列表      <span class="token string">"es5"</span>,      <span class="token string">"es2015"</span>,      <span class="token string">"es2016"</span>,      <span class="token string">"es2017"</span>,      <span class="token string">"es2018"</span>,      <span class="token string">"dom"</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span>,  // 指定一个匹配列表（属于自动指定该路径下的所有ts相关文件）  <span class="token string">"include"</span><span class="token keyword">:</span> <span class="token punctuation">[</span>    <span class="token string">"src/**/*"</span>  <span class="token punctuation">]</span>,  // 指定一个排除列表（include的反向操作）  <span class="token string">"exclude"</span><span class="token keyword">:</span> <span class="token punctuation">[</span>    <span class="token string">"demo.ts"</span>  <span class="token punctuation">]</span>,  // 指定哪些文件使用该配置（属于手动一个个指定文件）  <span class="token string">"files"</span><span class="token keyword">:</span> <span class="token punctuation">[</span>    <span class="token string">"demo.ts"</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h2 id="补充2：React-ts-项目搭建"><a href="#补充2：React-ts-项目搭建" class="headerlink" title="补充2：React ts 项目搭建"></a>补充2：React ts 项目搭建</h2><p>React 是一个用于构建用户界面的 JavaScript 库。使用 create-react-app 创建项目</p><p><strong>1.全局安装 create-react-app</strong><br>在命令窗口输入：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> i create-react-app -g 或 yarn global add create-react-app</code></pre><p><strong>2.查看版本，检查是否安装成功</strong></p><p>在命令窗口输入：</p><pre class=" language-bash"><code class="language-bash">create-react-app --version</code></pre><p><strong>3.项目安装运行</strong></p><p>在命令窗口输入：</p><pre class=" language-bash"><code class="language-bash">create-react-app  demo（你的项目名） --typescript  </code></pre><p><strong>4.运行</strong></p><p>在命令窗口输入：</p><pre class=" language-bash"><code class="language-bash">1. <span class="token function">cd</span> demo2. <span class="token function">npm</span> start / yarn start</code></pre><h2 id="使用TS小技巧"><a href="#使用TS小技巧" class="headerlink" title="使用TS小技巧"></a>使用TS小技巧</h2><p><strong>1. ?.(可选链)</strong></p><p>在判断是否空值的时候可以使用，比如我们需要判断obj里面的某个深层次的属性是否存在，一般写法是</p><p>在命令窗口输入：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>person <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre><p>而有了 ?.之后，则可以简写为</p><pre class=" language-ts"><code class="language-ts"><span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token operator">?</span><span class="token punctuation">.</span>person<span class="token operator">?</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre><p><strong>2. 属性或参数中使用 !.</strong></p><p>属性或参数中使用 ！：表示强制解析（告诉typescript编译器，这里一定有值）</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>而有了 !.之后，则可以简写为</p><pre class=" language-ts"><code class="language-ts"><span class="token keyword">let</span> a<span class="token punctuation">:</span><span class="token keyword">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>a<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code></pre><p><strong>3.| 分隔符</strong></p><p>在 TypeScript 中联合类型（Union Types）表示取值可以为多种类型中的一种，联合类型使用 | 分隔每个类型。联合类型通常与 null 或 undefined 一起使用：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span>  arr<span class="token punctuation">:</span><span class="token punctuation">(</span>string<span class="token operator">|</span>number<span class="token operator">|</span>boolean<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"字符串1"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">]</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> typescript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript进阶之接口和类</title>
      <link href="2020/111744947.html"/>
      <url>2020/111744947.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a><ul><li><a href="#typescript-%E6%8E%A5%E5%8F%A3">TypeScript 接口</a></li><li><a href="#typescript-%E7%B1%BB">TypeScript 类</a></li></ul></li></ul><h2 id="TypeScript-接口"><a href="#TypeScript-接口" class="headerlink" title="TypeScript 接口"></a>TypeScript 接口</h2><p>在 TypeScript 中，我们使用接口（Interfaces）来定义对象的类型.接口是一系列抽象方法的声明，是对行为的抽象，而具体如何行动需要由类（classes）去实现（implement）。</p><p>简单的例子</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>    age<span class="token punctuation">:</span> number<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>    age<span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>上面的例子中，我们定义了一个接口 Person，接着定义了一个变量 tom，它的类型是 Person。这样，我们就约束了 tom 的形状必须和接口 Person 一致。</p><p><code>注意</code>：接口一般首字母大写,并且接口必须代表对象。</p><p>定义的变量比接口少了一些属性是不允许的：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span> age<span class="token punctuation">:</span> number<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// Property 'age' is missing in type '{ name: string; }' but required in type 'Person'.</span></code></pre><p>多一些属性也是不允许的：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> tom<span class="token punctuation">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span>  age<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// Property 'age' is missing in type '{ name: string; }' but required in type 'Person'.</span></code></pre><p><strong>可选属性</strong></p><p>接口里的属性不全都是必需的。 有些是只在某些条件下存在，或者根本不存在。不作强制要求，就是可选值。typeScript可选属性定义，就是在:号前加一个?</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>age<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> jack<span class="token punctuation">:</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jack<span class="token punctuation">)</span></code></pre><p>这时候在定义jack对象的时候，就可以写或也可以不写age了。</p><p><strong>只读属性</strong></p><p>有时候我们希望对象中的一些字段只能在创建的时候被赋值，那么可以用 readonly 定义只读属性：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>    readonly x<span class="token punctuation">:</span> number<span class="token punctuation">;</span>    readonly y<span class="token punctuation">:</span> number<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>你可以通过赋值一个对象字面量来构造一个Student。 赋值后， x和y再也不能被改变了。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> h<span class="token punctuation">:</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>h<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Cannot assign to 'x' because it is a read-only property.</span></code></pre><p><strong>任意属性</strong></p><p>有时候我们希望一个接口允许有任意的属性，就是自己愿意写什么就写什么：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>age<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> string<span class="token punctuation">]</span><span class="token punctuation">:</span> any<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> jack<span class="token punctuation">:</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> sex<span class="token punctuation">:</span><span class="token string">"男"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jack<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//{ name: 'Tom', sex: '男' }</span></code></pre><p>使用 [propName: string] 定义了任意属性取 string 类型的值。</p><p><strong>接口里的方法</strong></p><p>接口里不仅可以存属性，还可以存方法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>age<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">;</span>    <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> string<span class="token punctuation">]</span><span class="token punctuation">:</span> any<span class="token punctuation">;</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> jack<span class="token punctuation">:</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> sex<span class="token punctuation">:</span><span class="token string">"男"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>jack<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//Property 'say' is missing in type '{ name: string; sex: string; }' but required in type 'Student'.</span></code></pre><p>加上这个say()方法后，程序马上就会报错，因为我们对象里没有 say 方法。那我们就要给对象一个 say 方法</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> jack<span class="token punctuation">:</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> sex<span class="token punctuation">:</span><span class="token string">"男"</span>，  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"少年中国"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="TypeScript-类"><a href="#TypeScript-类" class="headerlink" title="TypeScript 类"></a>TypeScript 类</h2><p>TypeScript 是面向对象的 JavaScript。</p><p>类描述了所创建的对象共同的属性和方法。</p><p>TypeScript 支持面向对象的所有特性，比如 类、接口等。</p><p><strong>属性和方法</strong><br>使用 class 定义类，使用 constructor 定义构造函数。</p><p>通过 new 生成新实例的时候，会自动调用构造函数。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> name<span class="token punctuation">:</span>string<span class="token punctuation">;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// My name is tom</span></code></pre><p><code>补充</code>：在引用任何一个类成员的时候都用了 this。 它表示我们访问的是类的成员。</p><p><strong>类的继承</strong></p><p>在TypeScript里，我们可以使用常用的面向对象模式。 基于类的程序设计中一种最基本的模式是允许使用继承来扩展现有的类。继承关键字是<code>extends</code></p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  content <span class="token operator">=</span> <span class="token string">"我是人类"</span><span class="token punctuation">;</span>  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我是学生，继承人类"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> St <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>类中的字段属性和方法可以使用 . 号来访问：</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>St<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我是人类</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>St<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我是学生，继承人类</span></code></pre><p>类写好以后，我们声明的对象是Student这个类，我们同时执行sayHello()say()都是可以执行到的，这说明继承起作用了。</p><p><strong>类的重写</strong></p><p>类继承后，子类可以对父类的方法重新定义，这个过程称之为方法的重写。</p><p>其中 super 关键字是对父类的直接引用，该关键字可以引用父类的属性和方法。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  content <span class="token operator">=</span> <span class="token string">"我是人类"</span><span class="token punctuation">;</span>  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我是学生，继承人类"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我是一个大类"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> St <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>St<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我是一个大类</span></code></pre><p>然后我们再次运行ts-node demo10.ts来查看结果。</p><p><strong>super关键字的使用</strong></p><p>其中 super 关键字是对父类的直接引用，该关键字可以引用父类的属性和方法。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  content <span class="token operator">=</span> <span class="token string">"我是人类"</span><span class="token punctuation">;</span>  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我是学生，继承人类"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">",我是一个大类"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> St <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>St<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我是人类,我是一个大类</span></code></pre><p><strong>static 关键字的使用</strong></p><p>使用 static 修饰符修饰的方法称为静态方法，它们不需要实例化，而是直接通过类来调用.</p><p>比如我们先写一下最常规的写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">"我是人类"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> aa<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Humanity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我是人类</span></code></pre><p>如果现在你不想new出对象,那么就可以用static声明的属性和方法，不需要进行声明对象，就可以直接使用。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">static</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token string">"我是人类"</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Humanity<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//我是人类</span></code></pre><p><strong>instanceof 运算符</strong></p><p>instanceof 运算符用于判断对象是否是指定的类型，如果是返回 true，否则返回 false。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">var</span> isPerson <span class="token operator">=</span> obj <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"obj 对象是 Person 类实例化来的吗？ "</span> <span class="token operator">+</span> isPerson<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>输出结果为：</p><pre class=" language-js"><code class="language-js">obj 对象是 Person 类实例化来的吗？ <span class="token boolean">true</span></code></pre><p><strong>构造函数</strong></p><p>当你在TypeScript里声明了一个类的时候，实际上同时声明了很多东西。 首先就是类的 实例的类型。构造函数的关键字是<code>constructor</code></p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> name <span class="token punctuation">:</span>string <span class="token punctuation">;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span>string<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> person<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre><p>输出结果为：</p><pre class=" language-js"><code class="language-js">tom</code></pre><p>更简单的写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>   <span class="token punctuation">;</span>    <span class="token function">constructor</span><span class="token punctuation">(</span> <span class="token keyword">public</span> name <span class="token punctuation">:</span>string <span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> person<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span></code></pre><p>输出结果为：</p><pre class=" language-js"><code class="language-js">tom</code></pre><p>这种写法就相当于你定义了一个name,然后在构造函数里进行了赋值，这是一种简化的语法。</p><p><strong>readonly 关键字的使用</strong></p><p>只读属性关键字，只允许出现在属性声明或索引签名或构造函数中,不能修改。。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token punctuation">:</span>string <span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>person<span class="token punctuation">.</span>name<span class="token operator">=</span> <span class="token string">'jack'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//jack</span></code></pre><p>写完后结果显示是<code>jack</code>,比如我现在有一个需求，就是在实例化对象时赋予的名字，以后不能再更改了,那就可以用到readonly 关键字了。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span>readonly name<span class="token punctuation">:</span>string <span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'tom'</span><span class="token punctuation">)</span>person<span class="token punctuation">.</span>name<span class="token operator">=</span> <span class="token string">'jack'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//Cannot assign to 'name' because it is a read-only property.</span></code></pre><p>结果直接给我们报错，错误告诉我们name属性是只读属性，不能修改。</p><p><strong>访问控制修饰符</strong></p><p>TypeScript 中，可以使用访问控制符来保护对类、变量、方法和构造方法的访问。TypeScript 支持 3 种不同的访问权限，分别是：公有（public），私有（private）与受保护（protected）的修饰符。</p><ul><li><p>public（默认） : 公有，可以在任何地方被访问。</p></li><li><p>protected : 受保护，可以被其自身以及其子类和父类访问。</p></li><li><p>private : 私有，只能被其定义所在的类访问。</p></li></ul><p><strong>公有（public）</strong></p><p> 在TypeScript里，成员都默认为 public。public是公有的，可以在任何地方被访问。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> content<span class="token punctuation">:</span>string<span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//-------以下属于类的外部--------</span><span class="token keyword">const</span> humanity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Humanity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>humanity<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">'我是内容'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>humanity<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//我是内容</span></code></pre><p><strong>私有（private）</strong></p><p>private 私有的意思，可以被其自身以及其子类和父类访问，外部不允许调用</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">private</span> content<span class="token punctuation">:</span>string<span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//此处不报错</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//-------以下属于类的外部--------</span><span class="token keyword">const</span> humanity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Humanity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>humanity<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">'我是内容'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>humanity<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// Property 'content' is private and only accessible within class 'Humanity'</span></code></pre><p><strong>受保护（protected）</strong></p><p>protected 允许在类内及继承的子类中使用</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">protected</span> content<span class="token punctuation">:</span>string<span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">////此处不报错</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//-------以下属于类的外部--------</span><span class="token keyword">const</span> humanity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Humanity</span><span class="token punctuation">(</span><span class="token punctuation">)</span>humanity<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token string">'我是内容'</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>humanity<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//Property 'content' is protected and only accessible within class 'Humanity' and its subclasses.</span></code></pre><p>name的访问属性换成protected,这时候外部调用name的代码会报错，内部的不会报错，和private一样。这时候再写一个Teacher类，继承于Humanity,代码如下</p><pre class=" language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">protected</span> content<span class="token punctuation">:</span> string<span class="token punctuation">;</span> <span class="token keyword">public</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//此处不报错</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token function">sayBye</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>这时候在子类中使用this.content是不报错的。</p><p><strong>抽象类</strong><br><code>abstract</code> 用于定义抽象类和其中的抽象方法。</p><p>什么是抽象类？</p><p>首先，抽象类是不允许被实例化的：</p><pre class=" language-js"><code class="language-js">abstract <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> abstract <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//因为没有具体的方法，所以我们这里不写括号</span><span class="token punctuation">}</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//无法创建抽象类的实例。:Cannot create an instance of an abstract class.</span></code></pre><p>上面的例子中，我们定义了一个抽象类 Animal，并且定义了一个抽象方法 sayHi。在实例化抽象类的时候报错了。</p><p>其次，抽象类中的抽象方法必须被子类实现：</p><pre class=" language-js"><code class="language-js">abstract <span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> content<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> abstract <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//因为没有具体的方法，所以我们这里不写括号</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token keyword">public</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is 表达问候`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'你好'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//非抽象类“Student”不实现从类“Humanity”继承的抽象成员“play”。</span></code></pre><p>上面的例子中，我们定义了一个类 Student 继承了抽象类 Humanity，但是没有实现抽象方法 play，所以编译报错了。</p><p>下面是一个正确使用抽象类的例子：</p><pre class=" language-js"><code class="language-js">abstract <span class="token keyword">class</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> content<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token keyword">public</span> abstract <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Humanity</span> <span class="token punctuation">{</span>  <span class="token keyword">public</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'赛车'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>上面的例子中，我们实现了抽象方法 sayHi，编译通过了。</p>]]></content>
      
      
      <categories>
          
          <category> typescript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>初识TypeScript</title>
      <link href="2020/111339558.html"/>
      <url>2020/111339558.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#typescript-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">TypeScript 开发环境搭建</a></li><li><a href="#typescript%E7%BC%96%E5%86%99%E7%AC%AC%E4%B8%80%E4%B8%AA%E8%BF%90%E7%94%A8%E4%BB%A3%E7%A0%81">TypeScript编写第一个运用代码</a></li><li><a href="#typescript-%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B">TypeScript 基础类型</a></li><li><a href="#typescript-%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3%E5%92%8C%E7%B1%BB%E5%9E%8B%E6%8E%A8%E6%96%AD">TypeScript 中的类型注解和类型推断</a></li><li><a href="#typescript-%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80">TypeScript 类型断言</a></li><li><a href="#typescript-%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D">TypeScript 类型别名</a></li><li><a href="#typescript-%E6%9E%9A%E4%B8%BE">TypeScript 枚举</a></li></ul><p>TypeScript 是 JavaScript 的一个超集，，也就是说 TypeScript 是建立在 JavaScript 之上的，最后都会转变成 JavaScript, 由微软公司在 2012 年正式发布。</p><h2 id="TypeScript-开发环境搭建"><a href="#TypeScript-开发环境搭建" class="headerlink" title="TypeScript 开发环境搭建"></a>TypeScript 开发环境搭建</h2><p><strong>1.node安装</strong></p><p>下载地址：<a href="https://nodejs.org/en/">https://nodejs.org/en/</a><br>安装成功后，配置环境变量 在path中添加：<br>在命令窗口测试node 是否配置成功：</p><pre class=" language-bash"><code class="language-bash">node -v</code></pre><p>输出node版本即为成功</p><p><strong>2.安装TypeScript</strong></p><p>1.NPM 安装 TypeScript</p><pre class=" language-node"><code class="language-node">通过命令：npm install -g typescript</code></pre><p>2.Yarn 安装 TypeScript</p><pre class=" language-node"><code class="language-node">通过命令：yarn add  TypeScript</code></pre><p>安装完成后我们可以使用 tsc 命令来执行 TypeScript 的相关代码，以下是查看版本号：</p><pre class=" language-node"><code class="language-node">$ tsc -vVersion 3.2.2</code></pre><h2 id="TypeScript编写第一个运用代码"><a href="#TypeScript编写第一个运用代码" class="headerlink" title="TypeScript编写第一个运用代码"></a>TypeScript编写第一个运用代码</h2><p> 通常我们使用 .ts 作为 TypeScript 代码文件的扩展名，，用 TypeScript 编写 React 时，以 .tsx 为后缀。开发环境搭建好后，首先我们新建一个 test.ts 的文件，代码如下：</p><pre class=" language-ts"><code class="language-ts"><span class="token keyword">var</span> say<span class="token punctuation">:</span><span class="token keyword">string</span> <span class="token operator">=</span> <span class="token string">"Hello World"</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>say<span class="token punctuation">)</span></code></pre><p>这时候你使用node test.ts是执行不成功的，因为 Node 不能直接运行TypeScript文件。</p><p><code>补充</code>：TypeScript 中，使用 : 指定变量的类型，: 的前后有没有空格都可以。</p><p>然后执行以下命令将 TypeScript 转换为 JavaScript 代码：</p><pre class=" language-ts"><code class="language-ts">tsc test<span class="token punctuation">.</span>ts</code></pre><p>这时候再当前目录下（与 test.ts 同一目录）就会生成一个 test.js 文件，代码如下：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> say <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>say<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>最后用命令行输入如下命令</p><pre class=" language-node"><code class="language-node">node test.js</code></pre><p>在终端里就可以顺利的输出Hello World的字符了。</p><p><code>补充</code>：我们可以同时编译多个 ts 文件：</p><p>tsc test.ts test1.ts test2.ts</p><p><strong>ts-node 的安装和使用</strong></p><p>通过TypeScript编写第一个运用我们可以看到，要想打印出test.ts文件的内容，我们要通过两条命令才能打印出来，那么有没有什么简单的操作直接用一条命令打印出结果呢，结果是，当然有。</p><p>使用npm命令来全局安装，直接在命令行输入下面的命令：</p><pre class=" language-node"><code class="language-node">npm install -g ts-node</code></pre><p>安装完成后，就可以在命令中直接输入如下命令，来查看结果了。</p><pre class=" language-node"><code class="language-node">ts-node test.ts</code></pre><h2 id="TypeScript-基础类型"><a href="#TypeScript-基础类型" class="headerlink" title="TypeScript 基础类型"></a>TypeScript 基础类型</h2><p>JavaScript 的类型分为两种：原始数据类型（Primitive data types）和对象类型（Object types）。</p><p>原始数据类型包括：布尔值、数值、字符串、null、undefined 以及 ES6 中的新类型 Symbol。</p><p>由于TypeScript是JavaScript的超集，自然也支持与JavaScript几乎相同的数据类型，此外还提供了实用的枚举类型方便我们使用。</p><p><strong>1.Any 类型</strong></p><p>声明为 any 的变量可以赋予任意类型的值。任意值是 TypeScript 针对编程时类型不明确的变量使用的一种数据类型。</p><p>例：接受用户键盘输入，用户可以输入任意值</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> A<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 数字类型</span>A <span class="token operator">=</span> <span class="token string">'I am who I am'</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 字符串类型</span>A <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 布尔类型</span></code></pre><p><strong>2.空值(void)</strong></p><p>void有点相反any：根本没有任何类型。您可能通常将其视为不返回值的函数的返回类型</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">alertName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'My name is Tom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>如果这样定义后，你再加入任何返回值，程序都会报错。</p><p>声明一个 void 类型的变量没有什么用，因为你只能将它赋值为 undefined 和 null：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> unusable<span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> undefined<span class="token punctuation">;</span></code></pre><p><strong>3.数组（Array)</strong></p><p>TypeScript像JavaScript一样可以操作数组元素。 有两种方式可以定义数组。 </p><p><strong>第一种，「类型 + 方括号」表示法</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> list<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> list1<span class="token punctuation">:</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>数组的一些方法的参数也会根据数组在定义时约定的类型进行限制：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> list<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'66'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Argument of type 'string' is not assignable to parameter of type 'number'.</span></code></pre><p><strong>第二种方式是使用数组泛型，Array&lt;元素类型&gt;</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> list<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>这时候问题来了，如果数组中有多种类型，比如既有数字类型，又有字符串的时候。那我们要如何定义那。 很简单，只要加个()，然后在里边加上|就可以了，具体看代码。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> arr<span class="token punctuation">:</span> <span class="token punctuation">(</span>number <span class="token operator">|</span> string<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>4.元组 (Tuple)</strong></p><p>元组类型用来表示已知元素数量和类型的数组，各元素的类型不必相同，对应位置的类型需要相同。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Runoob'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 运行正常</span>x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Runoob'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 报错</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 输出 Runoob</span></code></pre><p><strong>5.枚举 (enum)</strong></p><p>enum类型是对JavaScript标准数据类型的一个补充,枚举类型用于定义数值集合。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red<span class="token punctuation">,</span> Green<span class="token punctuation">,</span> Blue<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> c<span class="token punctuation">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Blue<span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 输出 2</span></code></pre><p><strong>6.never</strong></p><p>never 是其它类型（包括 null 和 undefined）的子类型，代表从不会出现的值。这意味着声明为 never 类型的变量只能被 never 类型所赋值，在函数中它通常表现为抛出异常或无法执行到终止点（例如死循环)</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">errorFuntion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>还有一种是一直循环，也是我们常说的死循环，这样也运行不完，比如下面的代码：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">forNever</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello JSPang"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="TypeScript-中的类型注解和类型推断"><a href="#TypeScript-中的类型注解和类型推断" class="headerlink" title="TypeScript 中的类型注解和类型推断"></a>TypeScript 中的类型注解和类型推断</h2><p><strong>类型注解</strong><br>新建一个文件demo.ts ,然后看代码：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> count<span class="token punctuation">:</span> number<span class="token punctuation">;</span>count <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span></code></pre><p>这段代码就是类型注解，意思是显示的告诉代码，我们的count变量就是一个数字类型，这就叫做类型注解。</p><p><strong>类型推断</strong><br>如果没有明确的指定类型，那么 TypeScript 会依照类型推断（Type Inference）的规则推断出一个类型。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> say <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span>say <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span></code></pre><p>// index.ts(2,1): error TS2322: Type ‘number’ is not assignable to type ‘string’.</p><p>事实上，它等价于：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> say<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span>say <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span></code></pre><p>TypeScript 会在没有明确的指定类型的时候推测出一个类型，这就是类型推断。</p><p>如果定义的时候没有赋值，不管之后有没有赋值，都会被推断成 any 类型而完全不被类型检查</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> say  <span class="token comment" spellcheck="true">//被推断成 any 类型</span>say<span class="token operator">=</span> <span class="token string">'Hello World'</span><span class="token punctuation">;</span></code></pre><p><strong>补充：类型注解的使用时机</strong></p><p>如果 TypeScript 能够自动推断出变量类型， 我们就不需要使用类型注解，相反TypeScript无法推断出变量类型的话， 我们就需要使用类型注解。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> one <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">const</span> two <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">const</span> three <span class="token operator">=</span> one <span class="token operator">+</span> two<span class="token punctuation">;</span></code></pre><p>再来看一个用写类型注解的例子：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getTotal</span><span class="token punctuation">(</span>one<span class="token punctuation">,</span> two<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> one <span class="token operator">+</span> two<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这种形式，就需要用到类型注释了，因为这里的one和two会显示为any类型。这时候如果你传字符串，你的业务逻辑就是错误的，所以你必须加一个类型注解，把上面的代码写成下面的样子。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getTotal</span><span class="token punctuation">(</span>one<span class="token punctuation">:</span> number<span class="token punctuation">,</span> two<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> one <span class="token operator">+</span> two<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>补充：</code>将上面实例稍微改动下</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getTotal</span><span class="token punctuation">(</span>one<span class="token punctuation">:</span> number<span class="token punctuation">,</span> two<span class="token punctuation">:</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> one <span class="token operator">+</span> two <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这时候total的值就不是number类型了，很显然不是我们预期想要达到的效果，你可能会为了你预期想要达到的效果将代码改成如下写法：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> total<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Type 'string' is not assignable to type 'number'.</span></code></pre><p>这样写虽然可以让编辑器报错，但是这还不是很高明,合适的做法是给函数的返回值加上类型注解</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getTotal</span><span class="token punctuation">(</span>one<span class="token punctuation">:</span> number<span class="token punctuation">,</span> two<span class="token punctuation">:</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>  <span class="token keyword">return</span> one <span class="token operator">+</span> two<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>这段代码就比较严谨了</p><h2 id="TypeScript-类型断言"><a href="#TypeScript-类型断言" class="headerlink" title="TypeScript 类型断言"></a>TypeScript 类型断言</h2><p>有时候会遇到这样的情况，你会比TypeScript更了解某个值的详细信息。 通常这会发生在你清楚地知道一个实体具有比它现有类型更确切的类型。<br>类型断言可以用来手动指定一个值的类型。</p><p>类型断言有两种形式： </p><p><strong>第一种是“尖括号”语法:</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> meg<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token string">"this is a string"</span><span class="token punctuation">;</span><span class="token keyword">let</span> strLength<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>string<span class="token operator">></span>meg<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre><p><strong>另一个为as语法:</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> meg<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token string">"this is a string"</span><span class="token punctuation">;</span><span class="token keyword">let</span> strLength<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token punctuation">(</span>meg <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre><p><code>注意</code>：</p><ul><li>1.类型断言不是类型转换，断言成一个联合类型中不存在的类型是不允许的.</li><li>2.jsx语法中，只能使用 as</li></ul><p><strong>TypeScript 类型断言使用时机:</strong></p><p>有时候，我们需要在还不确定类型的时候就访问其中一个类型的属性或方法，比如：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token punctuation">:</span> string <span class="token operator">|</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>    <span class="token keyword">return</span> something<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//Property 'length' does not exist on type 'string | number'.Property 'length' does not exist on type 'number'.</span></code></pre><p>这样因为number类型没有length属性而报错，此时我们就可以使用类型断言，将 something 断言成 string：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token punctuation">:</span> string <span class="token operator">|</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>string<span class="token operator">></span>something<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span>或<span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token punctuation">:</span> string <span class="token operator">|</span> number<span class="token punctuation">)</span><span class="token punctuation">:</span> number <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>something <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="TypeScript-类型别名"><a href="#TypeScript-类型别名" class="headerlink" title="TypeScript 类型别名"></a>TypeScript 类型别名</h2><p>在实际应用中，有些类型名字比较长或者难以记忆，重新命名是一个较好的解决方案。</p><p>TypeScript可以通过type关键字给类型重命名，看如下代码实例：</p><pre class=" language-js"><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">T1</span> <span class="token punctuation">{</span>  a<span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>  b<span class="token punctuation">:</span> string<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">T2</span> <span class="token punctuation">{</span>  a<span class="token punctuation">:</span> boolean<span class="token punctuation">;</span>  b<span class="token punctuation">:</span> number<span class="token punctuation">;</span><span class="token punctuation">}</span>type T <span class="token operator">=</span> T1 <span class="token operator">&amp;</span> T2<span class="token punctuation">;</span></code></pre><p>上面的代码将交叉类型T1&amp;T2重新命名为T。</p><pre class=" language-js"><code class="language-js">type ant <span class="token operator">=</span> string<span class="token punctuation">;</span><span class="token keyword">let</span> str<span class="token punctuation">:</span>ant<span class="token operator">=</span><span class="token string">"蚂蚁部落"</span><span class="token punctuation">;</span></code></pre><p>别名不会新建一个类型，而是创建一个新名字来引用此类型。</p><h2 id="TypeScript-枚举"><a href="#TypeScript-枚举" class="headerlink" title="TypeScript 枚举"></a>TypeScript 枚举</h2><p>枚举是对 js 标准数据类型的补充，声明一组带名字的常量；比如一周只能有七天，颜色限定为红绿蓝等。</p><p>枚举使用 enum 关键字来定义，枚举按照枚举成员的类型可归为两大类：数字枚举类型和字符串枚举类型；<br>：</p><p><strong>数字枚举</strong><br>首先我们看看数字枚举，如果你使用过其它编程语言应该会很熟悉。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>Sun<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> Mon<span class="token punctuation">,</span> Tue<span class="token punctuation">,</span> Wed<span class="token punctuation">,</span> Thu<span class="token punctuation">,</span> Fri<span class="token punctuation">,</span> Sat<span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Days<span class="token punctuation">.</span>Thu<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//5</span></code></pre><p>枚举成员会默认会被赋值为从 0 开始递增的数字，由于Sun使用初始化为 1。 其余的成员会从 1开始自动增长。所以Thu结果是5 </p><p><strong>字符串枚举</strong><br>字符串枚举的概念很简单，但是有细微的 运行时的差别。 在一个字符串枚举里，每个成员都必须用字符串字面量，或另外一个字符串枚举成员进行初始化。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>    color1 <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">,</span>    color2 <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">,</span>    color3 <span class="token operator">=</span> <span class="token string">"pink"</span><span class="token punctuation">,</span><span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>color3<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//pink</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> typescript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ReactNative开发:就前端而言，如何实现app的更新功能</title>
      <link href="2020/111041726.html"/>
      <url>2020/111041726.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><p>最近有很多小伙伴问我，在ReactNative项目中，如何实现app的更新功能，为了解答大家的疑惑，我为此发表此博客</p><h2 id="app更新思路"><a href="#app更新思路" class="headerlink" title="app更新思路"></a>app更新思路</h2><p>数据库里存放最新版本的型号，然后客户端对比，如果版本不是最新。则下载服务器端的新APP</p><h2 id="前端的准备工作"><a href="#前端的准备工作" class="headerlink" title="前端的准备工作"></a>前端的准备工作</h2><p>1.需要获取移动设备信息</p><p>获取移动设备信息的组件名叫：react-native-device-info，兼容IOS和安卓双平台，可以获取设备ID、设备品牌、设备型号、IP以及APP版本号等信息。是一个应用很广泛的基础组件。</p><p>react-native-device-info npm地址：<a href="https://www.npmjs.com/package/react-native-device-info">https://www.npmjs.com/package/react-native-device-info</a></p><p><strong>组件说明</strong></p><p>该组件是一个第三方的获取移动设备信息的一个组件，适用于ios和android双平台</p><p><strong>安装</strong></p><p>使用npm:</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save react-native-device-info</code></pre><p>使用yarn:</p><pre class=" language-bash"><code class="language-bash">yarn add react-native-device-info</code></pre><p><strong>使用示例</strong></p><p>竟然是要比对版本，首先获取版本号才是前提，<br>react-native-device-info组件中有一个getVersion()方法，用来获取应用程序版本。</p><pre class=" language-js"><code class="language-js">  <span class="token keyword">import</span> DeviceInfo <span class="token keyword">from</span> <span class="token string">'react-native-device-info'</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> device <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  device<span class="token punctuation">.</span>AppVersion <span class="token operator">=</span> DeviceInfo<span class="token punctuation">.</span><span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取获取应用程序版本。</span></code></pre><p>2.需要区分平台（Platform）</p><p>Platform模块用于区分移动设备的操作系统及api版本，另外，还可以根据不同平台的后缀扩展名自动识别并装载组件。</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>  Platform <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>OS <span class="token operator">===</span> <span class="token string">'android'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//安卓判断</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>OS <span class="token operator">===</span> <span class="token string">'ios'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>               <span class="token comment" spellcheck="true">//ios判断</span>      <span class="token punctuation">}</span></code></pre><p>3.代码借鉴</p><pre class=" language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>  Platform <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native'</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token punctuation">{</span> getVersion <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-native-device-info'</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>    appVision<span class="token punctuation">:</span> <span class="token punctuation">{</span>      versionNum<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  reducers<span class="token punctuation">:</span> <span class="token punctuation">{</span>    update<span class="token punctuation">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token operator">...</span>payload <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  effects<span class="token punctuation">:</span> <span class="token punctuation">(</span>dispatch<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//定义一个getAPPversion（）方法</span>    <span class="token function">getAPPversion</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">//区分平台</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>OS <span class="token operator">===</span> <span class="token string">'android'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment" spellcheck="true">//获取版本并更新</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          versionNum<span class="token punctuation">:</span> <span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>OS <span class="token operator">===</span> <span class="token string">'ios'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>          versionNum<span class="token punctuation">:</span> <span class="token function">getVersion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//需要用的获取版本时，在调用该getAPPversion（）方法即可</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="后端的准备工作"><a href="#后端的准备工作" class="headerlink" title="后端的准备工作"></a>后端的准备工作</h2><p>接受前端插入的版本号，与数据库里存放版本的型号做对比</p><h2 id="留言"><a href="#留言" class="headerlink" title="留言"></a>留言</h2>]]></content>
      
      
      <categories>
          
          <category> 移动端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReactNative </tag>
            
            <tag> ios </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阅读《深入浅出React和Redux》的知识点总结</title>
      <link href="2020/111014509.html"/>
      <url>2020/111014509.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><p>《深入浅出React和Redux》的作者程墨　资深架构师，曾任职于摩托罗拉、雅虎和微软，云鸟配送平台联合创始人，本片博客我将阅读本书的知识点加以总结，方便感兴趣的开发人员学习。</p><h2 id="1-如何初始化一个-React-项目？"><a href="#1-如何初始化一个-React-项目？" class="headerlink" title="1.如何初始化一个 React 项目？"></a>1.如何初始化一个 React 项目？</h2><p>安装靠：<code>npm install --global create-react-app</code></p><p>初始化项目靠：<code>create-react-app first_react_app</code></p><p>启动项目靠：1.<code>cd first_react_app </code><br>          2. <code>npm start （npm run start）</code></p><h2 id="2-为什么要减少对Dom的操作？"><a href="#2-为什么要减少对Dom的操作？" class="headerlink" title="2.为什么要减少对Dom的操作？"></a>2.为什么要减少对Dom的操作？</h2><p>因为浏览器在渲染html格式的网页时，先会将html文本解析来构建Dom树，然后根据Dom树渲染用户看到的界面，当要改变界面内容的时候，就会改变Dom树上的节点，Dom操作会引起浏览器对网页的重新布局，这个过程肯定效率不高。</p><h2 id="3-React函数式编程的优点？"><a href="#3-React函数式编程的优点？" class="headerlink" title="3.React函数式编程的优点？"></a>3.React函数式编程的优点？</h2><p>React 利用函数式编程的思维来解决用户界面渲染的问题，最大的优势是开发者的效<br>率会大大提高，开发出来的代码可维护性和可阅读性也大大增强</p><h2 id="4-低耦合和高内聚的概念理解"><a href="#4-低耦合和高内聚的概念理解" class="headerlink" title="4.低耦合和高内聚的概念理解"></a>4.低耦合和高内聚的概念理解</h2><p>低耦合：指的是不同组件之间的依赖关系要尽量弱化，也就是每个组件要尽量独立。<br>高内聚：指的是把逻辑紧密相关的内容放在一个组件中。</p><h2 id="5-什么时候选择用-prop-？什么时候选择用state-呢？"><a href="#5-什么时候选择用-prop-？什么时候选择用state-呢？" class="headerlink" title="5.什么时候选择用 prop ？什么时候选择用state 呢？"></a>5.什么时候选择用 prop ？什么时候选择用state 呢？</h2><p>prop 是组件的对外接口，当外部世界要传递一些数据给 React 组件，一个最直接的方式就是通过 prop ；同样，<br>React 组件要反馈数据给外部世界，也可以用 prop</p><p>state 是组件的内部状态，对外用<br>prop ，内部用 state</p><h2 id="6-虚拟Dom-Virutal-DOM-的概念及其原理？"><a href="#6-虚拟Dom-Virutal-DOM-的概念及其原理？" class="headerlink" title="6.虚拟Dom(Virutal DOM)的概念及其原理？"></a>6.虚拟Dom(Virutal DOM)的概念及其原理？</h2><p>虚拟Dom就是对 DOM 树的抽象,虚拟Dom 不会触及浏览器的部分，只是存在于 JavaScript 空间的树形结构，每次自上而下<br>React 组件时，会对比这一次产生的 虚拟Dom 和上一次渲染的虚拟Dom 进行对比，然后修改真正的 DOM 树时就只需要触及差别中的部分就行。</p><h2 id="7-JSX-中引入样式注意要点"><a href="#7-JSX-中引入样式注意要点" class="headerlink" title="7.JSX 中引入样式注意要点"></a>7.JSX 中引入样式注意要点</h2><p>JSX 中引入样式须用花括号｛｝把 prop 值包住，所以 style 的值有两层花括号，外层花括号代表是 JSX语法，内层的花括号代表这是一个对象常量。</p><p>例：</p><pre class=" language-css"><code class="language-css"><span class="token selector">style=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token property">color</span> <span class="token punctuation">:</span>”red”<span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="8-在构造函数中为什么要调用super-props"><a href="#8-在构造函数中为什么要调用super-props" class="headerlink" title="8.在构造函数中为什么要调用super(props)?"></a>8.在构造函数中为什么要调用super(props)?</h2><p>ES6 语法中，super 指代父类的构造函数，React 里面就是指代 React.Component 的构造函数。</p><p>在你调用 super() 之前，你无法在构造函数中使用 this，类实例的所有成员函数就无法通过 this.props 访问到父组件传递过来的 props 值.</p><h2 id="9-propTypes是用来做什么的"><a href="#9-propTypes是用来做什么的" class="headerlink" title="9.propTypes是用来做什么的?"></a>9.propTypes是用来做什么的?</h2><p>propTypes 检查是一个辅助开发的功能，用来定义 prop 规格，这不只是声明，而且是一种限制，在运行时和静态代码检查时，都可以根据propTypes 判断外部世界是否正确地使用了组件的属性.</p><h2 id="10-组件的生命周期"><a href="#10-组件的生命周期" class="headerlink" title="10.组件的生命周期"></a>10.组件的生命周期</h2><p>生命周期可能会经历如下三个过程：</p><p>1.装载过程（Mount ），也就是把组件第一次在 DOM 树中渲染的过程；</p><p>2.更新过程（Update ），当组件被重新渲染的过程；</p><p>3.卸载过程（Unmount ），组件从 DOM 中删除的过程；</p><p><strong>装载过程</strong></p><p>1.constructor ：作用（初始化 state，绑定成员函数的 this 环境）</p><p>2.componentWillMount：componentWillMount 会在调用 render 函数之前被调用，</p><p>3.render （作用：渲染挂载组件）</p><p>4.componentDidMount: componentDidMount 会在调用 render 函数之后被调用</p><p><strong>注：剩下的文章后续补充</strong></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> React </category>
          
          <category> Redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> npm </tag>
            
            <tag> Redux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Http常见状态码解析</title>
      <link href="2020/110529936.html"/>
      <url>2020/110529936.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#http%E7%8A%B6%E6%80%81%E7%A0%81%E5%88%86%E7%B1%BB">HTTP 状态码分类</a></li><li><a href="#%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%A7%81%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E4%B8%BA">一些常见的状态码为：</a></li><li><a href="#%E4%BB%A51%E5%BC%80%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E6%8E%A5%E5%8F%97%E7%9A%84%E8%AF%B7%E6%B1%82%E6%AD%A3%E5%9C%A8%E5%A4%84%E7%90%86">以 1 开的状态码（接受的请求正在处理）</a></li><li><a href="#%E4%BB%A52%E5%BC%80%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%B7%E6%B1%82%E6%88%90%E5%8A%9F">以 2 开的状态码（请求成功）</a></li><li><a href="#%E4%BB%A53%E5%BC%80%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E9%87%8D%E5%AE%9A%E5%90%91">以 3 开的状态码（重定向）</a></li><li><a href="#%E4%BB%A54%E5%BC%80%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF">以 4 开的状态码（请求错误）</a></li><li><a href="#%E4%BB%A54%E5%BC%80%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%B7%E6%B1%82%E9%94%99%E8%AF%AF-1">以 5 开的状态码（请求错误）</a></li></ul><p>HTTP 状态码（英语：HTTP Status Code）是用以表示网页服务器超文本传输协议响应状态的 3 位数字代码。HTTP 状态码的作用是：Web 服务器用来告诉客户端，发生了什么事。</p><h2 id="HTTP-状态码分类"><a href="#HTTP-状态码分类" class="headerlink" title="HTTP 状态码分类"></a>HTTP 状态码分类</h2><p>HTTP 状态码被分为五大类， 目前我们使用的 HTTP 协议版本是 1.1， 支持以下的状态码。随着协议的发展，HTTP 规范中会定义更多的状态码。</p><ul><li>100-199 信息，服务器收到请求，需要请求者继续执行操作</li><li>200-299 用于表示请求成功，操作被成功接收并处理</li><li>300-399 重定向，需要进一步的操作以完成请求，用于已经移动的文件并且常被包含在定位头信息中指定新的地址信息。</li><li>400-499 客户端请求出错，服务器无法处理请求</li><li>500-599 用于指出服务器错误，服务器在处理请求的过程中发生了错误</li></ul><h2 id="一些常见的状态码为："><a href="#一些常见的状态码为：" class="headerlink" title="一些常见的状态码为："></a>一些常见的状态码为：</h2><p>200 - 服务器成功返回网页</p><p>400- 访问的页面域名不存在或者请求错误。主要分为两种。</p><ul><li><p>1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。</p></li><li><p>2、请求参数有误。</p></li></ul><p>401 - 请求要求用户的身份认证</p><p>403 - 服务器理解请求客户端的请求，但是拒绝执行此请求</p><p>404 - 请求的网页不存在</p><p>405 - 客户端请求中的方法被禁止。</p><p>500 - 服务器内部错误，无法完成请求</p><p>503 - 服务不可用</p><h2 id="以-1-开的状态码（接受的请求正在处理）"><a href="#以-1-开的状态码（接受的请求正在处理）" class="headerlink" title="以 1 开的状态码（接受的请求正在处理）"></a>以 1 开的状态码（接受的请求正在处理）</h2><ul><li><p>100 （继续）： 请求者应当继续提出请求。服务器返回此代码表示已收到请求的第一部分，正在等待其余部分。</p></li><li><p>101 （切换协议）： 请求者已要求服务器切换协议，服务器已确认并准备切换。</p></li></ul><h2 id="以-2-开的状态码（请求成功）"><a href="#以-2-开的状态码（请求成功）" class="headerlink" title="以 2 开的状态码（请求成功）"></a>以 2 开的状态码（请求成功）</h2><ul><li>200 （成功）： 表示从客户端发送给服务器的请求被正常处理并返回；一般用于 GET 与 POST 请求</li><li>201 （已创建）： 请求成功并且服务器创建了新的资源。</li><li>202 （已接受） ：服务器已经接受请求，但未处理完成</li><li>203 （非授权信息）： 服务器已成功处理了请求，但返回的 meta 信息不在原始的服务器，而是一个副本。</li><li>204 （无内容）： 服务器成功处理了请求，但在返回的响应报文中不含实体的主体部分（没有资源可以返回）。</li><li>205 （重置内容）： 服务器成功处理了请求，但没有返回任何内容。</li><li>206 （部分内容）： 服务器成功处理了部分 GET 请求，响应报文中包含由 Content-Range 指定范围的实体内容。</li></ul><h2 id="以-3-开的状态码（重定向）"><a href="#以-3-开的状态码（重定向）" class="headerlink" title="以 3 开的状态码（重定向）"></a>以 3 开的状态码（重定向）</h2><p>表示要完成请求，需要进一步操作。 通常，这些状态代码用来重定向。</p><ul><li><p>300 （多种选择）： 针对请求，服务器可执行多种操作。服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。</p></li><li><p>301 （永久移动）： 永久性重定向，表示请求的资源被分配了新的 URL，之后应使用更改的 URL；</p></li><li><p>302 （临时移动）： 临时移动。与 301 类似。但资源只是临时被移动。客户端应继续使用原有 URI</p></li><li><p>303 （查看其他位置）：查看其它地址。与 301 类似。使用 GET 和 POST 请求查看</p></li><li><p>304 （未修改）： 自从上次请求后，请求的网页未修改过。服务器返回此响应时，不会返回网页内容。</p></li><li><p>305 （使用代理）： 请求者只能使用代理访问请求的网页。如果服务器返回此响应，还表示请求者应使用代理。</p></li><li><p>307 （临时重定向）：临时重定向。与 302 类似。使用 GET 请求重定向</p></li></ul><h2 id="以-4-开的状态码（请求错误）"><a href="#以-4-开的状态码（请求错误）" class="headerlink" title="以 4 开的状态码（请求错误）"></a>以 4 开的状态码（请求错误）</h2><p>这些状态代码表示请求可能出错，妨碍了客户端的请求，服务器无法处理请求。</p><ul><li><p>400&nbsp;&nbsp; （错误请求）：客户端请求的语法错误，服务器无法理解</p></li><li><p>401&nbsp;&nbsp; （未授权）： 请求要求身份验证。 对于需要登录的网页，服务器可能返回此响应。</p></li><li><p>403&nbsp;&nbsp; （禁止）： 服务器理解请求客户端的请求，但是拒绝执行此请求。</p></li><li><p>404&nbsp;&nbsp; （未找到）：服务器无法根据客户端的请求找到资源（网页）。</p></li><li><p>405&nbsp;&nbsp; （方法禁用）：客户端请求中的方法被禁止。</p></li><li><p>406&nbsp;&nbsp; （不接受）： 服务器无法根据客户端请求的内容特性完成请求。</p></li><li><p>407&nbsp;&nbsp; （需要代理授权）： 此状态代码与 401（未授权）类似，但指定请求者应当授权使用代理。</p></li><li><p>408&nbsp;&nbsp; （请求超时）：&nbsp; 服务器等候请求时发生超时。</p></li><li><p>409&nbsp;&nbsp; （冲突）：&nbsp; 服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。</p></li><li><p>410&nbsp;&nbsp; （已删除）： 客户端请求的资源已经不存在。410 不同于 404，如果资源以前有现在被永久删除了可使用 410 代码，网站设计人员可通过 301 代码指定资源的新位置</p></li><li><p>411&nbsp;&nbsp; （需要有效长度）： 服务器不接受不含有效内容长度标头字段的请求。</p></li><li><p>412&nbsp;&nbsp; （未满足前提条件）： 服务器未满足请求者在请求中设置的其中一个前提条件。</p></li><li><p>413&nbsp;&nbsp; （请求实体过大）： 服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。</p></li><li><p>414&nbsp;&nbsp; （请求的 URI 过长）： 请求的 URI（通常为网址）过长，服务器无法处理。</p></li><li><p>415&nbsp;&nbsp; （不支持的媒体类型）： 请求的格式不受请求页面的支持。</p></li><li><p>416&nbsp;&nbsp; （请求范围不符合要求）： 如果页面无法提供请求的范围，则服务器会返回此状态代码。</p></li><li><p>417&nbsp;&nbsp; （未满足期望值） 服务器未满足”期望”请求标头字段的要求。</p></li></ul><h2 id="以-5-开的状态码（请求错误）"><a href="#以-5-开的状态码（请求错误）" class="headerlink" title="以 5 开的状态码（请求错误）"></a>以 5 开的状态码（请求错误）</h2><p>这些状态代码表示服务器在尝试处理请求时发生内部错误。 这些错误可能是服务器本身的错误，而不是请求出错。</p><ul><li>500 （服务器内部错误）： 服务器遇到错误，无法完成请求。</li><li>501 （尚未实施）： 服务器不具备完成请求的功能。例如，服务器无法识别请求方法时可能会返回此代码。</li><li>502 （错误网关）： 服务器作为网关或代理，从上游服务器收到无效响应。</li><li>503 （服务不可用）： 服务器目前无法使用（由于超载或停机维护）。通常，这只是暂时状态。</li><li>504 （网关超时）： 服务器作为网关或代理，但是没有及时从上游服务器收到请求。</li><li>505 （HTTP 版本不受支持）： 服务器不支持请求中所用的 HTTP 协议版本。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> http </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用github平台和PicGo工具来搭建自己的图床</title>
      <link href="2020/110359701.html"/>
      <url>2020/110359701.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#github%E4%B8%8A%E7%9A%84%E5%87%86%E5%A4%87">github上的准备</a>    </li><li><a href="#picgo%E5%B7%A5%E5%85%B7%E4%B8%8A%E7%9A%84%E5%87%86%E5%A4%87">PicGo工具上的准备</a></li><li><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%9B%BE%E5%BA%8A%E6%8E%A8%E8%8D%90">第三方图床推荐</a></li></ul><p>PicGo是一款图片上传工具，目前支持SM.MS图床、腾讯云COS、微博图床、GitHub图床、七牛图床、Imgur图床、阿里云OSS、又拍云图床，未来将支持更多图床。</p><h2 id="github上的准备"><a href="#github上的准备" class="headerlink" title="github上的准备"></a>github上的准备</h2><p><strong>创建GitHub图床之前，需要注册/登陆GitHub账号</strong></p><p>GitHub 是一个面向开源及私有 软件项目的托管平台，因为只支持 Git 作为唯一的版本库格式进行托管，故名 GitHub。 GitHub 于 2008 年 4 月 10 日正式上线</p><p><strong>1.登入<a href="https://github.com/">github官网</a>,点击右上角 Sign In 注册</strong></p><p><img src="https://i.loli.net/2020/11/03/n2az3fWJsxKM1ki.jpg"></p><p><strong>2.按照要求，填写完注册信息</strong></p><p><img src="https://i.loli.net/2020/11/03/6cn3j8b2AShWUGx.jpg"></p><p><strong>3.注册后，点击 Sign up 登录</strong></p><p><img src="https://i.loli.net/2020/11/03/8LMqcwSOW2Y1aVg.png"></p><p><strong>4.登录成功后，进入主页面就表示注册成功了</strong></p><p><img src="https://i.loli.net/2020/11/03/WrHIeAkRGUhLEFs.png"></p><p><strong>创建Repository</strong></p><p><strong>1.点击”New repository”按钮</strong></p><p><img src="https://i.loli.net/2020/11/03/KcAb3WuF4lUrME6.png"></p><p><strong>2.填写必要的仓库信息并创建</strong></p><p><img src="https://i.loli.net/2020/11/03/FArpfQkOZyNc2xG.png"></p><p><strong>3.点击”Settings”按钮,生成一个Token用于操作GitHub repository</strong></p><p><img src="https://i.loli.net/2020/11/03/21O8XaHmokevGwt.png"></p><p><strong>4.进入页面后，点击”Developer settings”按钮</strong></p><p><img src="https://i.loli.net/2020/11/03/B2a7ADzoijsCkZl.png"></p><p><strong>5.点击”Personal access tokens”按钮</strong></p><p><img src="https://i.loli.net/2020/11/03/ZGzfFqWIJ8P6oA4.png"></p><p><strong>6.点击”Generate new token”按钮</strong></p><p><img src="https://i.loli.net/2020/11/03/p8CL6TadbfRQYDM.png"></p><p><strong>7.填写描述，选择”repo”权限，然后点击”Generate token”按钮</strong></p><p><img src="https://i.loli.net/2020/11/03/5S9qlsFrEtgM7Bh.png"></p><p>注：创建成功后，会生成一串token，这串token之后不会再显示，所以第一次看到的时候，可以建个文本文件好好保存，忘记了只有重新生成，每次都不一样。</p><h2 id="PicGo工具上的准备"><a href="#PicGo工具上的准备" class="headerlink" title="PicGo工具上的准备"></a>PicGo工具上的准备</h2><p><strong>1. 下载PicGo客户端对应的版本并安装</strong></p><p><a href="https://www.lanzous.com/b04abbw8h">PicGo工具下载</a></p><p><a href="https://github.com/Molunerfinn/PicGo/releases">PicGo工具github地址</a></p><p><strong>2. 启动PicGo后，打开设置界面，按照截图操作点击</strong></p><p><img src="https://i.loli.net/2020/11/03/PSsDc2U4oTj1AeG.png"></p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/t13.png"></p><p><strong>解释</strong></p><ul><li><p>1.第一行设定仓库名按照“账户名/仓库名的格式填写”</p></li><li><p>2.第二行填入你的分支名称，默认为master；</p></li><li></li><li><p>3.在第三栏填入你刚才申请到的Token；</p></li><li></li><li><p>4.第四行填入你的repo中的储存路径，可以不填</p></li><li></li><li><p>5.第五行自定义域名的作用是在上传图片后成功后，PicGo会将“自定义域名+上传的图片名”生成的访问链接，放到剪切板上，自定义域名需要按照这样去填写：<a href="https://raw.githubusercontent.com/%E8%B4%A6%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D/master%E6%88%96%E8%80%85%E4%BD%BF%E7%94%A8%E8%BF%99%E9%87%8C%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E7%9A%84%E6%A0%BC%E5%BC%8F%EF%BC%9Ahttps://cdn.jsdelivr.net/gh/%E8%B4%A6%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D/%EF%BC%8C%E8%BF%99%E6%98%AF%E4%B8%AA%E5%85%8D%E8%B4%B9%E7%9A%84CDN%E5%8A%A0%E9%80%9F%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%8A%A0%E5%BF%AB%E5%9B%BE%E7%89%87%E7%9A%84%E8%AE%BF%E9%97%AE%E9%80%9F%E5%BA%A6%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%8A%A0%E3%80%82">https://raw.githubusercontent.com/账户名/仓库名/master或者使用这里的自定义域名的格式：https://cdn.jsdelivr.net/gh/账户名/仓库名/，这是个免费的CDN加速，可以加快图片的访问速度，也可以不加。</a></p></li></ul><p>**3.点击PicGo工具图片上传区上传你需要的图片 **</p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/tp.png"></p><p><strong>4.登入你的github账户，刷新你事先创建的仓库就可以看见图片提交成功了</strong></p><p><img src="https://raw.githubusercontent.com/liang996/gallery/master/tii.png"></p><h2 id="第三方图床推荐"><a href="#第三方图床推荐" class="headerlink" title="第三方图床推荐"></a>第三方图床推荐</h2><p>感觉比较好用的有：</p><p><a href="https://sm.ms/">https://sm.ms/</a></p><p><a href="https://imgchr.com/">https://imgchr.com/</a></p>]]></content>
      
      
      <categories>
          
          <category> PicGo </category>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git基本操作笔记</title>
      <link href="2020/110351922.html"/>
      <url>2020/110351922.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#1-%E4%BB%80%E4%B9%88%E6%98%AFgit">1. 什么是git</a></li><li><a href="#2git%E4%B8%8Esvn%E7%9A%84%E5%8C%BA%E5%88%AB">2.git与svn的区别</a></li><li><a href="#3git%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E5%85%B6%E9%85%8D%E7%BD%AE%E6%B5%81%E7%A8%8B">3.git的安装及其配置流程</a></li><li><a href="#4git%E7%9A%84%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE">4.git的基本配置</a></li><li><a href="#4git%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5">4.git的核心概念</a></li><li><a href="#5git%E4%BB%93%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E7%89%88%E6%9C%AC%E5%BA%93">5.GIT仓库基本操作（版本库）</a></li><li><a href="#6%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6">6.删除文件</a></li><li><a href="#7%E6%96%87%E4%BB%B6%E7%A7%BB%E5%8A%A8%E6%88%96%E8%80%85%E9%87%8D%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6mv-">7.文件移动或者重命名文件（mv ）</a></li><li><a href="#8git%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">8.git远程仓库</a></li><li><a href="#9git%E6%A0%87%E7%AD%BE">9.git标签</a></li><li><a href="#10%E5%BF%BD%E7%95%A5%E7%89%B9%E6%AE%8A%E6%96%87%E4%BB%B6">10.忽略特殊文件</a></li></ul><p>Git是一个免费的开源 分布式版本控制系统，旨在快速高效地处理从小型到大型项目的所有内容。</p><h2 id="1-什么是git"><a href="#1-什么是git" class="headerlink" title="1. 什么是git"></a>1. 什么是git</h2><p><strong>简单的理解</strong></p><ul><li>git是一个开源的分布式控制版本控制系统</li><li>可以有效记录每一次的修改提交操作</li><li>可以配合多个开发人员相互协调性的工作</li><li>可以将工程放在本地和远程操作</li></ul><h2 id="2-git与svn的区别"><a href="#2-git与svn的区别" class="headerlink" title="2.git与svn的区别"></a>2.git与svn的区别</h2><ul><li>git是分布式的，svn是集中式的，这个区别也是最为核心的区别：因为 Git 是分布式的，所以 Git 支持离线工作，在本地可以进行很多操作。而 SVN 必须联网才能正常工作。</li><li>在易用性这方面，SVN相对于git会好得多，简单易上手，对新手很友好。而git的使用，必须要先了解git的一些基本命令，如git init 、git pull、git push等等…</li><li>Git 没有一个全局的版本号，而 SVN 有：目前为止这是跟 SVN 相比 Git 缺少的最大的一个特征。</li></ul><h2 id="3-git的安装及其配置流程"><a href="#3-git的安装及其配置流程" class="headerlink" title="3.git的安装及其配置流程"></a>3.git的安装及其配置流程</h2><p>要使用Git，第一步当然是安装Git了</p><p><strong>在Linux上安装Git</strong></p><p>首先，你可以试着输入git，看看系统有没有安装Git：</p><pre><code>$ gitThe program 'git' is currently not installed. You can install it by typing:sudo apt-get install git</code></pre><p>像上面的命令，有很多Linux会友好地告诉你Git没有安装，还会告诉你如何安装Git。</p><p>如果你碰巧用Debian或Ubuntu Linux，通过一条<strong>sudo apt-get install git</strong>就可以直接完成Git的安装，非常简单。</p><p>老一点的Debian或Ubuntu Linux，要把命令改为<strong>sudo apt-get install git-core`</strong></p><p>如果是其他Linux版本，可以直接通过源码安装。先从Git官网下载源码，然后解压，依次输入：**./config，make，sudo make install**这几个命令安装就好了。</p><p><strong>Mac 平台上安装</strong></p><p>在 Mac 平台上安装 Git 最容易的当属使用图形化的 Git 安装工具，下载地址为：</p><p><a href="http://sourceforge.net/projects/git-osx-installer/">http://sourceforge.net/projects/git-osx-installer/</a></p><p><strong>Windows 平台上安装</strong><br>  目前我个人的电脑用的是windows,所以我主要记录git在windows上面的安装操作<br>在 Windows 平台上安装 Git 同样轻松，有个叫做 msysGit 的项目提供了安装包，可以到 GitHub 的页面上下载 exe 安装文件并运行：</p><p>安装包下载地址：<a href="https://gitforwindows.org/">https://gitforwindows.org/</a> 或者直接搜索给git的安装</p><p><strong>详细安装步骤如下：</strong></p><p><strong>1.从git官网下一个git安装包。</strong></p><p><img src="https://i.loli.net/2020/11/03/ETc6CvP4uanpe1S.png"></p><p><strong>2.点击git.exe安装程序，点击【next】</strong></p><p><img src="https://i.loli.net/2020/11/03/5bsQXZUk8cD4VfT.png"></p><p><strong>3.选择安装目录</strong></p><p><img src="https://i.loli.net/2020/11/03/CBvfcdZoHIMLY31.png"></p><p><strong>4、选择组件</strong></p><p><img src="https://i.loli.net/2020/11/03/oMqmPt3arcxTsvy.png"></p><p><strong>5、开始菜单目录名设置</strong></p><p><img src="https://i.loli.net/2020/11/03/PtWElpKN6ZLg8qJ.png"></p><p><strong>6、选择使用命令行环境</strong></p><p><img src="https://i.loli.net/2020/11/03/RoZtjObW4nwzrmp.png"></p><p><strong>7、以下三步默认，直接点击下一步</strong></p><p><img src="https://i.loli.net/2020/11/03/Kk6UhYdmEeq9rIw.png" alt="alt text"></p><p><img src="https://i.loli.net/2020/11/03/LZFDJTXVAbIMR4x.png"></p><p><img src="https://i.loli.net/2020/11/03/OiAhgmCFPW1Sv8q.png"></p><p> <strong>8、安装完成</strong></p><p><img src="https://i.loli.net/2020/11/03/cdtenhlJL2zI1DY.png"></p><p> <strong>9、检验是否安装成功</strong></p><p>回到电脑桌面，鼠标右击如果看到有两个git单词则安装成功</p><p><img src="https://i.loli.net/2020/11/03/2JyHgUlkfeZSmFD.png"></p><h2 id="4-git的基本配置"><a href="#4-git的基本配置" class="headerlink" title="4.git的基本配置"></a>4.git的基本配置</h2><p>git提供了一个叫** git config** 的工具，它用于专门配置或读取相应的工作环境变量</p><p>在gGit安装之后需要进行一些基本信息设置：</p><p> <strong>设置用户名</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> config --global  user.name   【空格】<span class="token string">"你在github上面注册的用户名"</span>；</code></pre><p> <strong>设置用户邮箱</strong></p><pre><code>git config --global  user.email 【空格】 "你在github上面注册的用户邮箱"；</code></pre><p> <strong>检查是否配置成功</strong></p><p>配置ok之后，我们用如下命令来看看是否配置成功:git config –list，或者在使用<code>vim ~/.gitconfig</code><br>命令,如果显示内容是下面信息，则配置成功</p><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>http<span class="token punctuation">]</span>    postBuffer <span class="token operator">=</span> 2M<span class="token punctuation">[</span>user<span class="token punctuation">]</span>    name <span class="token operator">=</span> runoob    email <span class="token operator">=</span> test@runoob.com</code></pre><p> <strong>注意如下：</strong></p><ul><li><p>git config命令的–global参数，用了这个参数，表示你这台机器上所有的Git仓库都会使用这个配置，当然也可以对某个仓库指定不同的用户名和Email地址.</p></li><li><p>设置用户名和用户邮箱时 ，一定不要忘记<strong>打空格</strong>，不然会报如下错误：</p></li></ul><pre class=" language-bash"><code class="language-bash">*** Please tell me <span class="token function">who</span> you are.  Run  <span class="token function">git</span> config --global user.email <span class="token string">"you@example.com"</span>  <span class="token function">git</span> config --global user.name <span class="token string">"Your Name"</span>to <span class="token keyword">set</span> your account<span class="token string">'s default identity.Omit --global to set the identity only in this repository.fatal: unable to -detect email address (got '</span>Administrator@V92I2BPQSUKZBCB.<span class="token punctuation">(</span>          </code></pre><h2 id="4-git的核心概念"><a href="#4-git的核心概念" class="headerlink" title="4.git的核心概念"></a>4.git的核心概念</h2><p><strong>git 最核心的一个概念就是工作流。</strong></p><ul><li><p>工作区(Workspace)是电脑中实际的目录: 主要执行添加，编辑，修改文件等动作。</p></li><li><p>暂存区(Index)类似于缓存区域，临时保存你的改动： 主要是暂存已经修改的文件最后统一提交到git仓库中。</p></li><li><p>仓库区(Repository)，分为本地仓库和远程仓库： 是最终确定文件保存到仓库，成为一个新的版本，并对他人可见。</p></li></ul><p><strong>简单的说,Git 工作的基本流程是</strong></p><ul><li>克隆 Git 资源作为工作目录。</li><li>在克隆的资源上添加或修改文件。</li><li>如果其他人修改了，你可以更新资源。</li><li>在提交前查看修改。</li><li>提交修改。</li><li>如果发现错误，可以撤回提交并再次修改并提交。</li></ul><h2 id="5-GIT仓库基本操作（版本库）"><a href="#5-GIT仓库基本操作（版本库）" class="headerlink" title="5.GIT仓库基本操作（版本库）"></a>5.GIT仓库基本操作（版本库）</h2><p><strong>版本库的介绍（何为版本库）</strong></p><p>版本库又名也叫仓库，英文名repositotry,可以简单的理解为一个目录，这个目录里面的使用文件都被给git管理起来，每个文件的修改、删除，git都会实时记录下来，这样方便了将每个每个时刻的更改恢复。</p><p>首先，选择一个合适的地方（我选择了D盘，我的电脑是Win 7），常见一个空目录：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">cd</span> D:      //切换到D盘$ <span class="token function">mkdir</span> Git  //创建文件夹命令$ <span class="token function">cd</span> Git     //切换到指定文件夹命令$ <span class="token function">git</span>  init     //初始化本地git仓库</code></pre><p><strong>注意</strong>: 如果你使用Windows系统，为了避免遇到各种莫名其妙的问题，请确保目录名（包括父目录）不包含中文。</p><p><strong>1. 初始化本地git仓库（git init）</strong></p><p>Git 使用 git init 命令来初始化一个 Git 仓库，Git 的很多命令都需要在 Git 的仓库中运行，所以 git init 是使用 Git 的第一个命令。</p><p>在执行完成 git init 命令后，Git 仓库会生成一个 .git 目录，它是git进行跟踪和管理版本库，禁止修改删改此文件(如果没看到可能是您的电脑不显示隐藏文件,在命令行工具运行 ls -ah可查看);该目录包含了资源的所有元数据，其他的项目目录保持不变（不像 SVN 会在每个子目录生成 .svn 目录，Git 只在仓库的根目录生成 .git 目录）。</p><p><strong>2.把文件添加到版本库（git add &lt;文件名&gt;）</strong></p><p>我们新建一个文件，如gitNOte.txt文件，内容随便编辑，不过内容尽可能的有价值，内容编辑好后，一定要放到 你刚才创建的Git目录下（子目录也行），因为这是一个Git仓库，放到其他地方Git再厉害也找不到这个文件。</p><p>将一个文件放到Git仓库需要二步：</p><p>(1)使用git add将文件添加到仓库</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> add gitNOte.txt</code></pre><p>(2)使用git commit将文件提交到仓库</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> commit -m <span class="token string">"提交内容说明"</span></code></pre><p>注：git commit命令，-m后面输入的是本次提交的说明，可以输入任意内容，当然最好是有意义的，这样你就能从历史记录里方便地找到改动记录。</p><p><strong>git commit详解</strong></p><p>commit可以一次提交多个自己想要指定提交的文件：</p><pre><code>$ git add file1.txt$ git add file2.txt$ git add file3.txt$ git commit -m "add 3 files."</code></pre><p>也可以将全部文件添加</p><pre><code>$ git add .   //将全部文件添加$ git commit -m "将全部文件添加"</code></pre><p><strong>git status详解</strong></p><p>我们已经成功地添加并提交了一个gitNOte.txt文件，现在我想继续修改gitNOte.txtt文件，</p><p>(1).查看文件内容命令</p><pre><code>cat  gitNOte.txt  //查看文件内容命令 </code></pre><p>(2).编辑文件内容命令 </p><pre><code>vi gitNOte.txt  //编辑文件内容命令 </code></pre><p>修改完成后现在，运行git status命令看看结果：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> statusOn branch masterChanges not staged <span class="token keyword">for</span> commit:  <span class="token punctuation">(</span>use <span class="token string">"git add &lt;file>..."</span> to update what will be committed<span class="token punctuation">)</span>  <span class="token punctuation">(</span>use <span class="token string">"git checkout -- &lt;file>..."</span> to discard changes <span class="token keyword">in</span> working directory<span class="token punctuation">)</span>    modified:  gitNOte.txtno changes added to commit <span class="token punctuation">(</span>use <span class="token string">"git add"</span> and/or <span class="token string">"git commit -a"</span><span class="token punctuation">)</span></code></pre><p>这句话的大致意思是，你已经对gitNOte.txt文件进行了修改操作，，但还没有准备提交的修改，提交使用<code>使用“git add&lt;file&gt;</code>,放弃工作目录中的更改使用<code>git checkout -- &lt;file&gt; </code>,放弃工作目录中的所有文件更改使用<code>git checkout . </code></p><p><strong>注意</strong>：前面讲了我们把文件往Git版本库里添加的时候，是分两步执行的：</p><p>第一步是用git add把文件添加进去，实际上就是把文件修改添加到暂存区；<br>第二步是用git commit提交更改，实际上就是把暂存区的所有内容提交到当前分支。<br>因为我们创建Git版本库时，Git自动为我们创建了唯一一个master分支，所以，现在，git commit就是往master分支上提交更改。<br>你可以简单理解为，需要提交的文件修改通通放到暂存区，然后，一次性提交暂存区的所有修改。</p><p>一旦提交后，如果你又没有对工作区做任何修改，那么工作区就是“干净”的,控制台将显示：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> statusOn branch masternothing to commit, working tree clean</code></pre><ul><li>git diff(查看修改内容)<br>比如你想知道gitNOte.txt文件在上一次更新时做了哪些改动 ，所以，需要用git diff这个命令看看，这个命令会显示你没改动前和改动后的内容显示给你，形成对比。</li></ul><p><strong>git回退到某个历史版本（版本回退）</strong></p><p>使用<code>git log</code>命令查看所有的历史版本 </p><p>当你每提交一个更改时，会形成一个新版本，实际上Git就会把它们自动串成一条时间线。如果使用可视化工具查看Git历史，就可以更清楚地看到提交历史的时间线</p><p><strong>注意</strong>：最新的提交版本在最上面，上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成<code>git reset –hard HEAD~100</code>。 如果觉得上面的 git log 显示的信息太多的话，可以使用命令 <code>git log --pretty = online </code>(注意是两个杠哦)</p><p>回滚到指定的版本</p><p>获取某个历史版本的id，假设查到历史版本的id是<code>139dcfaa558e3276b30b6b2e5cbbb9c00bbdca96</code></p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> reset -- hard  139dcfaa558e3276b30b6b2e5cbbb9c00bbdca96</code></pre><p>(3).把修改推到远程服务器(强制提交)</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> push -u origin master</code></pre><p><strong>回到现在（版本还原）</strong></p><p>当你用$ git reset –hard HEAD^回退到过去版本时，再想恢复到回来，就必须找到你现在版本的id。Git提供了一个命令git reflog用来记录你的每一次命令：</p><p><strong>步骤1</strong>.获取到版本号</p><pre><code>git reflog   //查看命令历史，以便确定要回到未来的哪个版本。 </code></pre><p><strong>步骤2</strong>.根据显示的版本号回到现在</p><p>如我现在的版本号是：169dcfaa558e3276b30b6b2e5cbbb9c00bbdca96</p><pre><code>git rest --hard  169dcfaa558e3276b30b6b2e5cbbb9c00bbdca96</code></pre><p><strong>撤销修改（git checkout –文件名称）</strong></p><p>如果你在修改文件时，发现修改错了，想要撤销的话，可以使用以下命令：</p><pre><code>git checkout --&lt;file&gt;     //file指的是文件的名称</code></pre><p>命令git checkout – gitNOte.txt意思就是，把gitNOte.txt文件在工作区的修改全部撤销，这里有两种情况：</p><p>一种是gitNOte.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</p><p>一种是gitNOte.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</p><p>总之，就是让这个文件回到最近一次git commit或git add时的状态。</p><p><strong>注意1</strong> ：git checkout – <file>里面的双杠<code>--</code>不能漏掉，如果没有加，则又是一个命令的意思：切换到另一个分支命令</file></p><p>Git同样告诉我们，用命令git reset HEAD <file>可以把暂存区的修改撤销掉（unstage），重新放回工作区：</file></p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> reset HEAD  文件名Unstaged changes after reset:M    gitNOte.txt<span class="token function">git</span> reset命令既可以回退版本，也可以把暂存区的修改回退到工作区。当我们用HEAD时，表示最新的版本。</code></pre><p><strong>注意2</strong> ：</p><ul><li>当你只在工作区修改了文件内容，并且没有将该内容用<code>git add</code>命令添加到暂存区时，想直接丢弃工作区的修改时，适用于以下命令：</li></ul><pre><code>git checkout --file</code></pre><ul><li>当你只在工作区修改了文件内容，并且已经将该内容用<code>git add</code>命令添加到暂存区时，想丢弃修改，分两步，适用于以下命令：</li></ul><p>（1）回到没有添加到暂存区之前</p><pre><code>git reset HEAD  --&lt;file&gt;   //在Git中，用HEAD表示当前版本</code></pre><p>（2）按照只在工作区修改了文件内容，没有将内容添加到暂存区的命令操作</p><pre><code>git checkout --file</code></pre><h2 id="6-删除文件"><a href="#6-删除文件" class="headerlink" title="6.删除文件"></a>6.删除文件</h2><p>一般情况下，你通常直接在文件管理器中把没用的文件删了，或者用rm命令删了：</p><pre><code>rm  文件名                         //rm是remove单词的简称 （移除的意思）</code></pre><p>Git知道你删除了文件，git status命令会立刻告诉你哪些文件被删除了，现在你有两个选择，一是确实要从版本库中删除该文件，那就用命令git rm删掉，并且git commit：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">rm</span> 文件名称<span class="token function">git</span> status<span class="token function">git</span>  <span class="token function">rm</span> 文件名称<span class="token function">git</span> commit -m<span class="token string">"移除文件"</span></code></pre><p><strong>注意1：</strong></p><ul><li>先手动删除文件，然后使用git rm <file>和git add<file>效果是一样的。<br>如果你不小心把不想删除的删除了，可以使用撤回命令.</file></file></li></ul><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> checkout --文件名称</code></pre><p><strong>注意2：</strong>  </p><ul><li>如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 -f</li></ul><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">rm</span> -f <span class="token operator">&lt;</span>file<span class="token operator">></span></code></pre><p><strong>注意3：</strong></p><ul><li>可以递归删除，即如果后面跟的是一个目录做为参数，则会递归删除整个目录中的所有子目录和文件：</li></ul><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">rm</span> –r *   //建议这个命令不要轻易用</code></pre><p>进入某个目录中，执行此语句，会删除该目录下的所有文件和子目录。</p><h2 id="7-文件移动或者重命名文件（mv-）"><a href="#7-文件移动或者重命名文件（mv-）" class="headerlink" title="7.文件移动或者重命名文件（mv ）"></a>7.文件移动或者重命名文件（mv ）</h2><p>我们先把刚移除的 README 添加回来：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> add gitNOte</code></pre><p>然后对其重名:</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> <span class="token function">mv</span> gitNOte  gitNOte.txt$ <span class="token function">ls</span>README.md</code></pre><h2 id="8-git远程仓库"><a href="#8-git远程仓库" class="headerlink" title="8.git远程仓库"></a>8.git远程仓库</h2><p>Git是分布式版本控制系统，同一个Git仓库，可以分布到不同的机器上。怎么分布呢？</p><p>好在这个世界上有个叫GitHub的神奇的网站，从名字就可以看出，这个网站就是提供Git仓库托管服务的，所以，只要注册一个GitHub账号，就可以免费获得Git远程仓库。</p><p>由于你的本地Git仓库和GitHub仓库之间的传输是通过SSH加密的，目的（为了确保数据传输的可靠性，因为GitHub需要识别出你推送的提交确实是你推送的，而不是别人冒充的），如果你不配置相关命令，则每次本地仓库和远程仓库提交时，都需要验证密码，为了方便，所以，需要一点设置：</p><p>git设置免密码登录,生成ssh秘钥命令</p><p><strong>创建SSH Key</strong></p><pre class=" language-bash"><code class="language-bash">ssh-keygen -t rsa -C “<span class="token operator">&lt;</span>email<span class="token operator">></span>”</code></pre><p><strong>步骤1</strong>：命令输入完成后，一直回车。会在本地生成一个**.ssh**文件，打开该文件会看到默认保存位置当前   ~/.ssh/id_rsa（私密） 和id_rsa.pub（公密），将生成的公密用记事本打开，并复制。</p><p><strong>步骤2</strong>：把id_rsa.pub里的复制内容添加到github的ssh keys里，一定不能有空格在密钥里面。<br>如下图：</p><p><img src="https://i.loli.net/2020/11/03/6aDQ3o8p2LUlEAC.png"></p><p>“Add Key”，你就应该看到已经添加的Key：</p><p><img src="https://i.loli.net/2020/11/03/uZiEL2kOsSdHMrK.png"></p><p>点“New SSH Key”，填上任意Title，在Key文本框里粘贴id_rsa.pub文件的内容</p><p><img src="https://i.loli.net/2020/11/03/2gfhud9L6MSIbG7.png"></p><p><strong>测试连通性</strong></p><p>在git Bash 中输入以下代码</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">ssh</span> -T git@github.com</code></pre><p>当你输入以上代码时，会有一段警告代码，如：</p><pre class=" language-bash"><code class="language-bash">The authenticity of host <span class="token string">'github.com (192.30.255.112)'</span> can't be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to <span class="token keyword">continue</span> connecting <span class="token punctuation">(</span>yes/no<span class="token punctuation">)</span>?</code></pre><p>这是正常的，你输入 yes 回车既可。如果你创建 SSH key 的时候设置了密码，接下来就会提示你输入密码，如：</p><pre><code>Enter passphrase for key '/home/jeremy/.ssh/id_rsa':</code></pre><p>当然如果你密码输错了，会再要求你输入，直到对了为止。</p><p>密码正确后你会看到下面这段话，如：</p><pre><code>Hi username! You've successfully authenticated, but GitHub does not provide shell access.</code></pre><p>如果用户名是正确的,你已经成功设置SSH密钥。如果你看到 “access denied” ，则表示拒绝访问，那么你就需要使用 https 去访问，而不是 SSH 。</p><p>可以参考网站：</p><p><a href="https://blog.csdn.net/haifeng_gu/article/details/72512026">git使用以及免密码登陆</a></p><p><a href="https://blog.csdn.net/chunyang_guo/article/details/12500577">解决每次push代码到github都需要输入用户名和密码的方法</a></p><p><a href="https://hetaoo.iteye.com/blog/2323944">git-ssh 配置和使用</a></p><p><strong>注意事项</strong>：在GitHub上免费托管的Git仓库，任何人都可以看到喔（但只有你自己才能改）。所以，不要把敏感信息放进去，造成信息泄露。如果你不想让别人看到Git库，有两个办法，一是：让GitHub把公开的仓库变成私有的，这样别人就看不见了（不可读更不可写）。另一个办法是自己动手，搭一个Git服务器，因为是你自己的Git服务器，所以别人也是看不见的。</p><p><strong>添加远程仓库（git　remote）</strong></p><p>现在的情景是，你已经在本地创建了一个Git仓库后，又想在GitHub创建一个Git仓库，并且让这两个仓库进行远程同步，这样，GitHub上的仓库既可以作为备份，又可以让其他人通过该仓库来协作，真是一举多得。</p><p>首先，登陆GitHub，然后，在右上角找到“New repository”按钮，创建一个新的仓库：</p><p><img src="https://i.loli.net/2020/11/03/ipuMJHz6mKavBy5.png"></p><p>在Repository name填入ｓｔｕｄｙｇｉｔ，其他保持默认设置，点击“Create repository”按钮，就成功地创建了一个新的Git仓库：</p><p><img src="https://i.loli.net/2020/11/03/7gPIEr5M8Uk3ncQ.png"></p><p>根据GitHub的提示，在本地的studygit仓库下运行命令</p><p>（１）将远程项目和本地项目进行关联</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> remote add origin ＋　分支地址 //origin是远程库的名字，这是Git默认的叫法，也可以改成别的，但是origin这个名字一看就知道是远程库</code></pre><p>（２）．第一次推送master分支的所有内容到远程仓库</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> push -u origin master　　　//第一次提交需要这么做，第二次提交就可以直接用<span class="token variable"><span class="token variable">`</span><span class="token function">git</span> push origin master<span class="token variable">`</span></span>或者 <span class="token variable"><span class="token variable">`</span><span class="token function">git</span> push <span class="token variable">`</span></span></code></pre><p>把本地库的内容推送到远程，用git push命令，实际上是把当前分支master推送到远程。</p><p>由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。</p><p>推送成功后，可以立刻在GitHub页面中看到远程库的内容已经和本地一模一样</p><p><strong>从远程库克隆（git clone）</strong></p><p>使用 git clone 拷贝一个 Git 仓库到本地，让自己能够查看该项目，或者进行修改。</p><p>如果你需要与他人合作一个项目，或者想要复制一个项目，看看代码，你就可以克隆那个项目。 执行命令：</p><pre class=" language-bash"><code class="language-bash"> <span class="token function">git</span> clone <span class="token punctuation">[</span>url<span class="token punctuation">]</span>   //<span class="token punctuation">[</span>url<span class="token punctuation">]</span> 为你想要复制的项目</code></pre><p>克隆完成后，在当前目录下会生成一个新 目录，即会远程的目录名称。<br>**<em>注意事项</em>：<br>要克隆一个仓库，首先必须知道仓库的地址，然后使用git clone命令克隆。另外，Git支持多种协议，包括https，但通过ssh支持的原生git协议速度最快。</p><p><strong>Git 分支管理</strong></p><p>几乎所有的版本控制系统都以某种形式支持分支。 使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。</p><p>有人把 Git 的分支模型称为必杀技特性，而正是因为它，将 Git 从版本控制系统家族里区分出来。</p><p><strong>创建分支命令</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> branch 分支名称</code></pre><p><strong>切换分支命令</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> checkout <span class="token punctuation">(</span>branchname<span class="token punctuation">)</span></code></pre><p>当你切换分支的时候，Git 会用该分支的最后提交的快照替换你的工作目录的内容， 所以多个分支不需要多个目录。</p><p><strong>创建并切换分支</strong></p><p>git checkout命令加上-b参数表示创建并切换</p><pre><code>git checkout -b + 分支名称相当于以下两条命令git branch 分支名称git checkout (branchname)</code></pre><p><strong>列出分支基本命令</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> branch</code></pre><p>没有参数时，git branch 会列出你在本地的分支,默认是master。</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> branch* master //意思是：有一个叫做 master 的分支，并且该分支是当前分支</code></pre><p>如果需要查看每一个分支的最后一次提交，可以运行 git branch -v 命令：</p><p>如果我们要手动创建一个分支。执行 git branch (branchname) 即可。</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> branch A  //A为分支名称$ <span class="token function">git</span> branch* master  A</code></pre><p>现在我们可以看到，有了一个新分支 A。</p><p>当你以此方式在上次提交更新之后创建了新分支，如果后来又有更新提交， 然后又切换到了 testing 分支，Git 将还原你的工作目录到你创建分支时候的样子。</p><p>使用分支将工作切分开来，从而让我们能够在不同开发环境中做事，并来回切换。</p><p><strong>删除分支</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> breach -d 分支名称</code></pre><p>例如我们要删除A分支：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> branch* masterA$ <span class="token function">git</span> branch -d ADeleted branch A <span class="token punctuation">(</span>was 85fc7e7<span class="token punctuation">)</span>.$ <span class="token function">git</span> branch* master</code></pre><p><strong>分支合并</strong></p><p>一旦某分支有了独立内容，你终究会希望将它合并回到你的主分支。 你可以使用以下命令将任何分支合并到当前分支中去：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> merge</code></pre><p>切换回master分支后，把A分支的工作成果合并到master分支上：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> merge A</code></pre><p>合并完后就可以删除分支:</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> branch -d  A </code></pre><p>如果真的想要删除分支并丢掉那些工作，如同帮助信息里所指出的，可以使用 -D 选项强制删除它。</p><p>Git鼓励大量使用分支：</p><pre class=" language-bash"><code class="language-bash">查看分支：git branch创建分支：git branch <span class="token operator">&lt;</span>name<span class="token operator">></span>切换分支：git checkout <span class="token operator">&lt;</span>name<span class="token operator">></span>创建+切换分支：git checkout -b <span class="token operator">&lt;</span>name<span class="token operator">></span>合并某分支到当前分支：git merge <span class="token operator">&lt;</span>name<span class="token operator">></span>删除分支：git branch -d <span class="token operator">&lt;</span>name<span class="token operator">></span>强制删除分支：git branch -D <span class="token operator">&lt;</span>name<span class="token operator">></span></code></pre><p><strong>解决分支合并的冲突</strong></p><p>如果master分支和A分支各自都分别有新的提交，这种情况下，Git无法执行“快速合并”，只能试图把各自的修改合并起来，但这种合并就可能会有冲突，</p><p>Git用&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容<br>再提交：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> add gitnote.txt $ <span class="token function">git</span> commit -m <span class="token string">"conflict fixed"</span><span class="token punctuation">[</span>master cf810e4<span class="token punctuation">]</span> conflict fixed</code></pre><p><strong>注意</strong>：<br>当Git无法自动合并分支时，就必须首先解决冲突。解决冲突后，再提交，合并完成。</p><p>解决冲突就是把Git合并失败的文件手动编辑为我们希望的内容，再提交。</p><p>用git log –graph命令可以看到分支合并图。</p><p><strong>多人协作</strong></p><p>当你从远程仓库克隆时，实际上Git自动把本地的master分支和远程的master分支对应起来了，并且，远程仓库的默认名称是origin。</p><p>要查看远程库的信息，用<code>git remote</code>：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> remoteorigin</code></pre><p>或者，用<code>git remote -v</code>显示更详细的信息：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> remote -vorigin  git@github.com:michaelliao/learngit.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>origin  git@github.com:michaelliao/learngit.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span></code></pre><p>上面显示了可以抓取和推送的origin的地址。如果没有推送权限，就看不到push的地址。</p><p><strong>推送分支</strong></p><p>推送分支，就是把该分支上的所有本地提交推送到远程库。推送时，要指定本地分支，这样，Git就会把该分支推送到远程库对应的远程分支上：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> push origin master</code></pre><p>如果要推送其他分支，比如dev，就改成：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> push origin dev</code></pre><p>创建远程origin的dev分支到本地，于：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> checkout -b dev origin/dev</code></pre><p>多人协作的工作模式通常是这样：</p><p>首先，可以试图用<code>git push origin &lt;branch-name&gt;</code>推送自己的修改；</p><p>如果推送失败，则因为远程分支比你的本地更新，需要先用git pull试图合并；</p><p>如果合并有冲突，则解决冲突，并在本地提交；</p><p>没有冲突或者解决掉冲突后，再用git push origin <branch-name>推送就能成功！</branch-name></p><p>如果<code>git pull</code>提示<code>no tracking information</code>，则说明本地分支和远程分支的链接关系没有创建，用命令<code>git branch --set-upstream-to &lt;branch-name&gt; origin/&lt;branch-name&gt;</code>。</p><p>这就是多人协作的工作模式，一旦熟悉了，就非常简单。</p><h2 id="9-git标签"><a href="#9-git标签" class="headerlink" title="9.git标签"></a>9.git标签</h2><p>发布一个版本时，我们通常先在版本库中打一个标签（tag），这样，就唯一确定了打标签时刻的版本。将来无论什么时候，取某个标签的版本，就是把那个打标签的时刻的历史版本取出来。所以，标签也是版本库的一个快照。你可以使用 git tag 给它打上标签。</p><p><strong>创建标签</strong></p><p>　　在Git中打标签非常简单，首先，切换到需要打标签的分支上</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> branch -b masterSwitched to branch <span class="token string">'master'</span>  //切换到分支“master”</code></pre><p>现在，我想为我的gitstudy 项目发布一个”1.0”版本。 我们可以用 git tag -a v1.0 命令给最新一次提交打上（HEAD）”v1.0”的标签。</p><p>指定标签并描述标签信息</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> tag -a v1.0 -m “描述内容”</code></pre><p>**注意1.**：-a 选项意为”创建一个带注解的标签”,为标签名称，-m指定说明文字。 不用 -a 选项也可以执行的，但它不会记录这标签是啥时候打的，谁打的，也不会让你添加个标签的注解。 我推荐一直创建带注解的标签。　我们可以看到在提交对象信息上面，列出了此标签的提交者和提交时间，以及相应的标签说明</p><p><strong>查看标签</strong></p><p>默认标签是打在最新提交的commit上的。有时候，如果忘了打标签怎么办呢？方法是找到历史提交的commit id，然后打上就可以了</p><p>（1）.先用命令查看每次提交commit id</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> log --oneline  //将会显示每次提交的commit <span class="token function">id</span></code></pre><p>（2）.比方说要对create b.txt这次提交打标签，它对应的commit id是9ac9296，敲入命令</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> tag vo.9  9ac9296</code></pre><p><strong>注意</strong>，标签不是按时间顺序列出，而是按字母排序的。查看标签信息可以用以下命令：</p><p>（3）。可以用命令git tag查看所有标签：</p><pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> tagv0.9v1.0</code></pre><p>（4）.可以用git show <tagname>查看标签信息</tagname></p><pre><code>git show v1.0</code></pre><p><strong>删除标签</strong></p><p>如果标签打错了，也可以删除</p><pre><code>$ git tag -d  标签名称</code></pre><p>因为创建的标签都只存储在本地，不会自动推送到远程。所以，打错的标签可以在本地安全删除。</p><p>　　默认情况下，git push并不会把标签传送到远端服务器上，只有通过显式命令才能推送标签到远端仓库</p><pre><code>$ git push origin &lt;tagname&gt;</code></pre><p>或者，一次性推送全部尚未推送到远程的本地标签</p><pre><code>$ git push origin --tags</code></pre><p>如果标签已经推送到远程，要删除远程标签就麻烦一点，先从本地删除</p><pre><code>$ git tag -d  标签名称</code></pre><p>然后，从远程删除。删除命令也是push，但是格式如下</p><pre><code>git push origin  标签名称</code></pre><p>最后一个问题，如何查看发送到远程的标签呢？</p><p>点击Github项目中的release即可看到。</p><h1 id="10-忽略特殊文件"><a href="#10-忽略特殊文件" class="headerlink" title="10.忽略特殊文件"></a>10.忽略特殊文件</h1><p>有些时候，你必须把某些文件放到Git工作目录中，但又不能提交它们，比如保存了数据库密码的配置文件啦，等等，这个时候，你急需要一个办法把不想提交的东西不上传到仓库。好在Git考虑到了大家的感受，这个问题解决起来也很简单，在Git工作区的根目录下创建一个特殊的.gitignore文件，然后把要忽略的文件名填进去，Git就会自动忽略这些文件。</p><p><strong>创建.gitignore文件</strong></p><p>创建一个文件，文件名为：“.gitignore.”,注意前后都要有一个点，保存之后系统会自动重命名为“.gitignore”。或者用git bush创建touch.gitignore在文件夹就生成了一个“.gitignore”文件。</p><p><strong>创建.gitignore文件</strong></p><p>以问号“？”通配单个字符</p><p>以星号“*”通配多个字符</p><p>以斜杠“/”开头表示目录</p><p>以方括号“【】”包括单个字符的匹配列表；</p><p>以叹号“！”表示不忽视匹配到的文件或目录；</p><p>此外。git对于.ignore配置文件是按照从上往下进行匹配的，意思就是如果前面的规则匹配的范围更大，则后面的规则将不会生效。</p><p><strong>实例</strong></p><p>（1）规则： fd1/*<br>　　说明：忽略目录 fd1 下的全部内容；注意，不管是根目录下的 /fd1/ 目录，还是某个子目录 /child/fd1/ 目录，都会被忽略；</p><p>（2）规则：/fd1/*<br>　　说明：忽略根目录下的 /fd1/ 目录的全部内容；</p><p>（3）规则：<br>&nbsp; &nbsp; /*<br>&nbsp; &nbsp; !.gitignore<br>&nbsp; &nbsp; !/fw/bin/<br>&nbsp; &nbsp; !/fw/sf/</p><p> 说明：忽略全部内容，但是不忽略 .gitignore 文件、根目录下的 /fw/bin/ 和 /fw/sf/ 目录；</p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React的生命周期</title>
      <link href="2020/102742594.html"/>
      <url>2020/102742594.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a><ul><li><a href="#react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E4%B8%89%E4%B8%AA%E5%A4%A7%E9%98%B6%E6%AE%B5">React生命周期的三个大阶段</a></li><li><a href="#react%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%9B%BE">React的生命周期图:</a></li><li><a href="#%E6%8C%82%E8%BD%BD%E9%98%B6%E6%AE%B5%E5%8A%A0%E8%BD%BD%E9%98%B6%E6%AE%B5%E6%B6%89%E5%8F%8A5%E4%B8%AA%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0">挂载阶段（加载阶段：涉及5个钩子函数）</a></li><li><a href="#%E6%9B%B4%E6%96%B0%E9%98%B6%E6%AE%B5-%E5%8A%A0%E8%BD%BD%E9%98%B6%E6%AE%B5%E6%B6%89%E5%8F%8A5%E4%B8%AA%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0">更新阶段 加载阶段：涉及5个钩子函数）</a></li><li><a href="#%E5%8D%B8%E8%BD%BD%E9%98%B6%E6%AE%B5-%E9%94%80%E6%AF%81%E9%98%B6%E6%AE%B5%E6%B6%89%E5%8F%8A1%E4%B8%AA%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0">卸载阶段 销毁阶段：涉及1个钩子函数）</a></li><li><a href="#%E8%A1%A5%E5%85%85">补充</a></li></ul></li></ul><p>在组件的整个生命周期中，随着该组件的props或者state发生改变，其DOM表现也会有相应的变化。一个组件就是一个状态机，对于特定地输入，它总返回一致的输出。简单的说：生命周期函数指在某一个时刻组件会自动调用执行的函数。</p><h2 id="React生命周期的三个大阶段"><a href="#React生命周期的三个大阶段" class="headerlink" title="React生命周期的三个大阶段"></a>React生命周期的三个大阶段</h2><ul><li>1.Mounting: 挂载阶段。(已插入真实 DOM)</li><li>2.Updation: 更新阶段。(正在被重新渲染)</li><li>3.Unmounting: 销毁阶段(已移出真实 DOM)</li></ul><h2 id="React的生命周期图"><a href="#React的生命周期图" class="headerlink" title="React的生命周期图:"></a>React的生命周期图:</h2><p><img src="https://i.loli.net/2020/11/02/GIed8qLH9EisKr4.jpg" alt="React的生命周期图"></p><h2 id="挂载阶段（加载阶段：涉及5个钩子函数）"><a href="#挂载阶段（加载阶段：涉及5个钩子函数）" class="headerlink" title="挂载阶段（加载阶段：涉及5个钩子函数）"></a>挂载阶段（加载阶段：涉及5个钩子函数）</h2><p>这些方法会在组件实例创建和插入DOM中时被调用</p><p><strong>1.constructor()</strong></p><p>constructor()中完成了React数据的初始化，它接受两个参数：props和context，当想在函数内部使用这两个参数时，需使用super()传入这两个参数。</p><ul><li>执行时间：组件被加载前最先调用，并且仅调用一次</li><li>作用：定义状态机变量</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">constructor<span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>    super<span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>    this.state <span class="token operator">=</span> <span class="token punctuation">{</span>      content:null,    <span class="token punctuation">}</span>  <span class="token punctuation">}</span></code></pre><p>注意：构造函数会在挂载前调用。只要使用了constructor()就必须写super(),否则会导致this指向错误。</p><p><strong>2.static getDerivedStateFromProps()</strong></p><p>这是react16.3之后新增的一个生命周期，这是一个静态方法，静态方法没有this所以不能使用setState，需要return一个对象，这个对象就相当于setState里面的参数。<br>常用于强制性的根据props来设置state,组件实例化后和接受新属性时调用，返回一个对象以更新状态，或返回null表明不需要更新状态</p><p>语法：</p><pre class=" language-bash"><code class="language-bash">static getDerivedstateFromProps<span class="token punctuation">(</span>nextProps,prevState<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>注意：设置了这个生命周期就不能设置componentWillMount()</p><p><strong>3.coponentWillMount()</strong></p><p>componentWillMount()一般用的比较少，它更多的是在服务端渲染时使用。它代表的过程是组件已经经历了constructor()初始化数据后,挂载阶段前立刻调用，发生在render()之前</p><ul><li>执行时间：组件初始渲染（render()被调用前）前调用，并且仅调用一次</li><li>作用：如果在这个函数中调用setState改变某些状态机，react会等待setState完成后再渲染组件</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">componentWillMount<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console.log<span class="token punctuation">(</span><span class="token string">'componentWillMount----组件将要挂载到页面的时刻'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>注意：react*17版本之后将废弃。如果还想继续使用，可以使用UNSAFE_componentWillMount来代替。这个生命周期，是除了初始化之外，唯一一个能够直接同步修改state的地方。组件初始化时只调用，以后组件更新不调用，整个生命周期只调用一次,coponentWillMount() 在组件即将被挂载到页面的时刻执行。另外，子组件也有componentWillMount函数，在父组件的该函数调用后再被调用</p><p><strong>4.render()</strong></p><p>react是整个生命周期中必须的钩子函数，render函数会插入jsx生成的dom结构，react会生成一份虚拟dom树，在每一次组件更新时，在此react会通过其diff算法比较更新前后的新旧DOM树，比较以后，找到最小的有差异的DOM节点，并重新渲染。此时就不能更改state了。</p><ul><li>执行时间：componentWillMount之后，componentDidMount之前，</li><li>作用：渲染挂载组件</li><li>触发条件：（1）初始化加载页面（2）状态机改变setState ( 3 ) 接收到新的props（父组件更新）</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    return<span class="token punctuation">(</span>    <span class="token operator">&lt;</span>div<span class="token operator">></span>    <span class="token punctuation">..</span>.    <span class="token operator">&lt;</span>/div<span class="token operator">></span>    <span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>简单点说：主要用于创建虚拟dom，进行diff算法，更新dom树都在此进行。 页面state或props发生变化时触发render()函数。</p><p><strong>5.componentDidMount()</strong></p><p>componentDidMount()在组件挂载之前调用一次。如果在这个函数里面调用setState，本次的render函数可以看到更新后的state，并且只渲染一次。</p><ul><li>执行时间：render之后被调用，并且仅调用一次</li><li>作用：渲染挂载组件；可以使用refs（备注：React支持一个特殊的属性，你可以将这个属性加在任何通过render()返回的组件中。这也就是说对render()返回的组件进行一个标记，可以方便的定位的这个组件实例。）</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">componentDidMount<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    console.log<span class="token punctuation">(</span><span class="token string">'componentDidMount----组件挂载完成的时刻执行'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>注意：componentDidMount : 在第一次渲染后调用，只在客户端。之后组件已经生成了对应的DOM结构，可以通过this.getDOMNode()来进行访问。 如果你想和其他JavaScript框架一起使用，可以在这个方法中调用setTimeout, setInterval或者发送AJAX请求等操作(防止异步操作阻塞UI)。</p><p><strong>挂载阶段注意的问题</strong></p><p>componentWillMount和componentDidMount这两个生命周期函数，只在页面刷新时执行一次，而render函数是只要有state和props变化就会执行，因为在每一次组件更新时，render()函数都会进行diff算法，来比较更新前后的新旧DOM树。</p><h2 id="更新阶段-加载阶段：涉及5个钩子函数）"><a href="#更新阶段-加载阶段：涉及5个钩子函数）" class="headerlink" title="更新阶段 加载阶段：涉及5个钩子函数）"></a>更新阶段 加载阶段：涉及5个钩子函数）</h2><p>组件分为两种情况，state改变和props改变。<br>如果state改变，会直接进行到组件更新的第二个shouldComponentUpdate,如果是props改变，会先走componentWillReceiveProps。</p><p><strong>1.componentWillReceiveProps()</strong></p><p>componentWillReceiveProps() 在组件接收到一个新的 prop (更新后)时被调用。这个方法在初始化render时不会被调用。</p><p>语法：</p><pre class=" language-bash"><code class="language-bash">componentWillReceiveProps <span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>注意：</p><ul><li>1.在接受父组件改变后的props需要重新渲染组件时用到的比较多</li><li>2.接受一个参数nextProps</li><li>3.通过对比nextProps和this.props，将nextProps的state为当前组件的state，从而重新渲染组件</li><li>4.在挂载了的组件接收到新属性前调用。推荐使用getDerivedStateFromProps生命周期而不是该函数。</li></ul><p><strong>2.shouldComponentUpdate()</strong></p><p>shouldComponentUpdate() 返回一个布尔值。在组件接收到新的props或者state时被调用。在初始化时或者使用forceUpdate时不被调用。<br>可以在你确认不需要更新组件时使用。</p><ul><li>执行时间：组件挂载后（即执行完render），接收到新的state或props时被调用，即每次执行setstate都会执行该函数，来判断是否重新render组件，默认返回true；接收两个参数：第一个是心的props，第二个是新的state。</li><li>作用：如果有些变化不需要重新render组件，可以在该函数中阻拦</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">componentWillReceiveProps <span class="token punctuation">(</span>nextProps<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>注意：<br>react性能优化非常重要的一环。组件接受新的state或者props时调用，我们可以设置在此对比前后两个props和state是否相同，如果相同则返回false阻止更新，因为相同的属性状态一定会生成相同的dom树，这样就不需要创造新的dom树和旧的dom树进行diff算法对比，节省大量性能，尤其是在dom结构复杂的时候</p><p><strong>3.componentWillUpdate()</strong></p><p>shouldComponentUpdate返回true以后，组件进入重新渲染的流程，进入componentWillUpdate,这里同样可以拿到nextProps和nextState。</p><p>语法：</p><pre class=" language-bash"><code class="language-bash"> componentWillUpdate<span class="token punctuation">(</span>nextProps,nextState<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>注意：<br>componentWillUpdate在组件接收到新的props或者state但还没有render时被调用。在初始化时不会被调用。</p><p><strong>4.render()</strong></p><p>和mount阶段一样，生成虚拟DOM</p><p><strong>5.componentDidUpdate()</strong></p><p>componentDidUpdate()组件更新完毕后，react只会在第一次初始化成功会进入componentDidmount,之后每次重新渲染后都会进入这个生命周期，这里可以拿到prevProps和prevState，即更新前的props和state。</p><ul><li>执行时间：重新渲染后调用，在初始化渲染的时候该方法不会被调用</li><li>作用：使用该方法可以在组件更新之后操作DOM 元素</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">componentDidUpdate<span class="token punctuation">(</span>prevProps,prevState<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>注意：<br>componentDidUpdate 在组件完成更新后立即调用。在初始化时不会被调用。</p><h2 id="卸载阶段-销毁阶段：涉及1个钩子函数）"><a href="#卸载阶段-销毁阶段：涉及1个钩子函数）" class="headerlink" title="卸载阶段 销毁阶段：涉及1个钩子函数）"></a>卸载阶段 销毁阶段：涉及1个钩子函数）</h2><p><strong>1.componentWillUnmount()</strong></p><p>在父组件中定义一个flag为true的状态值，添加一个按钮声明一个onClick事件去<br>更改这个flag实现销毁组件。</p><ul><li>执行时间：组件被卸载前调用，</li><li>作用：在该方法中执行任何必要的清理，比如无效的定时器，或者清除在 componentDidMount 中创建的 DOM 元素。</li></ul><p>语法：</p><pre class=" language-bash"><code class="language-bash">componentDidUpdate<span class="token punctuation">(</span>prevProps,prevState<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre><p>注意：<br>componentWillUnmount()组件将要卸载时调用，一些事件监听和定时器需要在此时清除。</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p><strong>1.组件生命周期的执行次数是什么样子的</strong></p><p>只执行一次： constructor、componentWillMount、componentDidMount</p><p>执行多次：render 、子组件的componentWillReceiveProps、componentWillUpdate、componentDidUpdate</p><p>有条件的执行：componentWillUnmount（页面离开，组件销毁时）</p><p>不执行的：根组件（ReactDOM.render在DOM上的组件）的componentWillReceiveProps（因为压根没有父组件给传递props）</p><p><strong>2.组件生命周期巧记</strong></p><ul><li><p>数据接收 实现继承super(props) :constructor </p></li><li><p>渲染组件 和 html 标签：render</p></li><li><p>组件将要挂载时触发的函数：componentWillMount</p></li><li><p>组件挂载完成时触发的函数：componentDidMount</p></li><li><p>是否要更新数据时触发的函数（检测组件内的变化 可以用作页面性能的优化(默认值为true)）：shouldComponentUpdate</p></li><li><p>将要更新数据时触发的函数：componentWillUpdate</p></li><li><p>数据更新完成时触发的函数：componentDidUpdate</p></li><li><p>组件将要销毁时触发的函数：componentWillUnmount</p></li><li><p>父组件中改变了props传值时触发的函数（ 接收组件传入输入数据）：componentWillReceiveProps</p></li></ul><p><strong>3.特别注意</strong></p><p>当一个页面中存在子父组件时，要注意componentWillMount和componentDidMount的使用，如果需要先加载父组件（获取网路数据），父组件传值给子组件，再加载子组件（获取网路数据），那么不能同时在子父组件中使用componentDidMount获取网路数据，因为会先执行子组件的componentDidMount，会由于未得到父组件的传值而报错；解决方案：（1）父组件：componentWillMount，子组件：componentDidMount；（2）父组件：componentWillMount，子组件：componentWillMount；<br>当一个页面中如要实现左右联动效果，（比如：a页面中包含b1（左）和b2（右）页面，单击b1中的知识点，b2页面内容对应变化，b1向b2通过redux传参，b2首次通过 componentDidMount接收，后来通过componentWillReceiveProps接收）</p><p>注：文章借鉴</p><p><a href="https://blog.csdn.net/zrcj0706/article/details/78608740?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-3.channel_param">浅析React生命周期函数的使用</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ReactNative开发经验总结</title>
      <link href="2020/102360488.html"/>
      <url>2020/102360488.html</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>React Native使你能够在Javascript和React的基础上获得完全一致的开发体验，构建世界一流的原生APP。</p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#react-native%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">React Native开发环境搭建</a></li><li><a href="#react-native%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%BF%90%E8%A1%8C%E5%B9%B3%E5%8F%B0">react-native获取当前运行平台</a></li><li><a href="#react-native-linking-%E8%B0%83%E7%94%A8%E7%94%B5%E8%AF%9D%E7%9F%AD%E4%BF%A1%E9%82%AE%E7%AE%B1%E5%8A%9F%E8%83%BD">react native Linking 调用电话、短信、邮箱功能</a></li><li><a href="#react-native%E6%94%B9%E6%9C%BA%E5%9E%8B">React Native改机型</a></li><li><a href="#react-native%E4%BF%AE%E6%94%B9-app-%E5%9C%A8%E6%89%8B%E6%9C%BA%E4%B8%8A%E5%B1%95%E7%A4%BA%E7%9A%84%E5%90%8D%E7%A7%B0">React Native修改 App 在手机上展示的名称</a></li><li><a href="#react-native%E4%BF%AE%E6%94%B9-app-%E5%9C%A8%E6%89%8B%E6%9C%BA%E4%B8%8A%E5%B1%95%E7%A4%BA%E7%9A%84%E5%9B%BE%E6%A0%87">React Native修改 App 在手机上展示的图标</a></li><li><a href="#react-native%E5%88%A4%E6%96%AD-releasedebug-%E7%94%A8%E4%BA%8E%E8%B0%83%E8%AF%95">React Native判断 Release/Debug 用于调试</a></li><li><a href="#react-native%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%E5%BC%B9%E5%87%BA%E5%BC%80%E5%8F%91%E8%80%85%E8%8F%9C%E5%8D%95%E5%88%B7%E6%96%B0%E5%BA%94%E7%94%A8">React Native开发模式弹出开发者菜单刷新应用</a></li><li><a href="#react-native%E8%AE%BE%E7%BD%AE%E5%85%81%E8%AE%B8-http-%E8%AF%B7%E6%B1%82%E8%AE%BF%E9%97%AE">React Native设置允许 HTTP 请求访问</a></li><li><a href="#react-native%E7%9C%9F%E6%9C%BA%E9%85%8D%E7%BD%AE-ip-%E8%B0%83%E8%AF%95">React Native真机配置 IP 调试</a></li><li><a href="#react-native-xcode-%E4%B8%8D%E7%94%A8%E6%95%B0%E6%8D%AE%E7%BA%BF%E7%9C%9F%E6%9C%BA%E8%B0%83%E8%AF%95">React Native Xcode 不用数据线真机调试</a></li><li><a href="#react-native-%E6%89%93%E5%8C%85%E4%BF%AE%E6%94%B9-app-%E7%89%88%E6%9C%AC%E5%8F%B7">React Native 打包修改 APP 版本号</a></li><li><a href="#%E5%BA%94%E7%94%A8%E5%8F%8D%E5%BA%94%E7%BC%93%E6%85%A2%E5%87%BA%E7%8E%B0%E5%8D%A1%E9%A1%BF%E9%97%AE%E9%A2%98">应用反应缓慢，出现卡顿问题</a></li><li><a href="#react-native%E5%A5%BD%E7%94%A8%E6%8E%A7%E4%BB%B6">React Native好用控件</a></li><li><a href="#react-native%E4%BD%BF%E7%94%A8%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6webview%E8%B0%83%E7%94%A8pdf%E6%96%87%E4%BB%B6">React Native使用原生组件WebView调用pdf文件</a></li><li><a href="#react-native-android-%E6%89%93%E5%8C%85%E5%BA%94%E7%94%A8">React Native Android 打包应用</a></li><li><a href="#react-native%E5%AE%89%E5%8D%93%E6%89%93%E5%8C%85%E6%8A%A5%E9%94%99%E7%AC%94%E8%AE%B0">React Native安卓打包报错笔记</a></li><li><a href="#ios-%E6%89%93%E5%8C%85%E5%BA%94%E7%94%A8">ios 打包应用</a></li><li><a href="#ios%E6%89%93%E5%8C%85%E7%AC%94%E8%AE%B0">ios打包笔记</a></li><li><a href="#react-native%E5%BC%80%E5%8F%91%E5%AE%89%E5%8D%93%E9%AB%98%E7%89%88%E6%9C%AC-%E5%AE%89%E5%8D%93q-%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6%E5%87%BA%E9%94%99%E8%A7%A3%E5%86%B3%E5%8F%8A%E6%96%B9%E6%B3%95">React Native开发安卓高版本 安卓Q 读写文件出错解决及方法</a></li><li><a href="#react-native%E7%A6%81%E6%AD%A2%E6%A8%AA%E5%B1%8F">React Native禁止横屏</a></li><li><a href="#react-nativereact-native-image-picker%E6%8B%8D%E7%85%A7%E6%8E%A7%E4%BB%B6%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3">React Native（react-native-image-picker）拍照控件报错解决</a></li><li><a href="#react-native%E5%8D%87%E7%BA%A7%E6%95%99%E7%A8%8B">React Native升级教程</a></li></ul><h2 id="React-Native开发环境搭建"><a href="#React-Native开发环境搭建" class="headerlink" title="React Native开发环境搭建"></a>React Native开发环境搭建</h2><p><strong>1.node安装</strong></p><p>下载地址：<a href="https://nodejs.org/en/">https://nodejs.org/en/</a><br>安装成功后，配置环境变量 在path中添加：<br>在命令窗口测试node 是否配置成功：</p><pre class=" language-bash"><code class="language-bash">node -v</code></pre><p>输出node版本即为成功</p><p><strong>2.安装React Native</strong></p><pre class=" language-bash"><code class="language-bash">通过命令：<span class="token variable">$npm</span> <span class="token function">install</span> -g react-native-cli</code></pre><p><strong>3.创建项目</strong><br>通过命令：</p><pre class=" language-bash"><code class="language-bash">react-native init MyProject（项目名称）</code></pre><p><strong>4.切换到自己项目</strong><br>通过命令：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">cd</span> MyProject</code></pre><p><strong>5.安装依赖</strong><br>通过命令：</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> </code></pre><p><strong>6.运行项目</strong></p><p>ios通过命令：</p><pre class=" language-bash"><code class="language-bash">react-native run-ios </code></pre><p>Android通过命令：</p><pre class=" language-bash"><code class="language-bash">react-native run-android</code></pre><h2 id="react-native获取当前运行平台"><a href="#react-native获取当前运行平台" class="headerlink" title="react-native获取当前运行平台"></a>react-native获取当前运行平台</h2><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> <span class="token punctuation">{</span> Platform<span class="token punctuation">}</span> from <span class="token string">'react-native'</span><span class="token punctuation">;</span><span class="token punctuation">{</span>Platform.OS<span class="token punctuation">}</span></code></pre><h2 id="react-native-Linking-调用电话、短信、邮箱功能"><a href="#react-native-Linking-调用电话、短信、邮箱功能" class="headerlink" title="react native Linking 调用电话、短信、邮箱功能"></a>react native Linking 调用电话、短信、邮箱功能</h2><p> <strong>1.打开浏览器</strong></p><pre class=" language-bash"><code class="language-bash">Linking.openURL<span class="token punctuation">(</span><span class="token string">'https://baidu.com/'</span><span class="token punctuation">)</span></code></pre><p> <strong>2. 打开短信功能</strong></p><pre class=" language-bash"><code class="language-bash">Linking.openURL<span class="token punctuation">(</span><span class="token string">"sms:"</span> + 电话号码<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> <strong>3. 打电话功能</strong></p><pre class=" language-bash"><code class="language-bash">Linking.openURL<span class="token punctuation">(</span>tel+ 电话号码<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p> <strong>4. 打开邮箱功能</strong></p><pre class=" language-bash"><code class="language-bash">Linking.openURL<span class="token punctuation">(</span><span class="token string">"mailto:"</span> + 邮件地址<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="React-Native改机型"><a href="#React-Native改机型" class="headerlink" title="React Native改机型"></a>React Native改机型</h2><p>控制指定型号即可：</p><pre class=" language-bash"><code class="language-bash">react-native run-ios --simulator<span class="token operator">=</span><span class="token string">"iPhone X"</span> ios控制指定型号</code></pre><h2 id="React-Native修改-App-在手机上展示的名称"><a href="#React-Native修改-App-在手机上展示的名称" class="headerlink" title="React Native修改 App 在手机上展示的名称"></a>React Native修改 App 在手机上展示的名称</h2><p> <strong>Android</strong></p><p>修改 <code>android/app/src/main/res/values/strings.xml</code> 配置</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>app_name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>这里填写名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span></code></pre><p> <strong>iOS</strong></p><p>修改 <code>ios/&lt;应用名称&gt;/Info.plist</code> 配置</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>CFBundleDisplayName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>这里填写名称<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span></code></pre><h2 id="React-Native修改-App-在手机上展示的图标"><a href="#React-Native修改-App-在手机上展示的图标" class="headerlink" title="React Native修改 App 在手机上展示的图标"></a>React Native修改 App 在手机上展示的图标</h2><p> <strong>Android</strong></p><p>修改替换 <code>android/app/src/main/res/mipmap-(*)</code> 下面的图标</p><p>图标分为 方形图标(<code>ic_launcher.png</code>) 和 圆形图标(<code>ic_launcher_round.png</code>)</p><p> <strong>iOS</strong></p><p>修改 <code>ios/&lt;应用名称&gt;/Images.xcassets/AppIcon.appiconset/Contents.json</code> 配置，及修改配置目录 <code>ios/&lt;应用名称&gt;/Images.xcassets/AppIcon.appiconset</code> 下的图标文件。</p><p>通过 xcode 拖拽更换图标更方便。</p><p> <strong>推荐一个图标快速生成的网站</strong></p><p><a href="https://icon.wuruihong.com/">一键生成所有尺寸的应用图标/启动图</a></p><h2 id="React-Native判断-Release-Debug-用于调试"><a href="#React-Native判断-Release-Debug-用于调试" class="headerlink" title="React Native判断 Release/Debug 用于调试"></a>React Native判断 Release/Debug 用于调试</h2><p> <strong>Android</strong></p><p>修改 <code>android/app/src/main/res/values/strings.xml</code> 配置</p><pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 在Android Studio项目中</span><span class="token keyword">if</span><span class="token punctuation">(</span>BuildConfig<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// debug模式</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// release模式</span><span class="token punctuation">}</span></code></pre><p> <strong>iOS</strong></p><pre class=" language-objective-c"><code class="language-objective-c">#ifdef DEBUG   // debug模式#else    //release 模式#endif</code></pre><p> <strong>React Native</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>__DEV__<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// debug 模式</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// release 模式</span><span class="token punctuation">}</span></code></pre><h2 id="React-Native开发模式弹出开发者菜单刷新应用"><a href="#React-Native开发模式弹出开发者菜单刷新应用" class="headerlink" title="React Native开发模式弹出开发者菜单刷新应用"></a>React Native开发模式弹出开发者菜单刷新应用</h2><p> <strong>Android</strong></p><p>按两次 <kbd>R</kbd> 键或从开发者菜单(<kbd>⌘</kbd><kbd>M</kbd>)中选择重新加载(Reload)以预览您的更改。</p><p> <strong>iOS</strong></p><p>使用 <kbd>⌘</kbd><kbd>R</kbd> 让您的 IOS 模拟器重新加载本地项目，使用 <kbd>⌘</kbd><kbd>T</kbd> 弹出开发者菜单。</p><h2 id="React-Native设置允许-HTTP-请求访问"><a href="#React-Native设置允许-HTTP-请求访问" class="headerlink" title="React Native设置允许 HTTP 请求访问"></a>React Native设置允许 HTTP 请求访问</h2><p> <strong>Android</strong></p><p>创建配置文件 <code>android/app/src/main/res/xml/network_security_config.xml</code> 内容如下：</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>network-security-config</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-config</span> <span class="token attr-name">cleartextTrafficPermitted</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>network-security-config</span><span class="token punctuation">></span></span></code></pre><p>修改配置 <code>android/app/src/main/AndroidManifest.xml</code></p><pre class=" language-diff"><code class="language-diff"><span class="token deleted">&lt;application</span>  android:name=".MainApplication"  android:label="@string/app_name"  android:icon="@mipmap/ic_launcher"  android:roundIcon="@mipmap/ic_launcher_round"  android:allowBackup="false"<span class="token inserted">+  android:networkSecurityConfig="@xml/network_security_config"</span>  android:theme="@style/AppTheme"><span class="token deleted">&lt;/application></span></code></pre><p> <strong>iOS</strong></p><p>修改 <code>ios/&lt;应用名称&gt;/Info.plist</code> 配置</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSAppTransportSecurity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dict</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>NSAllowsArbitraryLoads<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>true</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dict</span><span class="token punctuation">></span></span></code></pre><h2 id="React-Native真机配置-IP-调试"><a href="#React-Native真机配置-IP-调试" class="headerlink" title="React Native真机配置 IP 调试"></a>React Native真机配置 IP 调试</h2><p> <strong>配置说明</strong></p><ol><li>⚠️ 首先保证真机和 pc 在同一个局域网络下。</li><li>摇晃你的实体真机，调出配置弹窗。</li><li>团队开发可以不安装开发环境。</li></ol><p><strong><code>摇晃手机</code></strong> =&gt; <code>Configure Bundler</code> =&gt; 设置 <code>ip</code> 和 <code>端口</code></p><p> <strong>iOS 设置</strong></p><p>设置 <code>Build Configuration</code> 为 <code>Debug</code> 模式连接真机打包 APP。  </p><blockquote><p><code>Xcode</code> =&gt; <code>Product</code> =&gt; <code>Scheme</code> =&gt; <code>Edit Scheme...</code> =&gt; <code>Run</code> =&gt; <code>Info</code> =&gt; <code>Build Configuration</code> =&gt; <code>Debug</code></p></blockquote><h2 id="React-Native-Xcode-不用数据线真机调试"><a href="#React-Native-Xcode-不用数据线真机调试" class="headerlink" title="React Native Xcode 不用数据线真机调试"></a>React Native Xcode 不用数据线真机调试</h2><p>通过菜单 <code>Xcode</code> =&gt; <code>Product</code> =&gt; <code>Destination</code> =&gt; <code>Add Additional Simulators...</code> 打开设置界面，勾选 <code>Connect via network</code>。</p><p>如果是第一次操作， 可能会需要先进行配对操作；</p><ol><li>可在以上面弹出的界面中，点击左侧的设备，然后右健选<code>unpair device</code>。</li><li>然后再去勾选 <code>connect via network</code>；</li><li>这时手机上会提示信任界面，点击确认即可。</li></ol><h2 id="React-Native-打包修改-APP-版本号"><a href="#React-Native-打包修改-APP-版本号" class="headerlink" title="React Native 打包修改 APP 版本号"></a>React Native 打包修改 APP 版本号</h2><p> <strong>Android</strong></p><p>修改 <code>android/app/build.gradle</code> 配置</p><pre class=" language-java"><code class="language-java">android <span class="token punctuation">{</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  defaultConfig <span class="token punctuation">{</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    versionName <span class="token string">"2.1.1"</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p> <strong>iOS</strong></p><p>修改 <code>ios/&lt;应用名称&gt;/Info.plist</code> 配置</p><pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">></span></span>CFBundleShortVersionString<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span>1.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">></span></span></code></pre><h2 id="应用反应缓慢，出现卡顿问题"><a href="#应用反应缓慢，出现卡顿问题" class="headerlink" title="应用反应缓慢，出现卡顿问题"></a>应用反应缓慢，出现卡顿问题</h2><p> <strong>可能存在的问题</strong></p><ul><li>查看是否 console 日志打印过度造成。</li><li>React Native Debugger 页面放到最前面，浏览器窗口不要放到选项卡里面。</li></ul><h2 id="React-Native好用控件"><a href="#React-Native好用控件" class="headerlink" title="React Native好用控件"></a>React Native好用控件</h2><p> <strong>1.ReactNative短信验证码倒计时控件</strong></p><p><a href="https://www.jianshu.com/p/59a292a4aa58">ReactNative短信验证码倒计时控件</a></p><p> <strong>2.ReactNative最佳轮播控件</strong></p><p><a href="https://github.com/leecade/react-native-swiper">react-native-swiper</a></p><p> <strong>3.ReactNative拍照／从相册获取图片控件</strong></p><p><a href="https://github.com/react-community/react-native-image-picker">react-native-image-picker</a></p><p> <strong>4.ReactNative 打分（星星）控件</strong></p><p><a href="https://github.com/djchie/react-native-star-rating">react-native-star-rating</a></p><p> <strong>5.ReactNative常用第三方组件汇总</strong></p><p><a href="https://www.cnblogs.com/-sayaa/p/10196757.html">常用第三方组件汇总</a></p><p> <strong>6.前端 uiw组件</strong></p><p><a href="https://uiwjs.github.io/#/components/icon">uiw组件</a></p><p> <strong>7.【iOS/Android】支付宝对接支付、提现</strong></p><p><a href="https://github.com/uiwjs/react-native-uiwjs-alipay">支付宝对接支付、提现</a></p><p> <strong>8.复制功能组件</strong></p><p><a href="https://github.com/react-native-community/clipboard">复制功能组件</a><br> <strong>9.导航栏切换组件</strong></p><p><a href="https://github.com/satya164/react-native-tab-view#readme">导航栏切换组件</a><br><a href="https://blog.csdn.net/qq_21937107/article/details/97113674">导航栏切换组件实例</a></p><p> <strong>10.时间选择器组件</strong></p><p><a href="https://github.com/xgfe/react-native-datepicker#readme">时间选择器组件</a></p><p> <strong>11.图表数据组件</strong></p><p><a href="https://github.com/FormidableLabs/victory-native">图表数据组件</a></p><p><a href="https://formidable.com/open-source/victory/docs/victory-line/">图表数据组件</a></p><h2 id="React-Native使用原生组件WebView调用pdf文件"><a href="#React-Native使用原生组件WebView调用pdf文件" class="headerlink" title="React Native使用原生组件WebView调用pdf文件"></a>React Native使用原生组件WebView调用pdf文件</h2><ul><li>官方文档：<br>(<a href="https://reactnative.cn/docs/webview#startinloadingstate">https://reactnative.cn/docs/webview#startinloadingstate</a>)</li><li>参考文档：<br>(<a href="https://www.jianshu.com/p/d4fa88cc3b3d">https://www.jianshu.com/p/d4fa88cc3b3d</a>)</li></ul><p>添加依赖包，使用命令</p><pre><code>按文档上步骤发现需要安装依赖项: react-native-webview及react-native-get-random-values    yarn add react-native-webview     yarn add react-native-get-random-values</code></pre><p><code>引用文件</code></p><pre><code>import 'react-native-get-random-values';import { WebView } from "react-native-webview"</code></pre><p><code>以下是源代码参考</code></p><pre><code>render() {    const { listDetail, selectRouteList } = this.props;    return (      &lt;SafeAreaView style={{ flex: 1 }}&gt;        &lt;WebView          ref={(webView) =&gt; (this.webView = webView)}          startInLoadingState={true}          source={{            uri: `${url}`,          }}        &gt;&lt;/WebView&gt;      &lt;/SafeAreaView&gt;    );  }</code></pre><h2 id="React-Native-Android-打包应用"><a href="#React-Native-Android-打包应用" class="headerlink" title="React Native Android 打包应用"></a>React Native Android 打包应用</h2><p><a href="https://reactnative.dev/docs/signed-apk-android/">官方教程参考</a></p><p>1.生成上传需要的秘钥<br>官方教程 <a href="https://reactnative.dev/docs/signed-apk-android/">https://reactnative.dev/docs/signed-apk-android/</a></p><p>Android要求所有应用都必须先使用证书进行数字签名，然后才能安装。 为了通过Google Play商店分发您的Android应用，需要使用发布密钥对其进行签名，然后再将其用于以后的所有更新。 自2017年以来，借助Google Play的应用签名功能，Google Play可以自动管理签名发布。 但是，在将应用程序二进制文件上传到Google Play之前，需要使用上传密钥对其进行签名。 Android Developers文档上的<a href="https://developer.android.com/tools/publishing/app-signing.html">“签署应用程序”</a>页面详细描述了该主题。 本指南简要介绍了该过程，并列出了打包JavaScript捆绑包所需的步骤。</p><h2 id="生成上传需要的秘钥"><a href="#生成上传需要的秘钥" class="headerlink" title="生成上传需要的秘钥"></a>生成上传需要的秘钥</h2><blockquote><p>Android要求所有应用都有一个数字签名才会被允许安装在用户手机上，Android开发者官网上的如何给你的 <a href="https://developer.android.com/tools/publishing/app-signing.html">应用签名文档</a> 描述了签名的细节  </p></blockquote><p>生成签名有两种方式：</p><ul><li>Keytool命令行</li><li>Android Studio界面生成</li></ul><p>您可以使用keytool生成专用签名密钥。 在Windows上，必须从 <code>C:\Program Files\Java\jdkx.x.x_x\bin</code> 运行keytool。</p><p>⚠️  注意这个秘钥是私有的，请不要上传</p><pre class=" language-shell"><code class="language-shell">$ keytool -genkeypair -v -keystore myProject-upload-key.keystore -alias myProject-key-alias -keyalg RSA -keysize 2048 -validity 10000</code></pre><p>⚠️  生成打包用的 key，将 <code>keystore</code> 命名为 <code>myProject-release-key.keystore</code> 别名 <code>-alias</code> 为 <code>myProject-key-alias</code><br>⚠️  记住要输入的 <code>输入密钥库口令:</code></p><pre class=" language-shell"><code class="language-shell"># 老命令keytool -genkey -v -keystore myProject-release-key.keystore -alias myProject-key-alias -keyalg RSA -keysize 2048 -validity 10000# 官方新命令keytool -genkeypair -v -keystore myProject-release-key.keystore -alias myProject-key-alias -keyalg RSA -keysize 2048 -validity 10000# 输入密钥库口令: myProject2020# 再次输入新口令:# 您的名字与姓氏是什么?#   [Unknown]:  Kenny Wong//根据实际情况# 您的组织单位名称是什么?#   [Unknown]:  junzhuo//根据实际情况# 您的组织名称是什么?#   [Unknown]:  junzhuo//根据实际情况# 您所在的城市或区域名称是什么?#   [Unknown]:  shanghai//根据实际情况# 您所在的省/市/自治区名称是什么?#   [Unknown]:  shanghai//根据实际情况# 该单位的双字母国家/地区代码是什么?#   [Unknown]:  zh//根据实际情况# CN=Kenny Wong, OU=junzhuo, O=junzhuo, L=shanghai, ST=shanghai, C=zh是否正确?#   [否]:  y## 正在为以下对象生成 2,048 位RSA密钥对和自签名证书 (SHA256withRSA) (有效期为 10,000 天):#    CN=Kenny Wong, OU=junzhuo, O=junzhuo, L=shanghai, ST=shanghai, C=zh# 输入 <myProject-key-alias> 的密钥口令#   (如果和密钥库口令相同, 按回车):# [正在存储myProject-upload-key.keystore]## 这是一个巨坑 不要迁移标准格式，否则打包错误# Warning:# JKS 密钥库使用专用格式。建议使用 "keytool -importkeystore -srckeystore myProject-upload-key.keystore -destkeystore myProject-upload-key.keystore -deststoretype pkcs12" 迁移到行业标准格式 PKCS12。</code></pre><p>⚠️⚠️⚠️ 下面这是一个巨坑 不要迁移标准格式，否则打包错误，上面生成命令会提示下面命令，如果你照做了，坑可能爬不出来</p><pre class=" language-shell"><code class="language-shell"># Warning:# JKS 密钥库使用专用格式。建议使用 "keytool -importkeystore -srckeystore myProject-upload-key.keystore -destkeystore myProject-upload-key.keystore -deststoretype pkcs12# " 迁移到行业标准格式 PKCS12。</code></pre><p>2.设置Gradle变量<br><img src="https://i.loli.net/2020/10/23/tmgZNR7Vc9CslwO.png" alt="image"><br>如果 Gradle 加载失败，<a href="https://gradle.org/">https://gradle.org/</a> 点击下面按钮重新同步</p><p>3.Android 打包应用<br><img src="https://i.loli.net/2020/10/23/tmgZNR7Vc9CslwO.png" alt="image"><br>如果 Gradle 加载失败，<a href="https://gradle.org/">https://gradle.org/</a> 点击下面按钮重新同步<br><img src="https://i.loli.net/2020/10/27/ofLxJH1QK6rvTZt.png" alt="image"></p><p><img src="https://i.loli.net/2020/10/27/HzPFajpQRrhO7Kv.png" alt="image"></p><p>记得选择生成目录 &lt;项目所在目录&gt;/android/app/build/outputs/apk</p><p><img src="https://i.loli.net/2020/10/27/xCS7PF4ukXmHyQ5.png" alt="image"><br>然后点击<code>finish</code>按钮就可以了</p><h2 id="React-Native安卓打包报错笔记"><a href="#React-Native安卓打包报错笔记" class="headerlink" title="React Native安卓打包报错笔记"></a>React Native安卓打包报错笔记</h2><p> <strong>打包时，报错信息如下</strong></p><p><img src="https://i.loli.net/2020/10/23/GbDsgNt1RoExBfk.png" alt="image"><br> <strong>解决步骤</strong></p><ul><li>1.找到andrroid目录，删除图中如下文件信息 ，并且重新打开  Android Studio<br><img src="https://i.loli.net/2020/10/23/mnBvsopaSTO6X3M.png" alt="image"></li><li>2.执行File -&gt; Invalidate Caches / Restart -&gt; Invalidate Caches &amp; Restart.</li><li>3、File -&gt; Sync Project With Gradle Files</li></ul><p>然后通过了，但是还有一个错误，错误信息如下：</p><p><img src="https://i.loli.net/2020/10/23/tHn1cMd6eJUXjSY.png" alt="image"></p><p>这个错误我先不管，打包是可以成功的</p><h2 id="ios-打包应用"><a href="#ios-打包应用" class="headerlink" title="ios 打包应用"></a>ios 打包应用</h2><h1 id="ios打包笔记"><a href="#ios打包笔记" class="headerlink" title="ios打包笔记"></a>ios打包笔记</h1><p> <strong>准备：主要是获取项目打包的权限</strong></p><p> <strong>第一步：</strong><br> <img src="https://raw.githubusercontent.com/liang996/gallery/master/%E5%8C%851.jpeg" alt="image"></p><p> <strong>第二步：</strong></p><p>  <img src="https://raw.githubusercontent.com/liang996/gallery/master/%E5%8C%852.png" alt="image"></p><p>  <strong>第三步：</strong></p><p>   <img src="https://raw.githubusercontent.com/liang996/gallery/master/%E5%8C%853.png" alt="image"></p><p> <strong>第四步：</strong></p><p>  <img src="https://raw.githubusercontent.com/liang996/gallery/master/%E5%8C%854.png" alt="image"></p><p> <strong>开始</strong></p><p> <strong>第一步：</strong></p><p><img src="https://i.loli.net/2020/10/27/TF1fnZwtbypjKI5.png" alt="image"></p><p> <strong>第二步：</strong></p><p><img src="https://i.loli.net/2020/10/27/5bJ9XD7z2lgZmIC.png" alt="image"></p><p> <strong>第三步：</strong></p><p><img src="https://i.loli.net/2020/10/27/XHLgbizrlCFWmeK.png" alt="image"></p><p>然后直接<code>Next</code></p><p> <strong>第五步：</strong><br><img src="https://i.loli.net/2020/10/27/PkIrvG5bQwljXUp.png" alt="image"></p><p>然后直接<code>export</code>即可</p><h2 id="React-Native开发安卓高版本-安卓Q-读写文件出错解决及方法"><a href="#React-Native开发安卓高版本-安卓Q-读写文件出错解决及方法" class="headerlink" title="React Native开发安卓高版本 安卓Q 读写文件出错解决及方法"></a>React Native开发安卓高版本 安卓Q 读写文件出错解决及方法</h2><p>Android Q 默认开启沙箱模式 导致出现文件读写失败</p><p>需要在使用动态权限申请的情况下在AndroidManifest.xml中加入</p><pre class=" language-xml"><code class="language-xml">android:requestLegacyExternalStorage="true"</code></pre><p>AndroidManifest.xml文件内容</p><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="utf-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>manifest</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>android</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://schemas.android.com/apk/res/android<span class="token punctuation">"</span></span><span class="token attr-name">package</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>com.example.sdcard<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>​<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.WRITE_EXTERNAL_STORAGE<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.permission.READ_EXTERNAL_STORAGE<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>​<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span><span class="token attr-name"><span class="token namespace">android:</span>allowBackup</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">android:</span>icon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@mipmap/ic_launcher<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">android:</span>label</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@string/app_name<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">android:</span>requestLegacyExternalStorage</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">android:</span>roundIcon</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@mipmap/ic_launcher_round<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">android:</span>supportsRtl</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token attr-name"><span class="token namespace">android:</span>theme</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>@style/AppTheme<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.MainActivity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.intent.action.MAIN<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>​<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.intent.category.LAUNCHER<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">></span></span>​<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>manifest</span><span class="token punctuation">></span></span></code></pre><h2 id="React-Native禁止横屏"><a href="#React-Native禁止横屏" class="headerlink" title="React Native禁止横屏"></a>React Native禁止横屏</h2><p> <strong>android端</strong></p><pre class=" language-xml"><code class="language-xml">android文件下app/src/main/AndroidManifest.xml添加</code></pre><p><img src="https://i.loli.net/2020/10/23/1kyEFUoCHxhOuVY.png" alt="image"></p><p> <strong>ios</strong></p><p>在Xcode项目中把相对应的勾去掉即可</p><p><img src="https://i.loli.net/2020/10/23/fsGY5aAyRe1wJ6M.png" alt="image"></p><p>或者修改：<code>ios/项目名称/Info.plist</code></p><pre class=" language-diff"><code class="language-diff"><span class="token deleted">&lt;key>UISupportedInterfaceOrientations&lt;/key></span><span class="token deleted">&lt;array></span>  &lt;string>UIInterfaceOrientationPortrait&lt;/string><span class="token inserted">+  &lt;string>UIInterfaceOrientationLandscapeLeft&lt;/string></span><span class="token inserted">+  &lt;string>UIInterfaceOrientationLandscapeRight&lt;/string></span><span class="token deleted">&lt;/array></span><span class="token deleted">&lt;key>UIViewControllerBasedStatusBarAppearance&lt;/key></span><span class="token deleted">&lt;false/></span></code></pre><h2 id="React-Native（react-native-image-picker）拍照控件报错解决"><a href="#React-Native（react-native-image-picker）拍照控件报错解决" class="headerlink" title="React Native（react-native-image-picker）拍照控件报错解决"></a>React Native（react-native-image-picker）拍照控件报错解决</h2><p>react-native-image-picker控件照片选择 gif 导致程序报错问题解决的<br><a href="https://github.com/react-native-image-picker/react-native-image-picker/blob/341e95491bab55bb83ac92a9abfade7377a1c9fd/docs/Install.md">参考网站</a></p><h2 id="React-Native升级教程"><a href="#React-Native升级教程" class="headerlink" title="React Native升级教程"></a>React Native升级教程</h2><p> React Native在已有项目下升级<br> <strong>1.查看当前RN最新版本：</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> info react-native</code></pre><p> <strong>2.检查当前RN版本</strong></p><pre class=" language-bash"><code class="language-bash">react-native -v</code></pre><p> <strong>3.检查当前RN版本</strong><br>初始化一个官方最小工程</p><pre class=" language-bash"><code class="language-bash"> npx react-native init MyApp </code></pre><p> <strong>4.将除src里面的其它文件进行比对更改</strong><br>(特别是 ios 和Android 两个目录尤为重要)</p><p> <strong>5.通过官方工具去检验一下</strong></p><p><a href="https://react-native-community.github.io/upgrade-helper/">包对比</a></p>]]></content>
      
      
      <categories>
          
          <category> 移动端开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ReactNative </tag>
            
            <tag> ios </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React第一个HelloWOrd实践运用</title>
      <link href="2020/102265199.html"/>
      <url>2020/102265199.html</url>
      
        <content type="html"><![CDATA[<p>React 起源于 Facebook 的内部项于在2013年5月开源，是一个声明式，高效且灵活的用于构建用户界面的 JavaScript 库。使用 React 可以将一些简短、独立的代码片段组合成复杂的 UI 界面，这些代码片段被称作“组件”。</p><p>ReactJS的官方网站为:<a href="https://reactjs.org/">https://reactjs.org</a></p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a><ul><li><a href="#react%E4%B8%89%E5%A4%A7%E4%BD%93%E7%B3%BB">React三大体系</a></li><li><a href="#react-%E7%89%B9%E7%82%B9">React 特点</a></li><li><a href="#react%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA">React开发环境搭建</a><ul><li><a href="#1-%E5%AE%89%E8%A3%85node">1. 安装node</a></li><li><a href="#2-%E5%AE%89%E8%A3%85-create-react-app%E8%84%9A%E6%89%8B%E6%9E%B6%E5%B7%A5%E5%85%B7">2. 安装 create-react-app（脚手架工具）</a></li></ul></li><li><a href="#%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AAreact%E9%A1%B9%E7%9B%AE">创建第一个React项目</a></li><li><a href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E7%BB%93%E6%9E%84%E7%A0%B4%E6%99%93">脚手架结构破晓</a></li><li><a href="#%E7%AC%AC%E4%B8%80%E4%B8%AAhello-world%E7%A4%BA%E4%BE%8B">第一个Hello, world示例</a></li></ul></li></ul><h2 id="React三大体系"><a href="#React三大体系" class="headerlink" title="React三大体系"></a>React三大体系</h2><ul><li>React三大体系：用于web开发和组件的编写</li><li>ReactNative：用于移动端开发</li><li>ReactVR：用于虚拟现实技术开发</li></ul><h2 id="React-特点"><a href="#React-特点" class="headerlink" title="React 特点"></a>React 特点</h2><ul><li><p>声明式设计 −React采用声明范式，可以轻松描述应用。</p></li><li><p>高效灵活 −React通过对DOM的模拟，最大限度地减少与DOM的交互。<br>并且可以与已知的库或框架很好地配合。</p></li><li><p>JSX语法 − JSX 是 JavaScript 语法的扩展。React 开发不一定使用 JSX ，但我们建议使用它。</p></li><li><p>组件 − 通过 React 构建组件，使得代码更加容易得到复用，能够很好的应用在大项目的开发中。</p></li><li><p>单向响应的数据流 − React 实现了单向响应的数据流，从而减少了重复代码，这也是它为什么比传统数据绑定更简单。</p></li></ul><h2 id="React开发环境搭建"><a href="#React开发环境搭建" class="headerlink" title="React开发环境搭建"></a>React开发环境搭建</h2><h3 id="1-安装node"><a href="#1-安装node" class="headerlink" title="1. 安装node"></a>1. 安装node</h3><p>从<a href="https://nodejs.org/en/">nodejs官方网站</a>下载你的操作系统对应的node版本。和普通应用一样安装即可。<br>该页面会自动推荐更合适你电脑的node版本。左侧大按钮，显示的是将会下载最新的稳定版本。右侧的大按钮显示的是还处于测试阶段的新特性。因此我们通常选择左侧的下载。</p><p>Node.js 安装好以后，打开终端（或者叫命令行工具）。</p><p><strong>输入代码：</strong></p><pre class=" language-bash"><code class="language-bash">node -v</code></pre><p>如果正确出现版本号，说明Node安装已经成功。</p><p><strong>然后输入代码：</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> -v</code></pre><p>如果正确出现版本号，说明npm也是没问题的，这时候我们的Node.js安装就算完成了。</p><p>由于网络原因，当我们想要通过npm下载项目依赖包时，可能会很慢甚至直接无法下载，因此在使用时我们通常会使用淘宝NPM镜像。<br>首先使用如下指令安装cnpm，用以替换默认的npm</p><p><strong>安装cnpm：</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g cnpm --registry<span class="token operator">=</span>https://registry.npm.taobao.org</code></pre><h3 id="2-安装-create-react-app（脚手架工具）"><a href="#2-安装-create-react-app（脚手架工具）" class="headerlink" title="2. 安装 create-react-app（脚手架工具）"></a>2. 安装 create-react-app（脚手架工具）</h3><p>Node安装好之后，你就可以使用npm命令来安装脚手架工具了，方法很简单，只要打开终端，然后输入下面的命令就可以了。</p><pre class=" language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -g create-react-app</code></pre><p>create-react-app是React官方出的脚手架工具，其实有很多第三方的脚手架工具，也有很多优秀的。但是作为初学者为了减少踩坑，所以我们使用官方的脚手架。</p><h2 id="创建第一个React项目"><a href="#创建第一个React项目" class="headerlink" title="创建第一个React项目"></a>创建第一个React项目</h2><p>脚手架安装好以后，就可以创建项目了，</p><p><strong>实例参考：</strong></p><pre class=" language-bash"><code class="language-bash">E:  //选择自己项目想放的盘符，我这里选择E盘，<span class="token function">mkdir</span> ReactDemo  //创建ReactDemo文件夹create-react-app demo   //用脚手架创建React项目<span class="token function">cd</span> demo  //等创建完成后，进入项目目录<span class="token function">npm</span> start   //预览项目，如果能正常打开，说明项目创建成功</code></pre><p>等到浏览器可以打开React网页，并正常显示图标后，说明我们的环境已经全部搭建完成了。说明项目创建成功</p><h2 id="脚手架结构破晓"><a href="#脚手架结构破晓" class="headerlink" title="脚手架结构破晓"></a>脚手架结构破晓</h2><p>用脚手架生成目录后，需要对目录有个基本的认识，这里我来梳理一下脚手架生成目录和文件的作用。</p><ul><li><p><code>yarn.lock</code>  –  项目依赖的安装包</p></li><li><p><code>README.md</code>  –  项目的说明文件,主要作用就是对项目的说明</p></li><li><p><code>package.json</code>  –  node的包文件、项目的结束（名字/版本号/依赖的第三方的包/调用的指令等）<br>  记录用npm安装过哪些包  ^  代表 npm install 的时候会自动安装大版本号相同的最新的<br>  一个版本</p></li><li><p><code>package-lock.json</code>  -，就是锁定安装时的版本号，并且需要上传到git，以保证其他人再npm install 时大家的依赖能保证一致。</p></li><li><p><code>.gitignore </code><br>–  git管理代码的时候，有的文件不希望传到git仓库中，可以把文件定义在这。</p><ul><li><code>node_modules  </code></li></ul><p>–  放置项目依赖的第三方的包</p><ul><li><code>public  </code><br>这个文件都是一些项目使用的公共文件，也就是说都是共用的</li><li><code>public文件有 </code></li></ul><p>–  favico.ico: 网页tab标签小图标<br>–  index.html: 初始页面</p></li></ul><p>– manifest.json: wepack打包优化相关</p><ul><li><code>src</code></li></ul><p>  –  放的项目所有的源代码<br>    所有代码的入口在 index.js 里面</p><h2 id="第一个Hello-world示例"><a href="#第一个Hello-world示例" class="headerlink" title="第一个Hello, world示例"></a>第一个Hello, world示例</h2><p><strong>入口文件src编写：</strong></p><p>写一个项目的时候一般要从入口文件进行编写的，在src目录下，新建一个文件index.js，然后打开这个文件。</p><p>写入下面4行代码:</p><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> React from <span class="token string">'react'</span>//React 的核心库<span class="token function">import</span> ReactDOM from <span class="token string">'react-dom'</span>//提供与 DOM 相关的功能<span class="token function">import</span> App from <span class="token string">'./App'</span> //导入一个APP主件ReactDOM.render<span class="token punctuation">(</span><span class="token operator">&lt;</span>App /<span class="token operator">></span>,document.getElementById<span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">))</span>//将APP组件绑定到root节点上面渲染，这个rootID是在public\index.html文件中的。</code></pre><p>这样入口文件就写好了，这时候我们就需要写APP组件了。</p><p><strong>APP组件的编写：</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> React, <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> from <span class="token string">'react'</span>class App extends Component<span class="token punctuation">{</span>    render<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>            <span class="token operator">&lt;</span>div<span class="token operator">></span>               Hello, world            <span class="token operator">&lt;</span>/div<span class="token operator">></span>        <span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token function">export</span> default App<span class="token punctuation">;</span></code></pre><p><strong>补充说明:</strong></p><p>对import React,{Component} from ‘react’写法的解释 首先关于一下写法解释</p><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> React,<span class="token punctuation">{</span>Component<span class="token punctuation">}</span> from <span class="token string">'react'</span></code></pre><p>作用相当于下这两句话</p><p>1.导入react模块（组件）中的默认组件，并且命名为React</p><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> React from <span class="token string">'react'</span></code></pre><p>2.引入react文件中的成员组件Component,可以用{}形式引入多个成员组件</p><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> <span class="token punctuation">{</span>Component<span class="token punctuation">}</span> from <span class="token string">'react'</span>Const Component <span class="token operator">=</span> React.Component</code></pre><pre class=" language-bash"><code class="language-bash"><span class="token function">import</span> React,<span class="token punctuation">{</span>Component<span class="token punctuation">}</span> from <span class="token string">'react'</span>等同于：<span class="token function">import</span> React from <span class="token string">'react'</span>const Component <span class="token operator">=</span> React.Component</code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown基本语法总结</title>
      <link href="2020/10228960.html"/>
      <url>2020/10228960.html</url>
      
        <content type="html"><![CDATA[<p>markdown是一种纯文本格式的标记语言。通过简单的标记语法，它可以使普通文本内容具有一定的格式。</p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a></li><li><a href="#%E6%A0%87%E9%A2%98">标题</a></li><li><a href="#%E5%AD%97%E4%BD%93">字体</a></li><li><a href="#%E5%88%86%E5%89%B2%E7%BA%BF">分割线</a></li><li><a href="#%E5%9B%BE%E7%89%87">图片</a></li><li><a href="#%E8%B6%85%E9%93%BE%E6%8E%A5">超链接</a></li><li><a href="#%E8%A1%A8%E6%A0%BC">表格</a></li><li><a href="#%E4%BB%A3%E7%A0%81">代码</a></li><li><a href="#%E5%AD%97%E4%BD%93%E9%AB%98%E4%BA%AE">字体高亮</a></li></ul><h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><p>在想要设置为标题的文字前面加<code>#</code>来表示<br>一个<code>#</code>是一级标题，二个<code>#</code>是二级标题，以此类推。支持六级标题。</p><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 是一级标题</span><span class="token comment" spellcheck="true">## 是二级标题</span><span class="token comment" spellcheck="true">### 是三级标题</span><span class="token comment" spellcheck="true">#### 是四级标题</span></code></pre><h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><p><strong>加粗</strong></p><pre class=" language-bash"><code class="language-bash">要加粗的文字左右分别用两个*号包起来例：**这是加粗的文字**</code></pre><p>显示结果:<br><strong>这是加粗的文字</strong></p><p><strong>斜体</strong></p><pre class=" language-bash"><code class="language-bash">要倾斜的文字左右分别用一个*号包起来例：*这是倾斜的文字*</code></pre><p>显示结果:<br><em>这是加粗的文字</em></p><p><strong>斜体加粗</strong></p><pre class=" language-bash"><code class="language-bash">要倾斜和加粗的文字左右分别用三个*号包起来例：***这是斜体加粗的文字***</code></pre><p>显示结果:<br><strong><em>这是斜体加粗的文字</em></strong></p><p><strong>删除线</strong></p><pre class=" language-bash"><code class="language-bash">要加删除线的文字左右分别用两个~~号包起来例：~~这是加删除线的文字~~</code></pre><p>显示结果:<br><del>这是加删除线的文字</del></p><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><pre class=" language-bash"><code class="language-bash">三个或者三个以上的 - 或者 * 都可以。示例：-------********</code></pre><p><strong><em>显示结果:</em></strong></p><hr><hr><hr><hr><h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><p><img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=473486950,2061554047&amp;fm=26&amp;gp=0.jpg" alt="办公室图片"></p><pre class=" language-bash"><code class="language-bash">语法：<span class="token operator">!</span><span class="token punctuation">[</span>图片alt<span class="token punctuation">]</span><span class="token punctuation">(</span>图片地址 <span class="token string">''</span>图片title<span class="token string">''</span><span class="token punctuation">)</span></code></pre><p><code>注释</code>：<br>图片alt就是显示在图片下面的文字，相当于对图片内容的解释。<br>图片title是图片的标题，当鼠标移到图片上时显示的内容。title可加可不加</p><h2 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h2><pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>超链接名<span class="token punctuation">]</span><span class="token punctuation">(</span>超链接地址 <span class="token string">"超链接title"</span><span class="token punctuation">)</span>title可加可不加</code></pre><p><a href="http://baidu.com/" title="百度一下">百度一下</a></p><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><pre class=" language-bash"><code class="language-bash">语法：<span class="token operator">|</span> 表头 <span class="token operator">|</span> 表头  <span class="token operator">|</span> 表头 <span class="token operator">|</span><span class="token operator">|</span> ---- <span class="token operator">|</span> :---: <span class="token operator">|</span> ---: <span class="token operator">|</span><span class="token operator">|</span> 内容 <span class="token operator">|</span> 内容  <span class="token operator">|</span> 内容 <span class="token operator">|</span><span class="token operator">|</span> 内容 <span class="token operator">|</span> 内容  <span class="token operator">|</span> 内容 <span class="token operator">|</span></code></pre><p><code>注释</code>：第二行分割表头和内容。</p><p><code>-</code>有一个就行，为了对齐，多加了几个<br>文字默认居左</p><p><code>-</code>两边加：表示文字居中</p><p><code>-</code>右边加：表示文字居右</p><p><code>注</code>：原生的语法两边都要用 | 包起来。此处省略）</p><pre class=" language-bash"><code class="language-bash"><span class="token operator">|</span> 参数 <span class="token operator">|</span> 参数  <span class="token operator">|</span> 参数 <span class="token operator">|</span><span class="token operator">|</span> :--- <span class="token operator">|</span> :---: <span class="token operator">|</span> ---: <span class="token operator">|</span><span class="token operator">|</span> 0    <span class="token operator">|</span>   1   <span class="token operator">|</span>    1 <span class="token operator">|</span><span class="token operator">|</span> 0    <span class="token operator">|</span>   2   <span class="token operator">|</span>    1 <span class="token operator">|</span></code></pre><p>显示结果:<br>| 参数 | 参数  | 参数 |<br>| :— | :—: | —: |<br>| 0    |   1   |    1 |<br>| 0    |   2   |    1 |</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>语法：</p><ul><li><p>单行代码：代码之间分别用一个反引号包起来<br>  <code>代码内容</code></p></li><li><p>代码块：代码之间分别用三个反引号包起来，且两边的反引号单独占一行</p></li></ul><p><strong>单行代码:一个反引号`</strong></p><p><code>document.write(isNaN(123))</code></p><p><strong>代码块:三个反引号`</strong></p><pre class=" language-bash"><code class="language-bash"><span class="token keyword">function</span> isEmpty<span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>typeof obj <span class="token operator">==</span> <span class="token string">"undefined"</span> <span class="token operator">||</span> obj <span class="token operator">==</span> null <span class="token operator">||</span> obj <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="字体高亮"><a href="#字体高亮" class="headerlink" title="字体高亮"></a>字体高亮</h2><pre class=" language-bash"><code class="language-bash">语法：用单引号把要显示高亮的单词围起来</code></pre><p>例子：<code>要显示高亮的单词</code></p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> html </tag>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js遍历数组及对数组进行增删改查方法汇总</title>
      <link href="2020/102142099.html"/>
      <url>2020/102142099.html</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p>这里是我的笔记，记录一些js遍历数组及对数组进行增删改查的常用方法，这个笔记后面慢慢增加了许多内容，如果有错误之处，请各位多多指教。</p><h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><!-- TOC --><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a><ul><li><a href="#for%E9%81%8D%E5%8E%86">for遍历</a></li><li><a href="#for-in%E9%81%8D%E5%8E%86">for in遍历</a></li><li><a href="#for-of%E5%BE%AA%E7%8E%AF">for of循环</a></li><li><a href="#foreach%E9%81%8D%E5%8E%86">forEach遍历</a></li><li><a href="#map%E9%81%8D%E5%8E%86">map遍历</a></li><li><a href="#filter--%E6%96%B9%E6%B3%95">filter()  方法</a></li><li><a href="#every-%E6%96%B9%E6%B3%95">every() 方法</a></li><li><a href="#some%E6%96%B9%E6%B3%95">some方法</a></li><li><a href="#find%E6%96%B9%E6%B3%95">find方法</a></li><li><a href="#reduce%E6%96%B9%E6%B3%95-%E6%B1%82%E5%92%8C%E7%94%A8">reduce方法 (求和用)</a></li><li><a href="#concat%E6%96%B9%E6%B3%95%E5%90%88%E5%B9%B6%E6%95%B0%E7%BB%84">concat方法（合并数组）</a></li><li><a href="#join%E6%96%B9%E6%B3%95">join方法</a></li><li><a href="#pop%E6%96%B9%E6%B3%95">pop方法</a></li><li><a href="#shift%E6%96%B9%E6%B3%95">shift方法</a></li><li><a href="#unshift%E6%96%B9%E6%B3%95">unshift方法</a></li><li><a href="#push%E6%96%B9%E6%B3%95">push方法</a></li><li><a href="#reverse%E6%96%B9%E6%B3%95">reverse方法</a></li><li><a href="#sort%E6%96%B9%E6%B3%95">sort方法</a></li><li><a href="#slice%E6%96%B9%E6%B3%95">slice方法</a></li><li><a href="#splice%E6%96%B9%E6%B3%95">splice方法</a></li><li><a href="#tostring">toString()</a></li><li><a href="#indexof">IndexOf()</a></li><li><a href="#lastindexof">lastIndexOf();</a></li><li><a href="#substring">substring()</a></li></ul></li></ul><h2 id="for遍历"><a href="#for遍历" class="headerlink" title="for遍历"></a>for遍历</h2><p><strong>方法解释：</strong></p><ul><li>表达式1：赋值表达式，用来给控制变量赋初值。（只执行一次）</li><li>表达式2：逻辑表达式，是循环的控制条件，用来判断控制变量是否符合循环条件，否则跳出循环。</li><li>表达式3：赋值表达式，用来对控制变量进行增量或减量操作。</li></ul><p><strong>执行步骤：</strong></p><ul><li>1.声明变量 a = 0</li><li>2.if (a &lt;arr.length ) 继续运行</li><li>3.每执行一次 a += 1</li><li>4.当不满足 a &lt; 10 for循环结束 </li></ul><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> a <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span></code></pre><h2 id="for-in遍历"><a href="#for-in遍历" class="headerlink" title="for in遍历"></a>for in遍历</h2><ul><li>for…in 语句用于对数组或者对象的属性进行循环操作。</li><li>for … in 循环中的代码每执行一次，就会对数组的元素或者对象的属性进行一次操作。</li></ul><p><strong>基本语法：</strong></p><pre><code> for (变量 in 对象) {    在此执行代码 }</code></pre><p><strong>(1).for in遍历对象</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">"王力宏"</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">38</span> <span class="token punctuation">}</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj的key:'</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token string">'  obj的value:'</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js"> 结果： obj的key<span class="token punctuation">:</span> id      obj的value<span class="token punctuation">:</span> <span class="token number">1</span> obj的key<span class="token punctuation">:</span> name    obj的value<span class="token punctuation">:</span> 王力宏 obj的key<span class="token punctuation">:</span> age     obj的value<span class="token punctuation">:</span> <span class="token number">38</span></code></pre><p><strong>(2).for in遍历数组</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// console.log(key) //0,1,2,3</span>  <span class="token comment" spellcheck="true">// console.log(arr[key]) //7,3,5,6</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//出现四次[ 7, 3, 5, 6 ]</span><span class="token punctuation">}</span></code></pre><p>不推荐用for-in来循环一个数组，因为，不像对象，数组的 index 跟普通的对象属性不一样，是重要的数值序列指标。总之， for – in 是用来循环带有字符串key的对象的方法。</p><h2 id="for-of循环"><a href="#for-of循环" class="headerlink" title="for of循环"></a>for of循环</h2><p>for-of循环，它既比传统的for循环简洁，同时弥补了forEach和for-in循环的短板。</p><p><strong>基本语法</strong></p><pre class=" language-js"><code class="language-js"> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> value <span class="token keyword">of</span> myArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre><p>语法看起来跟for-in很相似，但它的功能却丰富的多，它能循环很多东西。</p><p><strong>(1).for of遍历数组</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//7, 3, 5, 6</span><span class="token punctuation">}</span></code></pre><p><strong>(2).for of循环一个字符串</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"我是中国人"</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> str<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//我是中国人</span><span class="token punctuation">}</span></code></pre><h2 id="forEach遍历"><a href="#forEach遍历" class="headerlink" title="forEach遍历"></a>forEach遍历</h2><p>forEach() 方法对数组的每个元素执行一次提供的函数。forEach() 需要一个回调函数，作为参数，该方法中的function回调有三个参数：</p><ul><li>第一个参数是遍历的数组内容，</li><li>第二个参数是对应的数组索引，</li><li>第三个参数是数组本身</li></ul><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//code something});</span></code></pre><p><strong>例.取下面数组的和</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//1, 2, 3, 4, 5, 6</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//1, 2, 3, 4, 5, 6</span>  a <span class="token operator">+</span><span class="token operator">=</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token comment" spellcheck="true">// a += array[index]==a=a+value</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">//21</span></code></pre><h2 id="map遍历"><a href="#map遍历" class="headerlink" title="map遍历"></a>map遍历</h2><p>  map（）方法返回一个由原数组中的每个元素调用一个指定方法后的返回值组成的新数组,循环中的map意思为“映射”，map方法和forEach方法类似，和forEach不同的是，map有返回值,在工作中如果需要根据条件重组数组，用map会很方便。</p><p>  <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js"> array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">,</span>thisValue<span class="token punctuation">)</span></code></pre><p>  <strong>参数描述:</strong></p><ul><li>currentValue：【必填】数组中正在处理的当前元素。</li><li>index：【可选】数组中正在处理的当前元素的索引。</li><li>arr：【可选】方法被调用的数组。也就是当前元素属于的数组对象。</li><li>thisValue：【可选】执行回调函数时使用的this值。</li><li>map的回调函数中支持return返回值；return的并不影响原来的数组，只是相当于把原数组克隆一份，把克隆的这一份的数组中的对应项改变了</li></ul><p><strong>例.将数组里面的值都乘以3</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//Es5写法</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> value <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//ES6箭头函数写法</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> value <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 原数组拷贝了一份，并进行了修改,结果为[ 3, 9, 12, 18 ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//  原数组并未发生变化,结果为[ 1, 3, 4, 6 ]</span></code></pre><p><code>注意</code>：map 和 forEach 方法都是只能用来遍历数组，不能用来遍历普通对象。</p><h2 id="filter-方法"><a href="#filter-方法" class="headerlink" title="filter()  方法"></a>filter()  方法</h2><p>filter 方法是 Array 对象内置方法，它会返回通过过滤的元素，不改变原来的数组。</p><p>  <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">  arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre><ul><li>用法说明：filter 为数组中的每个元素调用一次 callback 函数，并利用所有使得 callback 返回 true 或 等价于 true 的值 的元素创建一个新数组。</li></ul><p><strong>例.筛选排除掉所有的小于5的数</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//得到新数组[7, 9, 11]</span></code></pre><h2 id="every-方法"><a href="#every-方法" class="headerlink" title="every() 方法"></a>every() 方法</h2><p>every()是对数组中的每一项运行给定函数，如果该函数对每一项返回true,则返回true。every方法返回值是布尔类型,针对数组中的每一个元素进行比对，只要有一个元素比对结果为false则返回false，反之要所有的元素比对结果为true才为true</p><p> <strong>例.判断数组中所有的值是否都大于3,，有一个条件不满足则返回false</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> indec<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//因为1，2小于3，存在不满足值，所以得出结果为false</span></code></pre><h2 id="some方法"><a href="#some方法" class="headerlink" title="some方法"></a>some方法</h2><p> some()是对数组中每一项运行指定函数，如果该函数对任一项返回true，则返回true。 some方法返回值是布尔类型，同样是针对数组中的每一个元素，但是这个方法是，只要有一个元素比对结果为true，返回结果就为true，反之要所有的元素比对结果为false才为false</p><p> <strong>例.判断数组中是否存在大于3的值，有一个条件满足则返回true</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> indec<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//尽管1，2小于3，存在不满足值，但是some是判断其中一个满足条件就为true</span>结果为<span class="token boolean">true</span></code></pre><h2 id="find方法"><a href="#find方法" class="headerlink" title="find方法"></a>find方法</h2><p> find()方法返回第一个满足过滤方法的元素，一个都没有满足的就返回undefined，遇到一个满足的元素后遍历就停止了,这个方法支持的浏览器太少，慎用</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> indec<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> item <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">)</span></code></pre><p> <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//由于数组中满足条件的第一个数数6，所以结果返回6</span></code></pre><h2 id="reduce方法-求和用"><a href="#reduce方法-求和用" class="headerlink" title="reduce方法 (求和用)"></a>reduce方法 (求和用)</h2><p>reduce() 方法接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始缩减，最终为一个值。</p><p>   <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span>cur<span class="token punctuation">,</span>index<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span> init<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>参数解析：</li><li>arr 表示原数组；</li><li>prev 表示上一次调用回调时的返回值，或者初始值 init;</li><li>cur 表示当前正在处理的数组元素；</li><li>index 表示当前正在处理的数组元素的索引，若提供 init 值，则索引为0，否则索引为1；</li><li>init 表示初始值。</li><li>注意: reduce() 对于空数组是不会执行回调函数的。</li><li>/</li></ul><p><strong>求和实例：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> value<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> total <span class="token operator">+</span> value<span class="token punctuation">)</span></code></pre><p>   <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//21</span></code></pre><h2 id="concat方法（合并数组）"><a href="#concat方法（合并数组）" class="headerlink" title="concat方法（合并数组）"></a>concat方法（合并数组）</h2><p>  concat() 方法用于连接两个或多个数组。可以合并一个或多个数组，会返回合并数组之后的数据，不会改变原来的数组；该方法没有改变原有字符串，但是会返回连接两个或多个字符串新字符串。</p><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js"> string<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>string1<span class="token punctuation">,</span> string2<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">,</span> stringX<span class="token punctuation">)</span></code></pre><p><strong>合并数组实例：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"d"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">,</span> <span class="token string">"f"</span><span class="token punctuation">]</span><span class="token keyword">let</span> c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span></code></pre><p>   <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//[ 'a', 'b', 'c', 'd', 'e', 'f' ]</span></code></pre><h2 id="join方法"><a href="#join方法" class="headerlink" title="join方法"></a>join方法</h2><p>join() 方法用于把数组中的所有元素放入一个字符串。元素是通过指定的分隔符进行分隔的。<br><strong>基本语法:</strong></p><ul><li>arrayObject.join(separator)</li><li>separator    可选。指定要使用的分隔符。如果省略该参数，则使用逗号作为分隔符。</li><li>返回结果为一个字符串。该字符串是通过把 arrayObject 的每个元素转换为字符串，然后把这些字符串连接起来，在两个元素之间插入separator 字符串而生成的。</li></ul><p><strong>例1：将创建一个数组，然后把它的所有元素放入一个字符串：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token string">"王五"</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>   <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//张三,李四,王五,注意：如果（）没有参数，则使用逗号作为分隔符</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//string</span></code></pre><p><strong>例2：将使用分隔符来分隔数组中的元素：</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token string">"王五"</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span></code></pre><p>   <strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//张三*李四*王五</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//string</span></code></pre><h2 id="pop方法"><a href="#pop方法" class="headerlink" title="pop方法"></a>pop方法</h2><p>pop方法用于删除数组的最后一位，并且返回删除的数据，会改变原来的数组</p><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li>说明pop() 方法将删除 arrayObject 的最后一个元素，把数组长度减 1，并且返回它删除的元素的值。如果数组已经为空，则 pop() 不改变数组，并返回 undefined 值。</li><li>返回结果为arrayObject 的最后一个元素。</li></ul><p><strong>例1：有值数组</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token string">"王五"</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ '张三', '李四' ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//王五</span></code></pre><p><strong>例2：空值数组</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//undefined</span></code></pre><h2 id="shift方法"><a href="#shift方法" class="headerlink" title="shift方法"></a>shift方法</h2><p>shift() 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。</p><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token string">"王五"</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[  "李四", "王五" ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//张三</span></code></pre><h2 id="unshift方法"><a href="#unshift方法" class="headerlink" title="unshift方法"></a>unshift方法</h2><p>unshift() 方法可向数组的开头添加一个或更多元素，并返回新的长度。与shift方法相反</p><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>newelement1<span class="token punctuation">,</span>newelement2<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">,</span>newelementX<span class="token punctuation">)</span></code></pre><p> unshift() 方法将把它的参数插入 arrayObject 的头部，并将已经存在的元素顺次地移到较高的下标处，以便留出空间。该方法的第一个参数将成为数组的新元素 0，如果还有第二个参数，它将成为新的元素 1，以此类推。</p><p><strong>例：向数组的开头添加元素</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">,</span> <span class="token string">"王五"</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">"小米"</span><span class="token punctuation">,</span> <span class="token string">"小百"</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ '小米', '小百', '张三', '李四', '王五' ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//会取出该数组新的长度：5</span></code></pre><p><code>注意</code>unshift方法：unshift()、shift() 是从数组的头部进行增减。unshift() 方法不创建新的创建，而是直接修改原有的数组。</p><h2 id="push方法"><a href="#push方法" class="headerlink" title="push方法"></a>push方法</h2><p>push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度,与pop方法相反</p><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newelement1<span class="token punctuation">,</span>newelement2<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">,</span>newelementX<span class="token punctuation">)</span></code></pre><ul><li>push() 方法可把它的参数顺序添加到 arrayObject 的尾部。它直接修改 arrayObject，而不是创建一个新的数组。push() 方法和 pop() 方法使用数组提供的先进后出栈的功能。</li></ul><p><strong>例：向数组的末尾添加元素</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"张三"</span><span class="token punctuation">,</span> <span class="token string">"李四"</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"王五"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ '张三', '李四', '王五' ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//3</span></code></pre><p> <code>注意</code>push方法：push()、pop() 是从数组的尾部进行增减</p><h2 id="reverse方法"><a href="#reverse方法" class="headerlink" title="reverse方法"></a>reverse方法</h2><p>reverse方法:颠倒数组中元素的顺序</p><p><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">array<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><ul><li>功能：将数组的数据进行反转，并且返回反转后的数组，会改变原数组</li></ul><p><strong>例：颠倒数组顺序</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ '王五', '李四', '张三'  ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ '王五', '李四', '张三'  ]</span></code></pre><h2 id="sort方法"><a href="#sort方法" class="headerlink" title="sort方法"></a>sort方法</h2><p>sort方法用于对数组对元素进行排序，默认为升序。并且返回排过序的新数组<br><strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span>sort（sortby）</code></pre><p><strong>参数说明:</strong></p><ul><li><p><code>sortby</code>为可选值，用来规定顺序，必须是函数返回值,对数组的引用。</p><p><strong>注意事项:</strong></p></li><li><p>请注意，数组在原数组上进行排序，不生成副本。</p></li><li><p>说明：这里的排序是针对字符的排序，先使用数组的toString()方法转为字符串，再逐位比较，</p></li></ul><p><strong>例1：对数组字符串元素进行排序</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"g"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ 'a', 'b', 'c', 'e', 'g', 'x' ]</span><span class="token punctuation">]</span></code></pre><p><strong>例2：对数组数字元素进行排序</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//[ 1, 2, 4, 5, 6, 8 ]</span></code></pre><p><strong>例2：传入参数，实现升序，降序</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">//正常情况：</span>document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[1,10,15,5,8,9]</span><span class="token comment" spellcheck="true">//上面这个肯定不是我们想要的结果,优化后：</span> <span class="token comment" spellcheck="true">//升序；</span>        arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b<span class="token punctuation">)</span>  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//输出  [1,5,8,9,10,15]</span>  <span class="token comment" spellcheck="true">//降序；</span>  <span class="token keyword">let</span> arr1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">]</span>  arr1<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span> b<span class="token operator">-</span>a<span class="token punctuation">)</span>  document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//输出 [1899, 111, 50, 45, 35, 30, 10]</span></code></pre><h2 id="slice方法"><a href="#slice方法" class="headerlink" title="slice方法"></a>slice方法</h2><p> slice() 方法可从已有的数组中返回选定的元素。功能主要是截取指定位置的数组，并且返回截取的数组，不会改变原数组，slice()方法可提取字符串端某个部分，并且以新的字符串返回被提取的部分</p><p> <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">array<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token punctuation">)</span></code></pre><p> <strong>参数说明：</strong></p><ul><li>start为可选。规定从何处开始选取。如果是负数，那么它规定从数组尾部开始算起的位置。也就是说，-1 指最后一个元素，-2 指倒数第二个元素，以此类推</li><li>end也为可选。规定从何处结束选取。该参数是数组片断结束处的数组下标。如果没有指定该参数，那么切分的数组包含从 start 到数组结束的所有元素。如果这个参数是负数，那么它规定的是从数组尾部开始算起的元素。</li><li>返回值：    返回一个新的数组，包含从 start 到 end （不包括该元素）的 arrayObject 中的元素。</li><li>注意:可从已有的数组中返回选定的元素。该方法接收两个参数slice(start,end)，strat为必选，表示从第几位开始；end为可选，表示到第几位结束(不包含end位)，省略表示到最后一位；start和end都可以为负数，负数时表示从最后一位开始算起，如-1表示最后一位。</li></ul><p><strong>例2：截取数组</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"g"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"e"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//下标是从0开始，第一为这是”g“,由于结束是第4位结束(不包含4位)，则省略第4为是"b”的值，结果为[ 'g', 'c', 'x' ]</span></code></pre><h2 id="splice方法"><a href="#splice方法" class="headerlink" title="splice方法"></a>splice方法</h2><p>splice()方法向数组中添加，或从数组删除，或替换数组中的原始，然后返回被删除/替换的元素。该方法会改变原始数组。<br> <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">arrayObject<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span>howmany，item1<span class="token punctuation">,</span><span class="token operator">...</span>itemX<span class="token punctuation">)</span></code></pre><p> <strong>参数说明：</strong></p><ul><li><p>index必需。整数，规定添加/删除项目的位置，使用负数可从数组结尾处规定位置。</p></li><li><p>howmany必需。要删除的项目数量。如果设置为 0，则不会删除项目。    </p></li><li><p>item1, …, itemX,为可选，向数组添加的新项目</p></li><li><p><strong>返回值：</strong></p></li><li><p>array,包含被删除项目的新数组，如果有的话<br>说明 splice() 方法可删除从 index 处开始的零个或多个元素，并且用参数列表中声明的一个或多个值来替换那些被删除的元素。如果从 arrayObject 中删除了元素，则返回的是含有被删除的元素的数组。</p></li><li><p>请<code>注意</code>，splice() 方法与 slice() 方法的作用是不同的，splice() 方法会直接对数组进行修改。</p></li></ul><p><strong>例1.删除第一项</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//删除第一项</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ "green", "blue" ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//red，返回数组中值包含一项</span></code></pre><p><strong>例2.从位置1开始插入两项</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"yellow"</span><span class="token punctuation">,</span> <span class="token string">"orange"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//从位置1开始插入两项</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//["red", "yellow", "orange", "green", "blue" ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//返回的是一个空数组[]</span></code></pre><p><strong>例3.插入两项，删除一项</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"greens"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"hhh"</span><span class="token punctuation">,</span> <span class="token string">"purple"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ 'red', 'hhh', 'purple' ]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//[ 'greens', 'blue' ]</span></code></pre><h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h2><p>toString()功能是将数组转换为字符串，类似于没有参数的join.该方法会在数据发生隐式类型转换时被自动调用，如果手动调用，就是直接转为字符串。不会改变原数组<br> <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">booleanObject<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p> <strong>返回值：</strong></p><ul><li>根据原始布尔值或者 booleanObject 对象的值返回字符串 “true” 或 “false”。</li></ul><p><strong>例.数组转换为字符串</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">]</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> 张三<span class="token punctuation">,</span> 李四<span class="token punctuation">,</span> 王五</code></pre><h2 id="IndexOf"><a href="#IndexOf" class="headerlink" title="IndexOf()"></a>IndexOf()</h2><p> IndexOf()方法根据指定的数据，从左向右，查询在数组中出现的位置，如果不存在指定的数据，返回-1，找到了指定的数据返回该数据的索引<br> <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">stringObject<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>searchvalue<span class="token punctuation">,</span>fromindex<span class="token punctuation">)</span></code></pre><p> <strong>参数说明：</strong></p><ul><li><p>searchvalue是必需的。规定需检索的字符串值。</p></li><li><p>fromindex是可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的首字符开始检索。</p></li><li><p>该方法将从头到尾地检索字符串 stringObject，看它是否含有子串 searchvalue。开始检索的位置在字符串的 fromindex 处或字符串的开头（没有指定 fromindex 时）。如果找到一个 searchvalue，则返回 searchvalue 的第一次出现的位置。stringObject 中的字符位置是从 0 开始的。</p></li><li><p>注意：如果找到该数据，立即返回该数据的索引，不再往后继续查找</p></li></ul><p><strong>例.查找数组是否包含某个元素</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token keyword">let</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'李四1'</span><span class="token punctuation">)</span><span class="token keyword">let</span> n1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//'李四'是否在数组下标为2上面</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-1</span></code></pre><h2 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf();"></a>lastIndexOf();</h2><p> lastIndexOf() 方法可返回一个指定的字符串值最后出现的位置，在一个字符串中的指定位置从后向前搜索。<br> <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">stringObject<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>searchvalue<span class="token punctuation">,</span>fromindex<span class="token punctuation">)</span></code></pre><p> <strong>参数说明：</strong></p><ul><li>searchvalue是必需的。规定需检索的字符串值。</li><li>fromindex为可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的最后一个字符处开始检索。</li><li>如果在 stringObject 中的 fromindex 位置之前存在 searchvalue，则返回的是出现的最后一个 searchvalue 的位置。</li><li>注意：如果要检索的字符串值没有出现，则该方法返回 -1。</li></ul><p><strong>例.返回一个指定的字符串值最后出现的位置</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'王五'</span><span class="token punctuation">]</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token keyword">let</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">'李四1'</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//1</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//-1</span></code></pre><h2 id="substring"><a href="#substring" class="headerlink" title="substring()"></a>substring()</h2><p>substring() 方法用于提取字符串中介于两个指定下标之间的字符。<br> <strong>基本语法:</strong></p><pre class=" language-js"><code class="language-js">stringObject<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>stop<span class="token punctuation">)</span></code></pre><p> <strong>参数说明：</strong></p><ul><li>start为必需。一个非负的整数，规定要提取的子串的第一个字符在 stringObject 中的位置。</li><li>stop为可选。一个非负的整数，比要提取的子串的最后一个字符在 stringObject 中的位置多 1。</li><li>如果省略该参数，那么返回的子串会一直到字符串的结尾。</li><li>一个新的字符串，该字符串值包含 stringObject 的一个子字符串，其内容是从 start 处到 stop-1 处的所有字符，其长度为 stop 减 start。</li></ul><p><strong>例.提取字符在3的位置内容</strong></p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token string">"Hello world!"</span><span class="token keyword">let</span> num <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></code></pre><p><strong>结果显示：</strong></p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//lo world!</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Es6 </tag>
            
            <tag> Array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSON的基本使用说明</title>
      <link href="2020/102043700.html"/>
      <url>2020/102043700.html</url>
      
        <content type="html"><![CDATA[<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul><li><a href="#%E7%9B%AE%E5%BD%95">目录</a><ul><li><a href="#%E4%BB%80%E4%B9%88%E6%98%AF-json-">什么是 JSON ？</a></li><li><a href="#json-%E8%AF%AD%E6%B3%95%E8%A7%84%E5%88%99">JSON 语法规则</a></li><li><a href="#json-%E5%90%8D%E7%A7%B0%E5%80%BC%E5%AF%B9">JSON 名称/值对</a></li><li><a href="#%E8%AE%BF%E9%97%AE%E5%AF%B9%E8%B1%A1%E5%80%BC">访问对象值</a></li><li><a href="#%E5%BE%AA%E7%8E%AF%E5%AF%B9%E8%B1%A1">循环对象</a></li><li><a href="#json-%E5%AF%B9%E8%B1%A1%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84">JSON 对象中的数组</a></li><li><a href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E5%80%BC">修改数组值</a></li><li><a href="#%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0">删除数组元素</a></li></ul></li></ul><h2 id="什么是-JSON-？"><a href="#什么是-JSON-？" class="headerlink" title="什么是 JSON ？"></a>什么是 JSON ？</h2><pre><code>1.JSON 指的是 JavaScript 对象表示法（JavaScript Object Notation）2.JSON 是轻量级的文本数据交换格式3.JSON 独立于语言：JSON 使用 Javascript语法来描述数据对象，但是 JSON 仍然独立于语言和平台。JSON 解析器和 JSON 库支持许4.多不同的编程语言。 目前非常多的动态（PHP，JSP，.NET）编程语言都支持JSON。5.JSON 具有自我描述性，更易理解</code></pre><p>例子：</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h2&gt;JavaScript 创建 JSON 对象&lt;/h2&gt;&lt;p&gt;网站名称: &lt;span id="jname"&gt;&lt;/span&gt;&lt;br /&gt; 网站地址: &lt;span id="jurl"&gt;&lt;/span&gt;&lt;br /&gt; 网站 slogan: &lt;span id="jslogan"&gt;&lt;/span&gt;&lt;br /&gt; &lt;/p&gt;&lt;script&gt;var JSONObject= {    "name":"菜鸟教程",    "url":"www.runoob.com",     "slogan":"学的不仅是技术，更是梦想！"};document.getElementById("jname").innerHTML=JSONObject.name document.getElementById("jurl").innerHTML=JSONObject.url document.getElementById("jslogan").innerHTML=JSONObject.slogan &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>结果显示</p><pre><code>JavaScript 创建 JSON 对象网站名称: 菜鸟教程网站地址: www.runoob.com网站 slogan: 学的不仅是技术，更是梦想！</code></pre><h2 id="JSON-语法规则"><a href="#JSON-语法规则" class="headerlink" title="JSON 语法规则"></a>JSON 语法规则</h2><p>JSON 语法是 JavaScript 对象表示语法的子集。</p><pre><code>1.数据在名称/值对中2.数据由逗号分隔3.大括号保存对象4.中括号保存数组</code></pre><h2 id="JSON-名称-值对"><a href="#JSON-名称-值对" class="headerlink" title="JSON 名称/值对"></a>JSON 名称/值对</h2><p>JSON 数据的书写格式是：名称/值对。</p><p>名称/值对包括字段名称（在双引号中），后面写一个冒号，然后是值：</p><pre><code>"name" : "菜鸟教程"这很容易理解，等价于这条 JavaScript 语句：name = "菜鸟教程"</code></pre><h2 id="访问对象值"><a href="#访问对象值" class="headerlink" title="访问对象值"></a>访问对象值</h2><p>你可以使用点号（.）来访问对象的值：</p><pre><code>&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;你可以使用点号（.）来访问 JSON 对象的值：&lt;/p&gt;&lt;p id="demo"&gt;&lt;/p&gt;&lt;script&gt;var myObj, x;myObj = { "name":"runoob", "alexa":10000, "site":null };x = myObj.name;document.getElementById("demo").innerHTML = x;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>运行结果</p><pre><code>你可以使用点号（.）来访问 JSON 对象的值：runoob</code></pre><h2 id="循环对象"><a href="#循环对象" class="headerlink" title="循环对象"></a>循环对象</h2><p>你可以使用 for-in 来循环对象的属性：</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;使用 for-in 来循环对象的属性:&lt;/p&gt;&lt;p id="demo"&gt;&lt;/p&gt;&lt;script&gt;var myObj = { "name":"runoob", "alexa":10000, "site":null };for (x in myObj) {    document.getElementById("demo").innerHTML += x + "&lt;br&gt;";}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>运行结果</p><pre><code>使用 for-in 来循环对象的属性:namealexasite</code></pre><h2 id="JSON-对象中的数组"><a href="#JSON-对象中的数组" class="headerlink" title="JSON 对象中的数组"></a>JSON 对象中的数组</h2><p>对象属性的值可以是一个数组：</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;访问 JSON 对象数组值。&lt;/p&gt;&lt;p id="demo"&gt;&lt;/p&gt;&lt;script&gt;var myObj, x;myObj = {    "name":"网站",    "num":3,    "sites":[ "Google", "Runoob", "Taobao" ]}x = myObj.sites[0];document.getElementById("demo").innerHTML = x;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>运行结果</p><pre><code>访问 JSON 对象数组值。Google</code></pre><h2 id="修改数组值"><a href="#修改数组值" class="headerlink" title="修改数组值"></a>修改数组值</h2><p>你可以使用索引值来修改数组值：</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;修改 JSON 对象数组值。&lt;/p&gt;&lt;p id="demo"&gt;&lt;/p&gt;&lt;script&gt;var myObj, i, x = "";myObj = {    "name":"网站",    "num":3,    "sites":[ "Google", "Runoob", "Taobao" ]}; myObj.sites[1] = "Github";for (i in myObj.sites) {    x += myObj.sites[i] + "&lt;br&gt;";}document.getElementById("demo").innerHTML = x;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>运行结果</p><pre><code>修改 JSON 对象数组值。GoogleGithubTaobao</code></pre><h2 id="删除数组元素"><a href="#删除数组元素" class="headerlink" title="删除数组元素"></a>删除数组元素</h2><p>我们可以使用 delete 关键字来删除数组元素：</p><pre><code>&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset="utf-8"&gt;&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;删除数组元素&lt;/p&gt;&lt;p id="demo"&gt;&lt;/p&gt;&lt;script&gt;var myObj, i, x = "";myObj = {    "name":"网站",    "num":3,    "sites":[ "Google", "Runoob", "Taobao" ]};delete myObj.sites[1];for (i in myObj.sites) {    x += myObj.sites[i] + "&lt;br&gt;";}document.getElementById("demo").innerHTML = x;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</code></pre><p>运行结果</p><pre><code>删除数组元素GoogleTaobao</code></pre>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> json </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
